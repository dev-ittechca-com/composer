<fieldset>
  <legend>{% trans 'Profiling' %}</legend>
  <div class="floatleft">
    <h3>{% trans 'Detailed profile' %}</h3>
    <table id="profiletable">
      <thead>
      <tr>
        <th>
          {% trans 'Order' %}
          <div class="sorticon"></div>
        </th>
        <th>
          {% trans 'State' %}
          {{ show_mysql_docu('general-thread-states') }}
          <div class="sorticon"></div>
        </th>
        <th>
          {% trans 'Time' %}
          <div class="sorticon"></div>
        </th>
      </tr>
      </thead>
      <tbody>
        {{ detailed_table|raw }}
      </tbody>
    </table>
  </div>

  <div class="floatleft">
    <h3>{% trans 'Summary by state' %}</h3>
    <table id="profilesummarytable">
      <thead>
      <tr>
        <th>
          {% trans 'State' %}
          {{ show_mysql_docu('general-thread-states') }}
          <div class="sorticon"></div>
        </th>
        <th>
          {% trans 'Total Time' %}
          <div class="sorticon"></div>
        </th>
        <th>
          {% trans '% Time' %}
          <div class="sorticon"></div>
        </th>
        <th>
          {% trans 'Calls' %}
          <div class="sorticon"></div>
        </th>
        <th>
          {% trans 'Ã¸ Time' %}
          <div class="sorticon"></div>
        </th>
      </tr>
      </thead>
      <tbody>
        {{ summary_by_state|raw }}
      </tbody>
    </table>

    <script type="text/javascript">
      url_query = '{{ url_query }}';
    </script>
  </div>
  <div class='clearfloat'></div>

  <div id="profilingChartData" class="hide">
    {{ chart_json|json_encode() }}
  </div>
  <div id="profilingchart" class="hide"></div>

  <script type="text/javascript">
    AJAX.registerOnload('sql.js', function () {
      makeProfilingChart();
      initProfilingTables();
    });
  </script>
</fieldset>
