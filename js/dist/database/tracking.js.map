{"version":3,"file":"database/tracking.js","mappings":"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","sources":["webpack://phpmyadmin/external var \"jQuery\"","webpack://phpmyadmin/./js/src/database/tracking.js"],"sourcesContent":["module.exports = jQuery;","import $ from 'jquery';\n\n/**\n * Unbind all event handlers before tearing down the page\n */\nwindow.AJAX.registerTeardown('database/tracking.js', function () {\n    $('body').off('click', '#trackedForm.ajax button[name=\"submit_mult\"], #trackedForm.ajax input[name=\"submit_mult\"]');\n    $('body').off('click', '#untrackedForm.ajax button[name=\"submit_mult\"], #untrackedForm.ajax input[name=\"submit_mult\"]');\n    $('body').off('click', 'a.delete_tracking_anchor.ajax');\n});\n\n/**\n * Bind event handlers\n */\nwindow.AJAX.registerOnload('database/tracking.js', function () {\n    var $versions = $('#versions');\n    $versions.find('tr').first().find('th').append($('<div class=\"sorticon\"></div>'));\n    $versions.tablesorter({\n        sortList: [[1, 0]],\n        headers: {\n            0: { sorter: false },\n            2: { sorter: 'integer' },\n            5: { sorter: false },\n            6: { sorter: false },\n            7: { sorter: false }\n        }\n    });\n\n    var $noVersions = $('#noversions');\n    $noVersions.find('tr').first().find('th').append($('<div class=\"sorticon\"></div>'));\n    $noVersions.tablesorter({\n        sortList: [[1, 0]],\n        headers: {\n            0: { sorter: false },\n            2: { sorter: false }\n        }\n    });\n\n    var $body = $('body');\n\n    /**\n     * Handles multi submit for tracked tables\n     */\n    $body.on('click', '#trackedForm.ajax button[name=\"submit_mult\"], #trackedForm.ajax input[name=\"submit_mult\"]', function (e) {\n        e.preventDefault();\n        var $button = $(this);\n        var $form = $button.parent('form');\n        var argsep = window.CommonParams.get('arg_separator');\n        var submitData = $form.serialize() + argsep + 'ajax_request=true' + argsep + 'ajax_page_request=true' + argsep + 'submit_mult=' + $button.val();\n\n        if ($button.val() === 'delete_tracking') {\n            var question = window.Messages.strDeleteTrackingDataMultiple;\n            $button.confirm(question, $form.attr('action'), function (url) {\n                Functions.ajaxShowMessage(window.Messages.strDeletingTrackingData);\n                window.AJAX.source = $form;\n                $.post(url, submitData, window.AJAX.responseHandler);\n            });\n        } else {\n            Functions.ajaxShowMessage();\n            window.AJAX.source = $form;\n            $.post($form.attr('action'), submitData, window.AJAX.responseHandler);\n        }\n    });\n\n    /**\n     * Handles multi submit for untracked tables\n     */\n    $body.on('click', '#untrackedForm.ajax button[name=\"submit_mult\"], #untrackedForm.ajax input[name=\"submit_mult\"]', function (e) {\n        e.preventDefault();\n        var $button = $(this);\n        var $form = $button.parent('form');\n        var argsep = window.CommonParams.get('arg_separator');\n        var submitData = $form.serialize() + argsep + 'ajax_request=true' + argsep + 'ajax_page_request=true' + argsep + 'submit_mult=' + $button.val();\n        Functions.ajaxShowMessage();\n        window.AJAX.source = $form;\n        $.post($form.attr('action'), submitData, window.AJAX.responseHandler);\n    });\n\n    /**\n     * Ajax Event handler for 'Delete tracking'\n     */\n    $body.on('click', 'a.delete_tracking_anchor.ajax', function (e) {\n        e.preventDefault();\n        var $anchor = $(this);\n        var question = window.Messages.strDeleteTrackingData;\n        $anchor.confirm(question, $anchor.attr('href'), function (url) {\n            Functions.ajaxShowMessage(window.Messages.strDeletingTrackingData);\n            window.AJAX.source = $anchor;\n            var argSep = window.CommonParams.get('arg_separator');\n            var params = Functions.getJsConfirmCommonParam(this, $anchor.getPostData());\n            params += argSep + 'ajax_page_request=1';\n            $.post(url, params, window.AJAX.responseHandler);\n        });\n    });\n});\n"],"names":["$","window","AJAX","registerTeardown","off","registerOnload","$versions","find","first","append","tablesorter","sortList","headers","sorter","$noVersions","$body","on","e","preventDefault","$button","$form","parent","argsep","CommonParams","get","submitData","serialize","val","question","Messages","strDeleteTrackingDataMultiple","confirm","attr","url","Functions","ajaxShowMessage","strDeletingTrackingData","source","post","responseHandler","$anchor","strDeleteTrackingData","argSep","params","getJsConfirmCommonParam","getPostData"],"sourceRoot":""}