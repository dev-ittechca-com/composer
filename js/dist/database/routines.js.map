{"version":3,"file":"database/routines.js","mappings":"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","sources":["webpack://phpmyadmin/external var \"jQuery\"","webpack://phpmyadmin/./js/src/database/routines.js"],"sourcesContent":["module.exports = jQuery;","import $ from 'jquery';\nimport { AJAX } from '../modules/ajax.js';\nimport { Functions } from '../modules/functions.js';\nimport { Navigation } from '../modules/navigation.js';\nimport { ajaxRemoveMessage, ajaxShowMessage } from '../modules/ajax-message.js';\nimport getJsConfirmCommonParam from '../modules/functions/getJsConfirmCommonParam.js';\n\nAJAX.registerTeardown('database/routines.js', function () {\n    $(document).off('click', 'a.ajax.add_anchor');\n    $(document).off('click', 'a.ajax.edit_anchor');\n    $(document).off('click', 'a.ajax.exec_anchor');\n    $(document).off('click', 'a.ajax.export_anchor');\n    $(document).off('click', '#bulkActionExportButton');\n    $(document).off('click', 'a.ajax.drop_anchor');\n    $(document).off('click', '#bulkActionDropButton');\n    $(document).off('change', 'select[name=item_type]');\n    $(document).off('change', 'select[name^=item_param_type]');\n    $(document).off('change', 'select[name=item_returntype]');\n    $(document).off('click', '#addRoutineParameterButton');\n    $(document).off('click', 'a.routine_param_remove_anchor');\n});\n\nconst DatabaseRoutines = {\n    /**\n     * @var {string} paramTemplate Template for a row in the routine editor\n     */\n    paramTemplate: '',\n    /**\n     * @var $ajaxDialog Query object containing the reference to the\n     *                  dialog that contains the editor\n     */\n    $ajaxDialog: null,\n    /**\n     * @var syntaxHiglighter Reference to the codemirror editor\n     */\n    syntaxHiglighter: null,\n    /**\n     * Validate editor form fields.\n     *\n     * @return {bool}\n     */\n    validate: function () {\n        /**\n         * @var $elm a jQuery object containing the reference\n         *           to an element that is being validated\n         */\n        var $elm = null;\n        // Common validation. At the very least the name\n        // and the definition must be provided for an item\n        $elm = $('table.rte_table').last().find('input[name=item_name]');\n        if ($elm.val() === '') {\n            $elm.trigger('focus');\n            alert(window.Messages.strFormEmpty);\n            return false;\n        }\n        $elm = $('table.rte_table').find('textarea[name=item_definition]');\n        if ($elm.val() === '') {\n            if (this.syntaxHiglighter !== null) {\n                this.syntaxHiglighter.focus();\n            } else {\n                $('textarea[name=item_definition]').last().trigger('focus');\n            }\n            alert(window.Messages.strFormEmpty);\n            return false;\n        }\n        // The validation has so far passed, so now\n        // we can validate item-specific fields.\n        return this.validateCustom();\n    },\n\n    exportDialog: function ($this) {\n        var $msg = ajaxShowMessage();\n        if ($this.attr('id') === 'bulkActionExportButton') {\n            var combined = {\n                success: true,\n                title: window.Messages.strExport,\n                message: '',\n                error: ''\n            };\n            // export anchors of all selected rows\n            var exportAnchors = $('input.checkall:checked').parents('tr').find('.export_anchor');\n            var count = exportAnchors.length;\n            var returnCount = 0;\n\n            // No routine is exportable (due to privilege issues)\n            if (count === 0) {\n                ajaxShowMessage(window.Messages.NoExportable);\n            }\n            var p = $.when();\n            exportAnchors.each(function () {\n                var h = $(this).attr('href');\n                p = p.then(function () {\n                    return $.get(h, { 'ajax_request': true }, function (data) {\n                        returnCount++;\n                        if (data.success === true) {\n                            combined.message += '\\n' + data.message + '\\n';\n                            if (returnCount === count) {\n                                showExport(combined);\n                            }\n                        } else {\n                            // complain even if one export is failing\n                            combined.success = false;\n                            combined.error += '\\n' + data.error + '\\n';\n                            if (returnCount === count) {\n                                showExport(combined);\n                            }\n                        }\n                    });\n                });\n            });\n        } else {\n            $.get($this.attr('href'), { 'ajax_request': true }, showExport);\n        }\n        ajaxRemoveMessage($msg);\n\n        function showExport (data) {\n            if (data.success === true) {\n                ajaxRemoveMessage($msg);\n                /**\n                 * @var buttonOptions Object containing options\n                 *                     for jQueryUI dialog buttons\n                 */\n                var buttonOptions = {\n                    [window.Messages.strClose]: {\n                        text: window.Messages.strClose,\n                        class: 'btn btn-primary',\n                        click: function () {\n                            $(this).dialog('close').remove();\n                        }\n                    },\n                };\n                /**\n                 * Display the dialog to the user\n                 */\n                data.message = '<textarea cols=\"40\" rows=\"15\" class=\"w-100\">' + data.message + '</textarea>';\n                var $ajaxDialog = $('<div>' + data.message + '</div>').dialog({\n                    classes: {\n                        'ui-dialog-titlebar-close': 'btn-close'\n                    },\n                    width: 500,\n                    buttons: buttonOptions,\n                    title: data.title\n                });\n                // Attach syntax highlighted editor to export dialog\n                /**\n                 * @var $elm jQuery object containing the reference\n                 *           to the Export textarea.\n                 */\n                var $elm = $ajaxDialog.find('textarea');\n                Functions.getSqlEditor($elm);\n            } else {\n                ajaxShowMessage(data.error, false);\n            }\n        } // end showExport()\n    },  // end exportDialog()\n    editorDialog: function (isNew, $this) {\n        var that = this;\n        /**\n         * @var $edit_row jQuery object containing the reference to\n         *                the row of the the item being edited\n         *                from the list of items\n         */\n        var $editRow = null;\n        if ($this.hasClass('edit_anchor')) {\n            // Remember the row of the item being edited for later,\n            // so that if the edit is successful, we can replace the\n            // row with info about the modified item.\n            $editRow = $this.parents('tr');\n        }\n        /**\n         * @var $msg jQuery object containing the reference to\n         *           the AJAX message shown to the user\n         */\n        var $msg = ajaxShowMessage();\n        $.get($this.attr('href'), { 'ajax_request': true }, function (data) {\n            if (data.success === true) {\n                var buttonOptions = {\n                    [window.Messages.strGo]: {\n                        text: window.Messages.strGo,\n                        class: 'btn btn-primary',\n                    },\n                    [window.Messages.strClose]: {\n                        text: window.Messages.strClose,\n                        class: 'btn btn-secondary',\n                    },\n                };\n                // We have successfully fetched the editor form\n                ajaxRemoveMessage($msg);\n                // Now define the function that is called when\n                // the user presses the \"Go\" button\n                buttonOptions[window.Messages.strGo].click = function () {\n                    // Move the data from the codemirror editor back to the\n                    // textarea, where it can be used in the form submission.\n                    if (typeof window.CodeMirror !== 'undefined') {\n                        that.syntaxHiglighter.save();\n                    }\n                    // Validate editor and submit request, if passed.\n                    if (that.validate()) {\n                        /**\n                         * @var data Form data to be sent in the AJAX request\n                         */\n                        var data = $('form.rte_form').last().serialize();\n                        $msg = ajaxShowMessage(\n                            window.Messages.strProcessingRequest\n                        );\n                        var url = $('form.rte_form').last().attr('action');\n                        $.post(url, data, function (data) {\n                            if (data.success === true) {\n                                // Item created successfully\n                                ajaxRemoveMessage($msg);\n                                Functions.slidingMessage(data.message);\n                                that.$ajaxDialog.dialog('close');\n\n                                var tableId = '#' + data.tableType + 'Table';\n                                // If we are in 'edit' mode, we must\n                                // remove the reference to the old row.\n                                if (mode === 'edit' && $editRow !== null) {\n                                    $editRow.remove();\n                                }\n                                // Sometimes, like when moving a trigger from\n                                // a table to another one, the new row should\n                                // not be inserted into the list. In this case\n                                // \"data.insert\" will be set to false.\n                                if (data.insert) {\n                                    // Insert the new row at the correct\n                                    // location in the list of items\n                                    /**\n                                     * @var text Contains the name of an item from\n                                     *           the list that is used in comparisons\n                                     *           to find the correct location where\n                                     *           to insert a new row.\n                                     */\n                                    var text = '';\n                                    /**\n                                     * @var inserted Whether a new item has been\n                                     *               inserted in the list or not\n                                     */\n                                    var inserted = false;\n                                    $(tableId + '.data').find('tr').each(function () {\n                                        text = $(this)\n                                            .children('td')\n                                            .eq(0)\n                                            .find('strong')\n                                            .text()\n                                            .toUpperCase()\n                                            .trim();\n                                        if (text !== '' && text > data.name) {\n                                            $(this).before(data.new_row);\n                                            inserted = true;\n                                            return false;\n                                        }\n                                    });\n                                    if (! inserted) {\n                                        // If we didn't manage to insert the row yet,\n                                        // it must belong at the end of the list,\n                                        // so we insert it there.\n                                        $(tableId + '.data').append(data.new_row);\n                                    }\n                                    // Fade-in the new row\n                                    $('tr.ajaxInsert')\n                                        .show('slow')\n                                        .removeClass('ajaxInsert');\n                                } else if ($(tableId + '.data').find('tr').has('td').length === 0) {\n                                    // If we are not supposed to insert the new row,\n                                    // we will now check if the table is empty and\n                                    // needs to be hidden. This will be the case if\n                                    // we were editing the only item in the list,\n                                    // which we removed and will not be inserting\n                                    // something else in its place.\n                                    $(tableId + '.data').hide('slow', function () {\n                                        $('#nothing2display').show('slow');\n                                    });\n                                }\n                                // Now we have inserted the row at the correct\n                                // position, but surely at least some row classes\n                                // are wrong now. So we will iterate through\n                                // all rows and assign correct classes to them\n                                /**\n                                 * @var ct Count of processed rows\n                                 */\n                                var ct = 0;\n                                /**\n                                 * @var rowclass Class to be attached to the row\n                                 *               that is being processed\n                                 */\n                                var rowclass = '';\n                                $(tableId + '.data').find('tr').has('td').each(function () {\n                                    rowclass = (ct % 2 === 0) ? 'odd' : 'even';\n                                    $(this).removeClass('odd even').addClass(rowclass);\n                                    ct++;\n                                });\n                                // If this is the first item being added, remove\n                                // the \"No items\" message and show the list.\n                                if ($(tableId + '.data').find('tr').has('td').length > 0 &&\n                                    $('#nothing2display').is(':visible')\n                                ) {\n                                    $('#nothing2display').hide('slow', function () {\n                                        $(tableId + '.data').show('slow');\n                                    });\n                                }\n                                Navigation.reload();\n                            } else {\n                                ajaxShowMessage(data.error, false);\n                            }\n                        }); // end $.post()\n                    } // end \"if (that.validate())\"\n                }; // end of function that handles the submission of the Editor\n                buttonOptions[window.Messages.strClose].click = function () {\n                    $(this).dialog('close');\n                };\n                /**\n                 * Display the dialog to the user\n                 */\n                that.$ajaxDialog = $('<div id=\"rteDialog\">' + data.message + '</div>').dialog({\n                    classes: {\n                        'ui-dialog-titlebar-close': 'btn-close'\n                    },\n                    height: 400,\n                    width: 700,\n                    minWidth: 500,\n                    buttons: buttonOptions,\n                    // Issue #15810 - use button titles for modals (eg: new procedure)\n                    // Respect the order: title on href tag, href content, title sent in response\n                    title: $this.attr('title') || $this.text() || $(data.title).text(),\n                    modal: true,\n                    open: function () {\n                        $('#rteDialog').dialog('option', 'max-height', $(window).height());\n                        if ($('#rteDialog').parents('.ui-dialog').height() > $(window).height()) {\n                            $('#rteDialog').dialog('option', 'height', $(window).height());\n                        }\n                        $(this).find('input[name=item_name]').trigger('focus');\n                        $(this).find('input.datefield').each(function () {\n                            Functions.addDatepicker($(this).css('width', '95%'), 'date');\n                        });\n                        $(this).find('input.datetimefield').each(function () {\n                            Functions.addDatepicker($(this).css('width', '95%'), 'datetime');\n                        });\n                        $.datepicker.initialized = false;\n                    },\n                    close: function () {\n                        $(this).remove();\n                    }\n                });\n                /**\n                 * @var mode Used to remember whether the editor is in\n                 *           \"Edit\" or \"Add\" mode\n                 */\n                var mode = 'add';\n                if ($('input[name=editor_process_edit]').length > 0) {\n                    mode = 'edit';\n                }\n                // Attach syntax highlighted editor to the definition\n                /**\n                 * @var elm jQuery object containing the reference to\n                 *                 the Definition textarea.\n                 */\n                var $elm = $('textarea[name=item_definition]').last();\n                var linterOptions = {};\n                linterOptions.routineEditor = true;\n                that.syntaxHiglighter = Functions.getSqlEditor($elm, {}, 'both', linterOptions);\n\n                // Execute item-specific code\n                that.postDialogShow(data);\n            } else {\n                ajaxShowMessage(data.error, false);\n            }\n        }); // end $.get()\n    },\n\n    dropDialog: function ($this) {\n        /**\n         * @var $curr_row Object containing reference to the current row\n         */\n        var $currRow = $this.parents('tr');\n        /**\n         * @var question String containing the question to be asked for confirmation\n         */\n        var question = $('<div></div>').text(\n            $currRow.children('td').children('.drop_sql').html()\n        );\n        // We ask for confirmation first here, before submitting the ajax request\n        $this.confirm(question, $this.attr('href'), function (url) {\n            /**\n             * @var msg jQuery object containing the reference to\n             *          the AJAX message shown to the user\n             */\n            var $msg = ajaxShowMessage(window.Messages.strProcessingRequest);\n            var params = getJsConfirmCommonParam(this, $this.getPostData());\n            $.post(url, params, function (data) {\n                if (data.success === true) {\n                    /**\n                     * @var $table Object containing reference\n                     *             to the main list of elements\n                     */\n                    var $table = $currRow.parent().parent();\n                    // Check how many rows will be left after we remove\n                    // the one that the user has requested us to remove\n                    if ($table.find('tr').length === 3) {\n                        // If there are two rows left, it means that they are\n                        // the header of the table and the rows that we are\n                        // about to remove, so after the removal there will be\n                        // nothing to show in the table, so we hide it.\n                        $table.hide('slow', function () {\n                            $(this).find('tr.even, tr.odd').remove();\n                            $('.withSelected').remove();\n                            $('#nothing2display').show('slow');\n                        });\n                    } else {\n                        $currRow.hide('slow', function () {\n                            $(this).remove();\n                            // Now we have removed the row from the list, but maybe\n                            // some row classes are wrong now. So we will iterate\n                            // through all rows and assign correct classes to them.\n                            /**\n                             * @var ct Count of processed rows\n                             */\n                            var ct = 0;\n                            /**\n                             * @var rowclass Class to be attached to the row\n                             *               that is being processed\n                             */\n                            var rowclass = '';\n                            $table.find('tr').has('td').each(function () {\n                                rowclass = (ct % 2 === 1) ? 'odd' : 'even';\n                                $(this).removeClass('odd even').addClass(rowclass);\n                                ct++;\n                            });\n                        });\n                    }\n                    // Get rid of the \"Loading\" message\n                    ajaxRemoveMessage($msg);\n                    // Show the query that we just executed\n                    Functions.slidingMessage(data.sql_query);\n                    Navigation.reload();\n                } else {\n                    ajaxShowMessage(data.error, false);\n                }\n            }); // end $.post()\n        });\n    },\n\n    dropMultipleDialog: function ($this) {\n        // We ask for confirmation here\n        $this.confirm(window.Messages.strDropRTEitems, '', function () {\n            /**\n             * @var msg jQuery object containing the reference to\n             *          the AJAX message shown to the user\n             */\n            var $msg = ajaxShowMessage(window.Messages.strProcessingRequest);\n\n            // drop anchors of all selected rows\n            var dropAnchors = $('input.checkall:checked').parents('tr').find('.drop_anchor');\n            var success = true;\n            var count = dropAnchors.length;\n            var returnCount = 0;\n\n            dropAnchors.each(function () {\n                var $anchor = $(this);\n                /**\n                 * @var $curr_row Object containing reference to the current row\n                 */\n                var $currRow = $anchor.parents('tr');\n                var params = getJsConfirmCommonParam(this, $anchor.getPostData());\n                $.post($anchor.attr('href'), params, function (data) {\n                    returnCount++;\n                    if (data.success === true) {\n                        /**\n                         * @var $table Object containing reference\n                         *             to the main list of elements\n                         */\n                        var $table = $currRow.parent().parent();\n                        // Check how many rows will be left after we remove\n                        // the one that the user has requested us to remove\n                        if ($table.find('tr').length === 3) {\n                            // If there are two rows left, it means that they are\n                            // the header of the table and the rows that we are\n                            // about to remove, so after the removal there will be\n                            // nothing to show in the table, so we hide it.\n                            $table.hide('slow', function () {\n                                $(this).find('tr.even, tr.odd').remove();\n                                $('.withSelected').remove();\n                                $('#nothing2display').show('slow');\n                            });\n                        } else {\n                            $currRow.hide('fast', function () {\n                                // we will iterate\n                                // through all rows and assign correct classes to them.\n                                /**\n                                 * @var ct Count of processed rows\n                                 */\n                                var ct = 0;\n                                /**\n                                 * @var rowclass Class to be attached to the row\n                                 *               that is being processed\n                                 */\n                                var rowclass = '';\n                                $table.find('tr').has('td').each(function () {\n                                    rowclass = (ct % 2 === 1) ? 'odd' : 'even';\n                                    $(this).removeClass('odd even').addClass(rowclass);\n                                    ct++;\n                                });\n                            });\n                            $currRow.remove();\n                        }\n                        if (returnCount === count) {\n                            if (success) {\n                                // Get rid of the \"Loading\" message\n                                ajaxRemoveMessage($msg);\n                                $('#rteListForm_checkall').prop({ checked: false, indeterminate: false });\n                            }\n                            Navigation.reload();\n                        }\n                    } else {\n                        ajaxShowMessage(data.error, false);\n                        success = false;\n                        if (returnCount === count) {\n                            Navigation.reload();\n                        }\n                    }\n                }); // end $.post()\n            }); // end drop_anchors.each()\n        });\n    },\n\n    /**\n     * Execute some code after the ajax dialog for the editor is shown.\n     *\n     * @param data JSON-encoded data from the ajax request\n     */\n    postDialogShow: function (data) {\n        // Cache the template for a parameter table row\n        DatabaseRoutines.paramTemplate = data.paramTemplate;\n        var that = this;\n        // Make adjustments in the dialog to make it AJAX compatible\n        $('td.routine_param_remove').show();\n        // Enable/disable the 'options' dropdowns for parameters as necessary\n        $('table.routine_params_table').last().find('th[colspan=2]').attr('colspan', '1');\n        $('table.routine_params_table').last().find('tr').has('td').each(function () {\n            that.setOptionsForParameter(\n                $(this).find('select[name^=item_param_type]'),\n                $(this).find('input[name^=item_param_length]'),\n                $(this).find('select[name^=item_param_opts_text]'),\n                $(this).find('select[name^=item_param_opts_num]')\n            );\n        });\n        // Enable/disable the 'options' dropdowns for\n        // function return value as necessary\n        this.setOptionsForParameter(\n            $('table.rte_table').last().find('select[name=item_returntype]'),\n            $('table.rte_table').last().find('input[name=item_returnlength]'),\n            $('table.rte_table').last().find('select[name=item_returnopts_text]'),\n            $('table.rte_table').last().find('select[name=item_returnopts_num]')\n        );\n        // Allow changing parameter order\n        $('.routine_params_table tbody').sortable({\n            containment: '.routine_params_table tbody',\n            handle: '.dragHandle',\n            stop: function () {\n                that.reindexParameters();\n            },\n        });\n    },\n    /**\n     * Reindexes the parameters after dropping a parameter or reordering parameters\n     */\n    reindexParameters: function () {\n        /**\n         * @var index Counter used for reindexing the input\n         *            fields in the routine parameters table\n         */\n        var index = 0;\n        $('table.routine_params_table tbody').find('tr').each(function () {\n            $(this).find(':input').each(function () {\n                /**\n                 * @var inputname The value of the name attribute of\n                 *                the input field being reindexed\n                 */\n                var inputname = $(this).attr('name');\n                if (inputname.startsWith('item_param_dir')) {\n                    $(this).attr('name', inputname.substring(0, 14) + '[' + index + ']');\n                } else if (inputname.startsWith('item_param_name')) {\n                    $(this).attr('name', inputname.substring(0, 15) + '[' + index + ']');\n                } else if (inputname.startsWith('item_param_type')) {\n                    $(this).attr('name', inputname.substring(0, 15) + '[' + index + ']');\n                } else if (inputname.startsWith('item_param_length')) {\n                    $(this).attr('name', inputname.substring(0, 17) + '[' + index + ']');\n                    $(this).attr('id', 'item_param_length_' + index);\n                } else if (inputname.startsWith('item_param_opts_text')) {\n                    $(this).attr('name', inputname.substring(0, 20) + '[' + index + ']');\n                } else if (inputname.startsWith('item_param_opts_num')) {\n                    $(this).attr('name', inputname.substring(0, 19) + '[' + index + ']');\n                }\n            });\n            index++;\n        });\n    },\n    /**\n     * Validate custom editor form fields.\n     *\n     * @return {bool}\n     */\n    validateCustom: function () {\n        /**\n         * @var isSuccess Stores the outcome of the validation\n         */\n        var isSuccess = true;\n        /**\n         * @var inputname The value of the \"name\" attribute for\n         *                the field that is being processed\n         */\n        var inputname = '';\n        this.$ajaxDialog.find('table.routine_params_table').last().find('tr').each(function () {\n            // Every parameter of a routine must have\n            // a non-empty direction, name and type\n            if (isSuccess) {\n                $(this).find(':input').each(function () {\n                    inputname = $(this).attr('name');\n                    if (inputname.startsWith('item_param_dir') ||\n                        inputname.startsWith('item_param_name') ||\n                        inputname.startsWith('item_param_type')) {\n                        if ($(this).val() === '') {\n                            $(this).trigger('focus');\n                            isSuccess = false;\n                            return false;\n                        }\n                    }\n                });\n            } else {\n                return false;\n            }\n        });\n        if (! isSuccess) {\n            alert(window.Messages.strFormEmpty);\n            return false;\n        }\n        this.$ajaxDialog.find('table.routine_params_table').last().find('tr').each(function () {\n            // SET, ENUM, VARCHAR and VARBINARY fields must have length/values\n            var $inputtyp = $(this).find('select[name^=item_param_type]');\n            var $inputlen = $(this).find('input[name^=item_param_length]');\n            if ($inputtyp.length && $inputlen.length) {\n                if (($inputtyp.val() === 'ENUM' || $inputtyp.val() === 'SET' || $inputtyp.val().startsWith('VAR')) &&\n                    $inputlen.val() === ''\n                ) {\n                    $inputlen.trigger('focus');\n                    isSuccess = false;\n                    return false;\n                }\n            }\n        });\n        if (! isSuccess) {\n            alert(window.Messages.strFormEmpty);\n            return false;\n        }\n        if (this.$ajaxDialog.find('select[name=item_type]').find(':selected').val() === 'FUNCTION') {\n            // The length/values of return variable for functions must\n            // be set, if the type is SET, ENUM, VARCHAR or VARBINARY.\n            var $returntyp = this.$ajaxDialog.find('select[name=item_returntype]');\n            var $returnlen = this.$ajaxDialog.find('input[name=item_returnlength]');\n            if (($returntyp.val() === 'ENUM' || $returntyp.val() === 'SET' || $returntyp.val().startsWith('VAR')) &&\n                $returnlen.val() === ''\n            ) {\n                $returnlen.trigger('focus');\n                alert(window.Messages.strFormEmpty);\n                return false;\n            }\n        }\n        if ($('select[name=item_type]').find(':selected').val() === 'FUNCTION') {\n            // A function must contain a RETURN statement in its definition\n            if (this.$ajaxDialog.find('table.rte_table').find('textarea[name=item_definition]').val().toUpperCase().indexOf('RETURN') < 0) {\n                this.syntaxHiglighter.focus();\n                alert(window.Messages.MissingReturn);\n                return false;\n            }\n        }\n        return true;\n    },\n    /**\n     * Enable/disable the \"options\" dropdown and \"length\" input for\n     * parameters and the return variable in the routine editor\n     * as necessary.\n     *\n     * @param $type a jQuery object containing the reference\n     *              to the \"Type\" dropdown box\n     * @param $len  a jQuery object containing the reference\n     *              to the \"Length\" input box\n     * @param $text a jQuery object containing the reference\n     *              to the dropdown box with options for\n     *              parameters of text type\n     * @param $num  a jQuery object containing the reference\n     *              to the dropdown box with options for\n     *              parameters of numeric type\n     */\n    setOptionsForParameter: function ($type, $len, $text, $num) {\n        /**\n         * @var no_opts a jQuery object containing the reference\n         *              to an element to be displayed when no\n         *              options are available\n         */\n        var $noOpts = $text.parent().parent().find('.no_opts');\n        /**\n         * @var no_len a jQuery object containing the reference\n         *             to an element to be displayed when no\n         *             \"length/values\" field is available\n         */\n        var $noLen = $len.parent().parent().find('.no_len');\n\n        // Process for parameter options\n        switch ($type.val()) {\n        case 'TINYINT':\n        case 'SMALLINT':\n        case 'MEDIUMINT':\n        case 'INT':\n        case 'BIGINT':\n        case 'DECIMAL':\n        case 'FLOAT':\n        case 'DOUBLE':\n        case 'REAL':\n            $text.parent().hide();\n            $num.parent().show();\n            $noOpts.hide();\n            break;\n        case 'TINYTEXT':\n        case 'TEXT':\n        case 'MEDIUMTEXT':\n        case 'LONGTEXT':\n        case 'CHAR':\n        case 'VARCHAR':\n        case 'SET':\n        case 'ENUM':\n            $text.parent().show();\n            $num.parent().hide();\n            $noOpts.hide();\n            break;\n        default:\n            $text.parent().hide();\n            $num.parent().hide();\n            $noOpts.show();\n            break;\n        }\n        // Process for parameter length\n        switch ($type.val()) {\n        case 'DATE':\n        case 'TINYBLOB':\n        case 'TINYTEXT':\n        case 'BLOB':\n        case 'TEXT':\n        case 'MEDIUMBLOB':\n        case 'MEDIUMTEXT':\n        case 'LONGBLOB':\n        case 'LONGTEXT':\n            $text.closest('tr').find('a').first().hide();\n            $len.parent().hide();\n            $noLen.show();\n            break;\n        default:\n            if ($type.val() === 'ENUM' || $type.val() === 'SET') {\n                $text.closest('tr').find('a').first().show();\n            } else {\n                $text.closest('tr').find('a').first().hide();\n            }\n            $len.parent().show();\n            $noLen.hide();\n            break;\n        }\n    },\n    executeDialog: function ($this) {\n        /**\n         * @var msg jQuery object containing the reference to\n         *          the AJAX message shown to the user\n         */\n        var $msg = ajaxShowMessage();\n        var params = getJsConfirmCommonParam($this[0], $this.getPostData());\n        $.post($this.attr('href'), params, function (data) {\n            if (data.success === true) {\n                ajaxRemoveMessage($msg);\n                // If 'data.dialog' is true we show a dialog with a form\n                // to get the input parameters for routine, otherwise\n                // we just show the results of the query\n                if (data.dialog) {\n                    var buttonOptions = {\n                        [window.Messages.strGo]: {\n                            text: window.Messages.strGo,\n                            class: 'btn btn-primary',\n                        },\n                        [window.Messages.strClose]: {\n                            text: window.Messages.strClose,\n                            class: 'btn btn-secondary',\n                        },\n                    };\n                    // Define the function that is called when\n                    // the user presses the \"Go\" button\n                    buttonOptions[window.Messages.strGo].click = function () {\n                        /**\n                         * @var data Form data to be sent in the AJAX request\n                         */\n                        var data = $('form.rte_form').last().serialize();\n                        $msg = ajaxShowMessage(\n                            window.Messages.strProcessingRequest\n                        );\n                        $.post('index.php?route=/database/routines', data, function (data) {\n                            if (data.success === true) {\n                                // Routine executed successfully\n                                ajaxRemoveMessage($msg);\n                                Functions.slidingMessage(data.message);\n                                $ajaxDialog.dialog('close');\n                            } else {\n                                ajaxShowMessage(data.error, false);\n                            }\n                        });\n                    };\n                    buttonOptions[window.Messages.strClose].click = function () {\n                        $(this).dialog('close');\n                    };\n                    /**\n                     * Display the dialog to the user\n                     */\n                    var $ajaxDialog = $('<div>' + data.message + '</div>').dialog({\n                        classes: {\n                            'ui-dialog-titlebar-close': 'btn-close'\n                        },\n                        width: 650,\n                        buttons: buttonOptions,\n                        title: data.title,\n                        modal: true,\n                        close: function () {\n                            $(this).remove();\n                        }\n                    });\n                    $ajaxDialog.find('input[name^=params]').first().trigger('focus');\n                    /**\n                     * Attach the datepickers to the relevant form fields\n                     */\n                    $ajaxDialog.find('input.datefield, input.datetimefield').each(function () {\n                        Functions.addDatepicker($(this).css('width', '95%'));\n                    });\n                    /*\n                    * Define the function if the user presses enter\n                    */\n                    $('form.rte_form').on('keyup', function (event) {\n                        event.preventDefault();\n                        if (event.keyCode === 13) {\n                            /**\n                             * @var data Form data to be sent in the AJAX request\n                             */\n                            var data = $(this).serialize();\n                            $msg = ajaxShowMessage(\n                                window.Messages.strProcessingRequest\n                            );\n                            var url = $(this).attr('action');\n                            $.post(url, data, function (data) {\n                                if (data.success === true) {\n                                    // Routine executed successfully\n                                    ajaxRemoveMessage($msg);\n                                    Functions.slidingMessage(data.message);\n                                    $('form.rte_form').off('keyup');\n                                    $ajaxDialog.remove();\n                                } else {\n                                    ajaxShowMessage(data.error, false);\n                                }\n                            });\n                        }\n                    });\n                } else {\n                    // Routine executed successfully\n                    Functions.slidingMessage(data.message);\n                }\n            } else {\n                ajaxShowMessage(data.error, false);\n            }\n        }); // end $.post()\n    }\n};\n\nAJAX.registerOnload('database/routines.js', function () {\n    $(document).on('click', 'a.ajax.add_anchor', function (event) {\n        event.preventDefault();\n        $.datepicker.initialized = false;\n        DatabaseRoutines.editorDialog(true, $(this));\n    });\n    $(document).on('click', 'a.ajax.edit_anchor', function (event) {\n        event.preventDefault();\n        DatabaseRoutines.editorDialog(false, $(this));\n    });\n    $(document).on('click', 'a.ajax.exec_anchor', function (event) {\n        event.preventDefault();\n        DatabaseRoutines.executeDialog($(this));\n    });\n\n    $(document).on('click', 'a.ajax.export_anchor', function (event) {\n        event.preventDefault();\n        DatabaseRoutines.exportDialog($(this));\n    });\n    $(document).on('click', '#bulkActionExportButton', function (event) {\n        event.preventDefault();\n        DatabaseRoutines.exportDialog($(this));\n    });\n\n    $(document).on('click', 'a.ajax.drop_anchor', function (event) {\n        event.preventDefault();\n        DatabaseRoutines.dropDialog($(this));\n    });\n    $(document).on('click', '#bulkActionDropButton', function (event) {\n        event.preventDefault();\n        DatabaseRoutines.dropMultipleDialog($(this));\n    });\n\n    $(document).on('change', 'select[name=item_type]', function () {\n        $(this).closest('table').find('tr.routine_return_row, .routine_direction_cell').toggle();\n    });\n\n    $(document).on('change', 'select[name^=item_param_type]', function () {\n        const $row = $(this).parents('tr').first();\n        DatabaseRoutines.setOptionsForParameter(\n            $row.find('select[name^=item_param_type]'),\n            $row.find('input[name^=item_param_length]'),\n            $row.find('select[name^=item_param_opts_text]'),\n            $row.find('select[name^=item_param_opts_num]')\n        );\n    });\n\n    $(document).on('change', 'select[name=item_returntype]', function () {\n        const $table = $(this).closest('table.rte_table');\n        DatabaseRoutines.setOptionsForParameter(\n            $table.find('select[name=item_returntype]'),\n            $table.find('input[name=item_returnlength]'),\n            $table.find('select[name=item_returnopts_text]'),\n            $table.find('select[name=item_returnopts_num]')\n        );\n    });\n\n    $(document).on('click', '#addRoutineParameterButton', function (event) {\n        event.preventDefault();\n        /**\n         * @var routine_params_table jQuery object containing the reference\n         *                           to the routine parameters table\n         */\n        const $routineParamsTable = $(this).closest('div.ui-dialog').find('.routine_params_table');\n        /**\n         * @var new_param_row A string containing the HTML code for the\n         *                    new row for the routine parameters table\n         */\n        const newParamRow = DatabaseRoutines.paramTemplate.replace(/%s/g, $routineParamsTable.find('tr').length - 1);\n        // Append the new row to the parameters table\n        $routineParamsTable.append(newParamRow);\n        // Make sure that the row is correctly shown according to the type of routine\n        if ($(this).closest('div.ui-dialog').find('table.rte_table select[name=item_type]').val() === 'FUNCTION') {\n            $('tr.routine_return_row').show();\n            $('td.routine_direction_cell').hide();\n        }\n        /**\n         * @var newrow jQuery object containing the reference to the newly\n         *             inserted row in the routine parameters table\n         */\n        const $newrow = $(this).closest('div.ui-dialog').find('table.routine_params_table').find('tr').has('td').last();\n        // Enable/disable the 'options' dropdowns for parameters as necessary\n        DatabaseRoutines.setOptionsForParameter(\n            $newrow.find('select[name^=item_param_type]'),\n            $newrow.find('input[name^=item_param_length]'),\n            $newrow.find('select[name^=item_param_opts_text]'),\n            $newrow.find('select[name^=item_param_opts_num]')\n        );\n    });\n\n    $(document).on('click', 'a.routine_param_remove_anchor', function (event) {\n        event.preventDefault();\n        $(this).parent().parent().remove();\n        // After removing a parameter, the indices of the name attributes in\n        // the input fields lose the correct order and need to be reordered.\n        DatabaseRoutines.reindexParameters();\n    });\n});\n"],"names":["$","AJAX","Functions","Navigation","ajaxRemoveMessage","ajaxShowMessage","getJsConfirmCommonParam","registerTeardown","document","off","DatabaseRoutines","paramTemplate","$ajaxDialog","syntaxHiglighter","validate","$elm","last","find","val","trigger","alert","window","Messages","strFormEmpty","focus","validateCustom","exportDialog","$this","$msg","attr","combined","success","title","strExport","message","error","exportAnchors","parents","count","length","returnCount","NoExportable","p","when","each","h","then","get","data","showExport","buttonOptions","strClose","text","class","click","dialog","remove","classes","width","buttons","getSqlEditor","editorDialog","isNew","that","$editRow","hasClass","strGo","CodeMirror","save","serialize","strProcessingRequest","url","post","slidingMessage","tableId","tableType","mode","insert","inserted","children","eq","toUpperCase","trim","name","before","new_row","append","show","removeClass","has","hide","ct","rowclass","addClass","is","reload","height","minWidth","modal","open","addDatepicker","css","datepicker","initialized","close","linterOptions","routineEditor","postDialogShow","dropDialog","$currRow","question","html","confirm","params","getPostData","$table","parent","sql_query","dropMultipleDialog","strDropRTEitems","dropAnchors","$anchor","prop","checked","indeterminate","setOptionsForParameter","sortable","containment","handle","stop","reindexParameters","index","inputname","startsWith","substring","isSuccess","$inputtyp","$inputlen","$returntyp","$returnlen","indexOf","MissingReturn","$type","$len","$text","$num","$noOpts","$noLen","closest","first","executeDialog","on","event","preventDefault","keyCode","registerOnload","toggle","$row","$routineParamsTable","newParamRow","replace","$newrow"],"sourceRoot":""}