{"version":3,"file":"normalization.js","mappings":"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","sources":["webpack://phpmyadmin/external var \"jQuery\"","webpack://phpmyadmin/./js/src/normalization.js"],"sourcesContent":["module.exports = jQuery;","import $ from 'jquery';\n\n/**\n * @fileoverview   events handling from normalization page\n * @name            normalization\n *\n * @requires    jQuery\n */\n\n/**\n * AJAX scripts for normalization\n *\n */\n\nvar normalizeto = '1nf';\nvar primaryKey;\nvar dataParsed = null;\n\nfunction appendHtmlColumnsList () {\n    $.post(\n        'index.php?route=/normalization/get-columns',\n        {\n            'ajax_request': true,\n            'db': window.CommonParams.get('db'),\n            'table': window.CommonParams.get('table'),\n            'server': window.CommonParams.get('server'),\n        },\n        function (data) {\n            if (data.success === true) {\n                $('select[name=makeAtomic]').html(data.message);\n            }\n        }\n    );\n}\n\nfunction goTo3NFStep1 (newTables) {\n    var tables = newTables;\n    if (Object.keys(tables).length === 1) {\n        tables = [window.CommonParams.get('table')];\n    }\n    $.post(\n        'index.php?route=/normalization/3nf/step1',\n        {\n            'ajax_request': true,\n            'db': window.CommonParams.get('db'),\n            'server': window.CommonParams.get('server'),\n            'tables': tables,\n        }, function (data) {\n            $('#page_content').find('h3').html(window.Messages.str3NFNormalization);\n            $('#mainContent').find('legend').html(data.legendText);\n            $('#mainContent').find('h4').html(data.headText);\n            $('#mainContent').find('p').html(data.subText);\n            $('#mainContent').find('#extra').html(data.extra);\n            $('#extra').find('form').each(function () {\n                var formId = $(this).attr('id');\n                var colName = $(this).data('colname');\n                $('#' + formId + ' input[value=\\'' + colName + '\\']').next().remove();\n                $('#' + formId + ' input[value=\\'' + colName + '\\']').remove();\n            });\n            $('#mainContent').find('#newCols').html('');\n            $('.tblFooters').html('');\n\n            if (data.subText !== '') {\n                $('<input>')\n                    .attr({\n                        type: 'button',\n                        value: window.Messages.strDone,\n                        class: 'btn btn-primary'\n                    })\n                    .on('click', function () {\n                        processDependencies('', true);\n                    })\n                    .appendTo('.tblFooters');\n            }\n        }\n    );\n}\n\nfunction goTo2NFStep1 () {\n    $.post(\n        'index.php?route=/normalization/2nf/step1',\n        {\n            'ajax_request': true,\n            'db': window.CommonParams.get('db'),\n            'table': window.CommonParams.get('table'),\n            'server': window.CommonParams.get('server'),\n        }, function (data) {\n            $('#page_content h3').html(window.Messages.str2NFNormalization);\n            $('#mainContent legend').html(data.legendText);\n            $('#mainContent h4').html(data.headText);\n            $('#mainContent p').html(data.subText);\n            $('#mainContent #extra').html(data.extra);\n            $('#mainContent #newCols').html('');\n            if (data.subText !== '') {\n                $('<input>')\n                    .attr({\n                        type: 'submit',\n                        value: window.Messages.strDone,\n                        class: 'btn btn-primary'\n                    })\n                    .on('click', function () {\n                        processDependencies(data.primary_key);\n                    })\n                    .appendTo('.tblFooters');\n            } else {\n                if (normalizeto === '3nf') {\n                    $('#mainContent #newCols').html(window.Messages.strToNextStep);\n                    setTimeout(function () {\n                        goTo3NFStep1([window.CommonParams.get('table')]);\n                    }, 3000);\n                }\n            }\n        });\n}\n\nfunction goToFinish1NF () {\n    if (normalizeto !== '1nf') {\n        goTo2NFStep1();\n        return true;\n    }\n    $('#mainContent legend').html(window.Messages.strEndStep);\n    $('#mainContent h4').html(\n        '<h3>' + Functions.sprintf(window.Messages.strFinishMsg, Functions.escapeHtml(window.CommonParams.get('table'))) + '</h3>'\n    );\n    $('#mainContent p').html('');\n    $('#mainContent #extra').html('');\n    $('#mainContent #newCols').html('');\n    $('.tblFooters').html('');\n}\n\nfunction goToStep4 () {\n    $.post(\n        'index.php?route=/normalization/1nf/step4',\n        {\n            'ajax_request': true,\n            'db': window.CommonParams.get('db'),\n            'table': window.CommonParams.get('table'),\n            'server': window.CommonParams.get('server'),\n        }, function (data) {\n            $('#mainContent legend').html(data.legendText);\n            $('#mainContent h4').html(data.headText);\n            $('#mainContent p').html(data.subText);\n            $('#mainContent #extra').html(data.extra);\n            $('#mainContent #newCols').html('');\n            $('.tblFooters').html('');\n            for (var pk in primaryKey) {\n                $('#extra input[value=\\'' + Functions.escapeJsString(primaryKey[pk]) + '\\']').attr('disabled','disabled');\n            }\n        }\n    );\n}\nwindow.goToStep4 = goToStep4;\n\nfunction goToStep3 () {\n    $.post(\n        'index.php?route=/normalization/1nf/step3',\n        {\n            'ajax_request': true,\n            'db': window.CommonParams.get('db'),\n            'table': window.CommonParams.get('table'),\n            'server': window.CommonParams.get('server'),\n        }, function (data) {\n            $('#mainContent legend').html(data.legendText);\n            $('#mainContent h4').html(data.headText);\n            $('#mainContent p').html(data.subText);\n            $('#mainContent #extra').html(data.extra);\n            $('#mainContent #newCols').html('');\n            $('.tblFooters').html('');\n            primaryKey = JSON.parse(data.primary_key);\n            for (var pk in primaryKey) {\n                $('#extra input[value=\\'' + Functions.escapeJsString(primaryKey[pk]) + '\\']').attr('disabled','disabled');\n            }\n        }\n    );\n}\n\nfunction goToStep2 (extra) {\n    $.post(\n        'index.php?route=/normalization/1nf/step2',\n        {\n            'ajax_request': true,\n            'db': window.CommonParams.get('db'),\n            'table': window.CommonParams.get('table'),\n            'server': window.CommonParams.get('server')\n        }, function (data) {\n            $('#mainContent legend').html(data.legendText);\n            $('#mainContent h4').html(data.headText);\n            $('#mainContent p').html(data.subText);\n            $('#mainContent #extra,#mainContent #newCols').html('');\n            $('.tblFooters').html('');\n            if (data.hasPrimaryKey === '1') {\n                if (extra === 'goToStep3') {\n                    $('#mainContent h4').html(window.Messages.strPrimaryKeyAdded);\n                    $('#mainContent p').html(window.Messages.strToNextStep);\n                }\n                if (extra === 'goToFinish1NF') {\n                    goToFinish1NF();\n                } else {\n                    setTimeout(function () {\n                        goToStep3();\n                    }, 3000);\n                }\n            } else {\n                // form to select columns to make primary\n                $('#mainContent #extra').html(data.extra);\n            }\n        }\n    );\n}\n\nfunction goTo2NFFinish (pd) {\n    var tables = {};\n    for (var dependson in pd) {\n        tables[dependson] = $('#extra input[name=\"' + dependson + '\"]').val();\n    }\n    var datastring = {\n        'ajax_request': true,\n        'db': window.CommonParams.get('db'),\n        'table': window.CommonParams.get('table'),\n        'server': window.CommonParams.get('server'),\n        'pd': JSON.stringify(pd),\n        'newTablesName': JSON.stringify(tables),\n    };\n    $.ajax({\n        type: 'POST',\n        url: 'index.php?route=/normalization/2nf/create-new-tables',\n        data: datastring,\n        async:false,\n        success: function (data) {\n            if (data.success === true) {\n                if (data.queryError === false) {\n                    if (normalizeto === '3nf') {\n                        $('#pma_navigation_reload').trigger('click');\n                        goTo3NFStep1(tables);\n                        return true;\n                    }\n                    $('#mainContent legend').html(data.legendText);\n                    $('#mainContent h4').html(data.headText);\n                    $('#mainContent p').html('');\n                    $('#mainContent #extra').html('');\n                    $('.tblFooters').html('');\n                } else {\n                    Functions.ajaxShowMessage(data.extra, false);\n                }\n                $('#pma_navigation_reload').trigger('click');\n            } else {\n                Functions.ajaxShowMessage(data.error, false);\n            }\n        }\n    });\n}\n\nfunction goTo3NFFinish (newTables) {\n    for (var table in newTables) {\n        for (var newtbl in newTables[table]) {\n            var updatedname = $('#extra input[name=\"' + newtbl + '\"]').val();\n            newTables[table][updatedname] = newTables[table][newtbl];\n            if (updatedname !== newtbl) {\n                delete newTables[table][newtbl];\n            }\n        }\n    }\n    var datastring = {\n        'ajax_request': true,\n        'db': window.CommonParams.get('db'),\n        'server': window.CommonParams.get('server'),\n        'newTables': JSON.stringify(newTables),\n    };\n    $.ajax({\n        type: 'POST',\n        url: 'index.php?route=/normalization/3nf/create-new-tables',\n        data: datastring,\n        async:false,\n        success: function (data) {\n            if (data.success === true) {\n                if (data.queryError === false) {\n                    $('#mainContent legend').html(data.legendText);\n                    $('#mainContent h4').html(data.headText);\n                    $('#mainContent p').html('');\n                    $('#mainContent #extra').html('');\n                    $('.tblFooters').html('');\n                } else {\n                    Functions.ajaxShowMessage(data.extra, false);\n                }\n                $('#pma_navigation_reload').trigger('click');\n            } else {\n                Functions.ajaxShowMessage(data.error, false);\n            }\n        }\n    });\n}\n\nvar backup = '';\n\nfunction goTo2NFStep2 (pd, primaryKey) {\n    $('#newCols').html('');\n    $('#mainContent legend').html(window.Messages.strStep + ' 2.2 ' + window.Messages.strConfirmPd);\n    $('#mainContent h4').html(window.Messages.strSelectedPd);\n    $('#mainContent p').html(window.Messages.strPdHintNote);\n    var extra = '<div class=\"dependencies_box\">';\n    var pdFound = false;\n    for (var dependson in pd) {\n        if (dependson !== primaryKey) {\n            pdFound = true;\n            extra += '<p class=\"d-block m-1\">' + Functions.escapeHtml(dependson) + ' -> ' + Functions.escapeHtml(pd[dependson].toString()) + '</p>';\n        }\n    }\n    if (!pdFound) {\n        extra += '<p class=\"d-block m-1\">' + window.Messages.strNoPdSelected + '</p>';\n        extra += '</div>';\n    } else {\n        extra += '</div>';\n        var datastring = {\n            'ajax_request': true,\n            'db': window.CommonParams.get('db'),\n            'table': window.CommonParams.get('table'),\n            'server': window.CommonParams.get('server'),\n            'pd': JSON.stringify(pd),\n        };\n        $.ajax({\n            type: 'POST',\n            url: 'index.php?route=/normalization/2nf/new-tables',\n            data: datastring,\n            async:false,\n            success: function (data) {\n                if (data.success === true) {\n                    extra += data.message;\n                } else {\n                    Functions.ajaxShowMessage(data.error, false);\n                }\n            }\n        });\n    }\n    $('#mainContent #extra').html(extra);\n    $('.tblFooters').html('<input type=\"button\" class=\"btn btn-primary\" value=\"' + window.Messages.strBack + '\" id=\"backEditPd\"><input type=\"button\" class=\"btn btn-primary\" id=\"goTo2NFFinish\" value=\"' + window.Messages.strGo + '\">');\n    $('#goTo2NFFinish').on('click', function () {\n        goTo2NFFinish(pd);\n    });\n}\n\nfunction goTo3NFStep2 (pd, tablesTds) {\n    $('#newCols').html('');\n    $('#mainContent legend').html(window.Messages.strStep + ' 3.2 ' + window.Messages.strConfirmTd);\n    $('#mainContent h4').html(window.Messages.strSelectedTd);\n    $('#mainContent p').html(window.Messages.strPdHintNote);\n    var extra = '<div class=\"dependencies_box\">';\n    var pdFound = false;\n    for (var table in tablesTds) {\n        for (var i in tablesTds[table]) {\n            var dependson = tablesTds[table][i];\n            if (dependson !== '' && dependson !== table) {\n                pdFound = true;\n                extra += '<p class=\"d-block m-1\">' + Functions.escapeHtml(dependson) + ' -> ' + Functions.escapeHtml(pd[dependson].toString()) + '</p>';\n            }\n        }\n    }\n    if (!pdFound) {\n        extra += '<p class=\"d-block m-1\">' + window.Messages.strNoTdSelected + '</p>';\n        extra += '</div>';\n    } else {\n        extra += '</div>';\n        var datastring = {\n            'ajax_request': true,\n            'db': window.CommonParams.get('db'),\n            'tables': JSON.stringify(tablesTds),\n            'server': window.CommonParams.get('server'),\n            'pd': JSON.stringify(pd),\n        };\n        $.ajax({\n            type: 'POST',\n            url: 'index.php?route=/normalization/3nf/new-tables',\n            data: datastring,\n            async:false,\n            success: function (data) {\n                dataParsed = data;\n                if (data.success === true) {\n                    extra += dataParsed.html;\n                } else {\n                    Functions.ajaxShowMessage(data.error, false);\n                }\n            }\n        });\n    }\n    $('#mainContent #extra').html(extra);\n    $('.tblFooters').html('<input type=\"button\" class=\"btn btn-primary\" value=\"' + window.Messages.strBack + '\" id=\"backEditPd\"><input type=\"button\" class=\"btn btn-primary\" id=\"goTo3NFFinish\" value=\"' + window.Messages.strGo + '\">');\n    $('#goTo3NFFinish').on('click', function () {\n        if (!pdFound) {\n            goTo3NFFinish([]);\n        } else {\n            goTo3NFFinish(dataParsed.newTables);\n        }\n    });\n}\nfunction processDependencies (primaryKey, isTransitive) {\n    var pk = primaryKey;\n    var pd = {};\n    var tablesTds = {};\n    var dependsOn;\n    pd[pk] = [];\n    $('#extra form').each(function () {\n        var tblname;\n        if (isTransitive === true) {\n            tblname = $(this).data('tablename');\n            pk = tblname;\n            if (!(tblname in tablesTds)) {\n                tablesTds[tblname] = [];\n            }\n            tablesTds[tblname].push(pk);\n        }\n        var formId = $(this).attr('id');\n        $('#' + formId + ' input[type=checkbox]:not(:checked)').prop('checked', false);\n        dependsOn = '';\n        $('#' + formId + ' input[type=checkbox]:checked').each(function () {\n            dependsOn += $(this).val() + ', ';\n            $(this).attr('checked','checked');\n        });\n        if (dependsOn === '') {\n            dependsOn = pk;\n        } else {\n            dependsOn = dependsOn.slice(0, -2);\n        }\n        if (! (dependsOn in pd)) {\n            pd[dependsOn] = [];\n        }\n        pd[dependsOn].push($(this).data('colname'));\n        if (isTransitive === true) {\n            if (!(tblname in tablesTds)) {\n                tablesTds[tblname] = [];\n            }\n            if ($.inArray(dependsOn, tablesTds[tblname]) === -1) {\n                tablesTds[tblname].push(dependsOn);\n            }\n        }\n    });\n    backup = $('#mainContent').html();\n    if (isTransitive === true) {\n        goTo3NFStep2(pd, tablesTds);\n    } else {\n        goTo2NFStep2(pd, pk);\n    }\n    return false;\n}\n\nfunction moveRepeatingGroup (repeatingCols) {\n    var newTable = $('input[name=repeatGroupTable]').val();\n    var newColumn = $('input[name=repeatGroupColumn]').val();\n    if (!newTable) {\n        $('input[name=repeatGroupTable]').trigger('focus');\n        return false;\n    }\n    if (!newColumn) {\n        $('input[name=repeatGroupColumn]').trigger('focus');\n        return false;\n    }\n    var datastring = {\n        'ajax_request': true,\n        'db': window.CommonParams.get('db'),\n        'table': window.CommonParams.get('table'),\n        'server': window.CommonParams.get('server'),\n        'repeatingColumns': repeatingCols,\n        'newTable':newTable,\n        'newColumn':newColumn,\n        'primary_columns':primaryKey.toString()\n    };\n    $.ajax({\n        type: 'POST',\n        url: 'index.php?route=/normalization/move-repeating-group',\n        data: datastring,\n        async:false,\n        success: function (data) {\n            if (data.success === true) {\n                if (data.queryError === false) {\n                    goToStep3();\n                }\n                Functions.ajaxShowMessage(data.message, false);\n                $('#pma_navigation_reload').trigger('click');\n            } else {\n                Functions.ajaxShowMessage(data.error, false);\n            }\n        }\n    });\n}\nwindow.AJAX.registerTeardown('normalization.js', function () {\n    $('#extra').off('click', '#selectNonAtomicCol');\n    $('#splitGo').off('click');\n    $('.tblFooters').off('click', '#saveSplit');\n    $('#extra').off('click', '#addNewPrimary');\n    $('.tblFooters').off('click', '#saveNewPrimary');\n    $('#extra').off('click', '#removeRedundant');\n    $('#mainContent p').off('click', '#createPrimaryKey');\n    $('#mainContent').off('click', '#backEditPd');\n    $('#mainContent').off('click', '#showPossiblePd');\n    $('#mainContent').off('click', '.pickPd');\n});\n\nwindow.AJAX.registerOnload('normalization.js', function () {\n    var selectedCol;\n    normalizeto = $('#mainContent').data('normalizeto');\n    $('#extra').on('click', '#selectNonAtomicCol', function () {\n        if ($(this).val() === 'no_such_col') {\n            goToStep2();\n        } else {\n            selectedCol = $(this).val();\n        }\n    });\n\n    $('#splitGo').on('click', function () {\n        if (!selectedCol || selectedCol === '') {\n            return false;\n        }\n        var numField = $('#numField').val();\n        $.post(\n            'index.php?route=/normalization/create-new-column',\n            {\n                'ajax_request': true,\n                'db': window.CommonParams.get('db'),\n                'table': window.CommonParams.get('table'),\n                'server': window.CommonParams.get('server'),\n                'numFields': numField\n            },\n            function (data) {\n                if (data.success === true) {\n                    $('#newCols').html(data.message);\n                    $('.default_value').hide();\n                    $('.enum_notice').hide();\n\n                    $('<input>')\n                        .attr({\n                            type: 'submit',\n                            id: 'saveSplit',\n                            value: window.Messages.strSave,\n                            class: 'btn btn-primary'\n                        })\n                        .appendTo('.tblFooters');\n\n                    $('<input>')\n                        .attr({\n                            type: 'submit',\n                            id: 'cancelSplit',\n                            value: window.Messages.strCancel,\n                            class: 'btn btn-secondary'\n                        })\n                        .on('click', function () {\n                            $('#newCols').html('');\n                            $(this).parent().html('');\n                        })\n                        .appendTo('.tblFooters');\n                }\n            }\n        );\n        return false;\n    });\n    $('.tblFooters').on('click','#saveSplit', function () {\n        window.centralColumnList = [];\n        if ($('#newCols #field_0_1').val() === '') {\n            $('#newCols #field_0_1').trigger('focus');\n            return false;\n        }\n        var argsep = window.CommonParams.get('arg_separator');\n        var datastring = $('#newCols :input').serialize();\n        datastring += argsep + 'ajax_request=1' + argsep + 'do_save_data=1' + argsep + 'field_where=last';\n        $.post('index.php?route=/table/add-field', datastring, function (data) {\n            if (data.success) {\n                $.post(\n                    'index.php?route=/sql',\n                    {\n                        'ajax_request': true,\n                        'db': window.CommonParams.get('db'),\n                        'table': window.CommonParams.get('table'),\n                        'server': window.CommonParams.get('server'),\n                        'dropped_column': selectedCol,\n                        'purge' : 1,\n                        'sql_query': 'ALTER TABLE `' + window.CommonParams.get('table') + '` DROP `' + selectedCol + '`;',\n                        'is_js_confirmed': 1\n                    },\n                    function (data) {\n                        if (data.success === true) {\n                            appendHtmlColumnsList();\n                            $('#newCols').html('');\n                            $('.tblFooters').html('');\n                        } else {\n                            Functions.ajaxShowMessage(data.error, false);\n                        }\n                        selectedCol = '';\n                    }\n                );\n            } else {\n                Functions.ajaxShowMessage(data.error, false);\n            }\n        });\n    });\n\n    $('#extra').on('click', '#addNewPrimary', function () {\n        $.post(\n            'index.php?route=/normalization/add-new-primary',\n            {\n                'ajax_request': true,\n                'db': window.CommonParams.get('db'),\n                'table': window.CommonParams.get('table'),\n                'server': window.CommonParams.get('server'),\n            },\n            function (data) {\n                if (data.success === true) {\n                    $('#newCols').html(data.message);\n                    $('.default_value').hide();\n                    $('.enum_notice').hide();\n\n                    $('<input>')\n                        .attr({\n                            type: 'submit',\n                            id: 'saveNewPrimary',\n                            value: window.Messages.strSave,\n                            class: 'btn btn-primary'\n                        })\n                        .appendTo('.tblFooters');\n                    $('<input>')\n                        .attr({\n                            type: 'submit',\n                            id: 'cancelSplit',\n                            value: window.Messages.strCancel,\n                            class: 'btn btn-secondary'\n                        })\n                        .on('click', function () {\n                            $('#newCols').html('');\n                            $(this).parent().html('');\n                        })\n                        .appendTo('.tblFooters');\n                } else {\n                    Functions.ajaxShowMessage(data.error, false);\n                }\n            }\n        );\n        return false;\n    });\n    $('.tblFooters').on('click', '#saveNewPrimary', function () {\n        var datastring = $('#newCols :input').serialize();\n        var argsep = window.CommonParams.get('arg_separator');\n        datastring += argsep + 'field_key[0]=primary_0' + argsep + 'ajax_request=1' + argsep + 'do_save_data=1' + argsep + 'field_where=last';\n        $.post('index.php?route=/table/add-field', datastring, function (data) {\n            if (data.success === true) {\n                $('#mainContent h4').html(window.Messages.strPrimaryKeyAdded);\n                $('#mainContent p').html(window.Messages.strToNextStep);\n                $('#mainContent #extra').html('');\n                $('#mainContent #newCols').html('');\n                $('.tblFooters').html('');\n                setTimeout(function () {\n                    goToStep3();\n                }, 2000);\n            } else {\n                Functions.ajaxShowMessage(data.error, false);\n            }\n        });\n    });\n    $('#extra').on('click', '#removeRedundant', function () {\n        var dropQuery = 'ALTER TABLE `' + window.CommonParams.get('table') + '` ';\n        $('#extra input[type=checkbox]:checked').each(function () {\n            dropQuery += 'DROP `' + $(this).val() + '`, ';\n        });\n        dropQuery = dropQuery.slice(0, -2);\n        $.post(\n            'index.php?route=/sql',\n            {\n                'ajax_request': true,\n                'db': window.CommonParams.get('db'),\n                'table': window.CommonParams.get('table'),\n                'server': window.CommonParams.get('server'),\n                'sql_query': dropQuery,\n                'is_js_confirmed': 1\n            },\n            function (data) {\n                if (data.success === true) {\n                    goToStep2('goToFinish1NF');\n                } else {\n                    Functions.ajaxShowMessage(data.error, false);\n                }\n            }\n        );\n    });\n    $('#extra').on('click', '#moveRepeatingGroup', function () {\n        var repeatingCols = '';\n        $('#extra input[type=checkbox]:checked').each(function () {\n            repeatingCols += $(this).val() + ', ';\n        });\n\n        if (repeatingCols !== '') {\n            var newColName = $('#extra input[type=checkbox]:checked').first().val();\n            repeatingCols = repeatingCols.slice(0, -2);\n            var confirmStr = Functions.sprintf(window.Messages.strMoveRepeatingGroup, Functions.escapeHtml(repeatingCols), Functions.escapeHtml(window.CommonParams.get('table')));\n            confirmStr += '<input type=\"text\" name=\"repeatGroupTable\" placeholder=\"' + window.Messages.strNewTablePlaceholder + '\">' +\n                '( ' + Functions.escapeHtml(primaryKey.toString()) + ', <input type=\"text\" name=\"repeatGroupColumn\" placeholder=\"' + window.Messages.strNewColumnPlaceholder + '\" value=\"' + Functions.escapeHtml(newColName) + '\">)' +\n                '</ol>';\n            $('#newCols').html(confirmStr);\n\n            $('<input>')\n                .attr({\n                    type: 'submit',\n                    value: window.Messages.strCancel,\n                    class: 'btn btn-secondary'\n                })\n                .on('click', function () {\n                    $('#newCols').html('');\n                    $('#extra input[type=checkbox]').prop('checked', false);\n                })\n                .appendTo('.tblFooters');\n            $('<input>')\n                .attr({\n                    type: 'submit',\n                    value: window.Messages.strGo,\n                    class: 'btn btn-primary'\n                })\n                .on('click', function () {\n                    moveRepeatingGroup(repeatingCols);\n                })\n                .appendTo('.tblFooters');\n        }\n    });\n    $('#mainContent p').on('click', '#createPrimaryKey', function (event) {\n        event.preventDefault();\n        var url = {\n            'create_index': 1,\n            'server':  window.CommonParams.get('server'),\n            'db': window.CommonParams.get('db'),\n            'table': window.CommonParams.get('table'),\n            'added_fields': 1,\n            'add_fields':1,\n            'index': { 'Key_name':'PRIMARY' },\n            'ajax_request': true\n        };\n        var title = window.Messages.strAddPrimaryKey;\n        Functions.indexEditorDialog(url, title, function () {\n            // on success\n            $('.sqlqueryresults').remove();\n            $('.result_query').remove();\n            $('.tblFooters').html('');\n            goToStep2('goToStep3');\n        });\n        return false;\n    });\n    $('#mainContent').on('click', '#backEditPd', function () {\n        $('#mainContent').html(backup);\n    });\n    $('#mainContent').on('click', '#showPossiblePd', function () {\n        if ($(this).hasClass('hideList')) {\n            $(this).html('+ ' + window.Messages.strShowPossiblePd);\n            $(this).removeClass('hideList');\n            $('#newCols').slideToggle('slow');\n            return false;\n        }\n        if ($('#newCols').html() !== '') {\n            $('#showPossiblePd').html('- ' + window.Messages.strHidePd);\n            $('#showPossiblePd').addClass('hideList');\n            $('#newCols').slideToggle('slow');\n            return false;\n        }\n        $('#newCols').insertAfter('#mainContent h4');\n        $('#newCols').html('<div class=\"text-center\">' + window.Messages.strLoading + '<br>' + window.Messages.strWaitForPd + '</div>');\n        $.post(\n            'index.php?route=/normalization/partial-dependencies',\n            {\n                'ajax_request': true,\n                'db': window.CommonParams.get('db'),\n                'table': window.CommonParams.get('table'),\n                'server': window.CommonParams.get('server'),\n            }, function (data) {\n                $('#showPossiblePd').html('- ' + window.Messages.strHidePd);\n                $('#showPossiblePd').addClass('hideList');\n                $('#newCols').html(data.message);\n            });\n    });\n    $('#mainContent').on('click', '.pickPd', function () {\n        var strColsLeft = $(this).next('.determinants').html();\n        var colsLeft = strColsLeft.split(',');\n        var strColsRight = $(this).next().next().html();\n        var colsRight = strColsRight.split(',');\n        for (var i in colsRight) {\n            $('form[data-colname=\"' + colsRight[i].trim() + '\"] input[type=\"checkbox\"]').prop('checked', false);\n            for (var j in colsLeft) {\n                $('form[data-colname=\"' + colsRight[i].trim() + '\"] input[value=\"' + colsLeft[j].trim() + '\"]').prop('checked', true);\n            }\n        }\n    });\n});\n"],"names":["$","normalizeto","primaryKey","dataParsed","appendHtmlColumnsList","post","window","CommonParams","get","data","success","html","message","goTo3NFStep1","newTables","tables","Object","keys","length","find","Messages","str3NFNormalization","legendText","headText","subText","extra","each","formId","attr","colName","next","remove","type","value","strDone","class","on","processDependencies","appendTo","goTo2NFStep1","str2NFNormalization","primary_key","strToNextStep","setTimeout","goToFinish1NF","strEndStep","Functions","sprintf","strFinishMsg","escapeHtml","goToStep4","pk","escapeJsString","goToStep3","JSON","parse","goToStep2","hasPrimaryKey","strPrimaryKeyAdded","goTo2NFFinish","pd","dependson","val","datastring","stringify","ajax","url","async","queryError","trigger","ajaxShowMessage","error","goTo3NFFinish","table","newtbl","updatedname","backup","goTo2NFStep2","strStep","strConfirmPd","strSelectedPd","strPdHintNote","pdFound","toString","strNoPdSelected","strBack","strGo","goTo3NFStep2","tablesTds","strConfirmTd","strSelectedTd","i","strNoTdSelected","isTransitive","dependsOn","tblname","push","prop","slice","inArray","moveRepeatingGroup","repeatingCols","newTable","newColumn","AJAX","registerTeardown","off","registerOnload","selectedCol","numField","hide","id","strSave","strCancel","parent","centralColumnList","argsep","serialize","dropQuery","newColName","first","confirmStr","strMoveRepeatingGroup","strNewTablePlaceholder","strNewColumnPlaceholder","event","preventDefault","title","strAddPrimaryKey","indexEditorDialog","hasClass","strShowPossiblePd","removeClass","slideToggle","strHidePd","addClass","insertAfter","strLoading","strWaitForPd","strColsLeft","colsLeft","split","strColsRight","colsRight","trim","j"],"sourceRoot":""}