{"version":3,"file":"normalization.js","mappings":"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","sources":["webpack://phpmyadmin/external var \"jQuery\"","webpack://phpmyadmin/./js/src/normalization.js"],"sourcesContent":["module.exports = jQuery;","import $ from 'jquery';\nimport { AJAX } from './modules/ajax.js';\nimport { Functions } from './modules/functions.js';\nimport { CommonParams } from './modules/common.js';\nimport { ajaxShowMessage } from './modules/ajax-message.js';\nimport { escapeHtml, escapeJsString } from './modules/functions/escape.js';\n\n/**\n * @fileoverview   events handling from normalization page\n * @name            normalization\n *\n * @requires    jQuery\n */\n\n/**\n * AJAX scripts for normalization\n *\n */\n\nvar normalizeto = '1nf';\nvar primaryKey;\nvar dataParsed = null;\n\nfunction appendHtmlColumnsList () {\n    $.post(\n        'index.php?route=/normalization/get-columns',\n        {\n            'ajax_request': true,\n            'db': CommonParams.get('db'),\n            'table': CommonParams.get('table'),\n            'server': CommonParams.get('server'),\n        },\n        function (data) {\n            if (data.success === true) {\n                $('select[name=makeAtomic]').html(data.message);\n            }\n        }\n    );\n}\n\nfunction goTo3NFStep1 (newTables) {\n    var tables = newTables;\n    if (Object.keys(tables).length === 1) {\n        tables = [CommonParams.get('table')];\n    }\n    $.post(\n        'index.php?route=/normalization/3nf/step1',\n        {\n            'ajax_request': true,\n            'db': CommonParams.get('db'),\n            'server': CommonParams.get('server'),\n            'tables': tables,\n        }, function (data) {\n            $('#page_content').find('h3').html(window.Messages.str3NFNormalization);\n            $('#mainContent').find('legend').html(data.legendText);\n            $('#mainContent').find('h4').html(data.headText);\n            $('#mainContent').find('p').html(data.subText);\n            $('#mainContent').find('#extra').html(data.extra);\n            $('#extra').find('form').each(function () {\n                var formId = $(this).attr('id');\n                var colName = $(this).data('colname');\n                $('#' + formId + ' input[value=\\'' + colName + '\\']').next().remove();\n                $('#' + formId + ' input[value=\\'' + colName + '\\']').remove();\n            });\n            $('#mainContent').find('#newCols').html('');\n            $('.tblFooters').html('');\n\n            if (data.subText !== '') {\n                $('<input>')\n                    .attr({\n                        type: 'button',\n                        value: window.Messages.strDone,\n                        class: 'btn btn-primary'\n                    })\n                    .on('click', function () {\n                        processDependencies('', true);\n                    })\n                    .appendTo('.tblFooters');\n            }\n        }\n    );\n}\n\nfunction goTo2NFStep1 () {\n    $.post(\n        'index.php?route=/normalization/2nf/step1',\n        {\n            'ajax_request': true,\n            'db': CommonParams.get('db'),\n            'table': CommonParams.get('table'),\n            'server': CommonParams.get('server'),\n        }, function (data) {\n            $('#page_content h3').html(window.Messages.str2NFNormalization);\n            $('#mainContent legend').html(data.legendText);\n            $('#mainContent h4').html(data.headText);\n            $('#mainContent p').html(data.subText);\n            $('#mainContent #extra').html(data.extra);\n            $('#mainContent #newCols').html('');\n            if (data.subText !== '') {\n                $('<input>')\n                    .attr({\n                        type: 'submit',\n                        value: window.Messages.strDone,\n                        class: 'btn btn-primary'\n                    })\n                    .on('click', function () {\n                        processDependencies(data.primary_key);\n                    })\n                    .appendTo('.tblFooters');\n            } else {\n                if (normalizeto === '3nf') {\n                    $('#mainContent #newCols').html(window.Messages.strToNextStep);\n                    setTimeout(function () {\n                        goTo3NFStep1([CommonParams.get('table')]);\n                    }, 3000);\n                }\n            }\n        });\n}\n\nfunction goToFinish1NF () {\n    if (normalizeto !== '1nf') {\n        goTo2NFStep1();\n        return true;\n    }\n    $('#mainContent legend').html(window.Messages.strEndStep);\n    $('#mainContent h4').html(\n        '<h3>' + window.sprintf(window.Messages.strFinishMsg, escapeHtml(CommonParams.get('table'))) + '</h3>'\n    );\n    $('#mainContent p').html('');\n    $('#mainContent #extra').html('');\n    $('#mainContent #newCols').html('');\n    $('.tblFooters').html('');\n}\n\nfunction goToStep4 () {\n    $.post(\n        'index.php?route=/normalization/1nf/step4',\n        {\n            'ajax_request': true,\n            'db': CommonParams.get('db'),\n            'table': CommonParams.get('table'),\n            'server': CommonParams.get('server'),\n        }, function (data) {\n            $('#mainContent legend').html(data.legendText);\n            $('#mainContent h4').html(data.headText);\n            $('#mainContent p').html(data.subText);\n            $('#mainContent #extra').html(data.extra);\n            $('#mainContent #newCols').html('');\n            $('.tblFooters').html('');\n            for (var pk in primaryKey) {\n                $('#extra input[value=\\'' + escapeJsString(primaryKey[pk]) + '\\']').attr('disabled', 'disabled');\n            }\n        }\n    );\n}\n\nwindow.goToStep4 = goToStep4;\n\nfunction goToStep3 () {\n    $.post(\n        'index.php?route=/normalization/1nf/step3',\n        {\n            'ajax_request': true,\n            'db': CommonParams.get('db'),\n            'table': CommonParams.get('table'),\n            'server': CommonParams.get('server'),\n        }, function (data) {\n            $('#mainContent legend').html(data.legendText);\n            $('#mainContent h4').html(data.headText);\n            $('#mainContent p').html(data.subText);\n            $('#mainContent #extra').html(data.extra);\n            $('#mainContent #newCols').html('');\n            $('.tblFooters').html('');\n            primaryKey = JSON.parse(data.primary_key);\n            for (var pk in primaryKey) {\n                $('#extra input[value=\\'' + escapeJsString(primaryKey[pk]) + '\\']').attr('disabled', 'disabled');\n            }\n        }\n    );\n}\n\nfunction goToStep2 (extra) {\n    $.post(\n        'index.php?route=/normalization/1nf/step2',\n        {\n            'ajax_request': true,\n            'db': CommonParams.get('db'),\n            'table': CommonParams.get('table'),\n            'server': CommonParams.get('server')\n        }, function (data) {\n            $('#mainContent legend').html(data.legendText);\n            $('#mainContent h4').html(data.headText);\n            $('#mainContent p').html(data.subText);\n            $('#mainContent #extra,#mainContent #newCols').html('');\n            $('.tblFooters').html('');\n            if (data.hasPrimaryKey === '1') {\n                if (extra === 'goToStep3') {\n                    $('#mainContent h4').html(window.Messages.strPrimaryKeyAdded);\n                    $('#mainContent p').html(window.Messages.strToNextStep);\n                }\n                if (extra === 'goToFinish1NF') {\n                    goToFinish1NF();\n                } else {\n                    setTimeout(function () {\n                        goToStep3();\n                    }, 3000);\n                }\n            } else {\n                // form to select columns to make primary\n                $('#mainContent #extra').html(data.extra);\n            }\n        }\n    );\n}\n\nfunction goTo2NFFinish (pd) {\n    var tables = {};\n    for (var dependson in pd) {\n        tables[dependson] = $('#extra input[name=\"' + dependson + '\"]').val();\n    }\n    var datastring = {\n        'ajax_request': true,\n        'db': CommonParams.get('db'),\n        'table': CommonParams.get('table'),\n        'server': CommonParams.get('server'),\n        'pd': JSON.stringify(pd),\n        'newTablesName': JSON.stringify(tables),\n    };\n    $.ajax({\n        type: 'POST',\n        url: 'index.php?route=/normalization/2nf/create-new-tables',\n        data: datastring,\n        async: false,\n        success: function (data) {\n            if (data.success === true) {\n                if (data.queryError === false) {\n                    if (normalizeto === '3nf') {\n                        $('#pma_navigation_reload').trigger('click');\n                        goTo3NFStep1(tables);\n                        return true;\n                    }\n                    $('#mainContent legend').html(data.legendText);\n                    $('#mainContent h4').html(data.headText);\n                    $('#mainContent p').html('');\n                    $('#mainContent #extra').html('');\n                    $('.tblFooters').html('');\n                } else {\n                    ajaxShowMessage(data.extra, false);\n                }\n                $('#pma_navigation_reload').trigger('click');\n            } else {\n                ajaxShowMessage(data.error, false);\n            }\n        }\n    });\n}\n\nfunction goTo3NFFinish (newTables) {\n    for (var table in newTables) {\n        for (var newtbl in newTables[table]) {\n            var updatedname = $('#extra input[name=\"' + newtbl + '\"]').val();\n            newTables[table][updatedname] = newTables[table][newtbl];\n            if (updatedname !== newtbl) {\n                delete newTables[table][newtbl];\n            }\n        }\n    }\n    var datastring = {\n        'ajax_request': true,\n        'db': CommonParams.get('db'),\n        'server': CommonParams.get('server'),\n        'newTables': JSON.stringify(newTables),\n    };\n    $.ajax({\n        type: 'POST',\n        url: 'index.php?route=/normalization/3nf/create-new-tables',\n        data: datastring,\n        async: false,\n        success: function (data) {\n            if (data.success === true) {\n                if (data.queryError === false) {\n                    $('#mainContent legend').html(data.legendText);\n                    $('#mainContent h4').html(data.headText);\n                    $('#mainContent p').html('');\n                    $('#mainContent #extra').html('');\n                    $('.tblFooters').html('');\n                } else {\n                    ajaxShowMessage(data.extra, false);\n                }\n                $('#pma_navigation_reload').trigger('click');\n            } else {\n                ajaxShowMessage(data.error, false);\n            }\n        }\n    });\n}\n\nvar backup = '';\n\nfunction goTo2NFStep2 (pd, primaryKey) {\n    $('#newCols').html('');\n    $('#mainContent legend').html(window.Messages.strStep + ' 2.2 ' + window.Messages.strConfirmPd);\n    $('#mainContent h4').html(window.Messages.strSelectedPd);\n    $('#mainContent p').html(window.Messages.strPdHintNote);\n    var extra = '<div class=\"dependencies_box\">';\n    var pdFound = false;\n    for (var dependson in pd) {\n        if (dependson !== primaryKey) {\n            pdFound = true;\n            extra += '<p class=\"d-block m-1\">' + escapeHtml(dependson) + ' -> ' + escapeHtml(pd[dependson].toString()) + '</p>';\n        }\n    }\n    if (! pdFound) {\n        extra += '<p class=\"d-block m-1\">' + window.Messages.strNoPdSelected + '</p>';\n        extra += '</div>';\n    } else {\n        extra += '</div>';\n        var datastring = {\n            'ajax_request': true,\n            'db': CommonParams.get('db'),\n            'table': CommonParams.get('table'),\n            'server': CommonParams.get('server'),\n            'pd': JSON.stringify(pd),\n        };\n        $.ajax({\n            type: 'POST',\n            url: 'index.php?route=/normalization/2nf/new-tables',\n            data: datastring,\n            async: false,\n            success: function (data) {\n                if (data.success === true) {\n                    extra += data.message;\n                } else {\n                    ajaxShowMessage(data.error, false);\n                }\n            }\n        });\n    }\n    $('#mainContent #extra').html(extra);\n    $('.tblFooters').html('<input type=\"button\" class=\"btn btn-primary\" value=\"' + window.Messages.strBack + '\" id=\"backEditPd\"><input type=\"button\" class=\"btn btn-primary\" id=\"goTo2NFFinish\" value=\"' + window.Messages.strGo + '\">');\n    $('#goTo2NFFinish').on('click', function () {\n        goTo2NFFinish(pd);\n    });\n}\n\nfunction goTo3NFStep2 (pd, tablesTds) {\n    $('#newCols').html('');\n    $('#mainContent legend').html(window.Messages.strStep + ' 3.2 ' + window.Messages.strConfirmTd);\n    $('#mainContent h4').html(window.Messages.strSelectedTd);\n    $('#mainContent p').html(window.Messages.strPdHintNote);\n    var extra = '<div class=\"dependencies_box\">';\n    var pdFound = false;\n    for (var table in tablesTds) {\n        for (var i in tablesTds[table]) {\n            var dependson = tablesTds[table][i];\n            if (dependson !== '' && dependson !== table) {\n                pdFound = true;\n                extra += '<p class=\"d-block m-1\">' + escapeHtml(dependson) + ' -> ' + escapeHtml(pd[dependson].toString()) + '</p>';\n            }\n        }\n    }\n    if (! pdFound) {\n        extra += '<p class=\"d-block m-1\">' + window.Messages.strNoTdSelected + '</p>';\n        extra += '</div>';\n    } else {\n        extra += '</div>';\n        var datastring = {\n            'ajax_request': true,\n            'db': CommonParams.get('db'),\n            'tables': JSON.stringify(tablesTds),\n            'server': CommonParams.get('server'),\n            'pd': JSON.stringify(pd),\n        };\n        $.ajax({\n            type: 'POST',\n            url: 'index.php?route=/normalization/3nf/new-tables',\n            data: datastring,\n            async: false,\n            success: function (data) {\n                dataParsed = data;\n                if (data.success === true) {\n                    extra += dataParsed.html;\n                } else {\n                    ajaxShowMessage(data.error, false);\n                }\n            }\n        });\n    }\n    $('#mainContent #extra').html(extra);\n    $('.tblFooters').html('<input type=\"button\" class=\"btn btn-primary\" value=\"' + window.Messages.strBack + '\" id=\"backEditPd\"><input type=\"button\" class=\"btn btn-primary\" id=\"goTo3NFFinish\" value=\"' + window.Messages.strGo + '\">');\n    $('#goTo3NFFinish').on('click', function () {\n        if (! pdFound) {\n            goTo3NFFinish([]);\n        } else {\n            goTo3NFFinish(dataParsed.newTables);\n        }\n    });\n}\n\nfunction processDependencies (primaryKey, isTransitive) {\n    var pk = primaryKey;\n    var pd = {};\n    var tablesTds = {};\n    var dependsOn;\n    pd[pk] = [];\n    $('#extra form').each(function () {\n        var tblname;\n        if (isTransitive === true) {\n            tblname = $(this).data('tablename');\n            pk = tblname;\n            if (! (tblname in tablesTds)) {\n                tablesTds[tblname] = [];\n            }\n            tablesTds[tblname].push(pk);\n        }\n        var formId = $(this).attr('id');\n        $('#' + formId + ' input[type=checkbox]:not(:checked)').prop('checked', false);\n        dependsOn = '';\n        $('#' + formId + ' input[type=checkbox]:checked').each(function () {\n            dependsOn += $(this).val() + ', ';\n            $(this).attr('checked', 'checked');\n        });\n        if (dependsOn === '') {\n            dependsOn = pk;\n        } else {\n            dependsOn = dependsOn.slice(0, -2);\n        }\n        if (! (dependsOn in pd)) {\n            pd[dependsOn] = [];\n        }\n        pd[dependsOn].push($(this).data('colname'));\n        if (isTransitive === true) {\n            if (! (tblname in tablesTds)) {\n                tablesTds[tblname] = [];\n            }\n            if ($.inArray(dependsOn, tablesTds[tblname]) === -1) {\n                tablesTds[tblname].push(dependsOn);\n            }\n        }\n    });\n    backup = $('#mainContent').html();\n    if (isTransitive === true) {\n        goTo3NFStep2(pd, tablesTds);\n    } else {\n        goTo2NFStep2(pd, pk);\n    }\n    return false;\n}\n\nfunction moveRepeatingGroup (repeatingCols) {\n    var newTable = $('input[name=repeatGroupTable]').val();\n    var newColumn = $('input[name=repeatGroupColumn]').val();\n    if (! newTable) {\n        $('input[name=repeatGroupTable]').trigger('focus');\n        return false;\n    }\n    if (! newColumn) {\n        $('input[name=repeatGroupColumn]').trigger('focus');\n        return false;\n    }\n    var datastring = {\n        'ajax_request': true,\n        'db': CommonParams.get('db'),\n        'table': CommonParams.get('table'),\n        'server': CommonParams.get('server'),\n        'repeatingColumns': repeatingCols,\n        'newTable': newTable,\n        'newColumn': newColumn,\n        'primary_columns': primaryKey.toString()\n    };\n    $.ajax({\n        type: 'POST',\n        url: 'index.php?route=/normalization/move-repeating-group',\n        data: datastring,\n        async: false,\n        success: function (data) {\n            if (data.success === true) {\n                if (data.queryError === false) {\n                    goToStep3();\n                }\n                ajaxShowMessage(data.message, false);\n                $('#pma_navigation_reload').trigger('click');\n            } else {\n                ajaxShowMessage(data.error, false);\n            }\n        }\n    });\n}\n\nAJAX.registerTeardown('normalization.js', function () {\n    $('#extra').off('click', '#selectNonAtomicCol');\n    $('#splitGo').off('click');\n    $('.tblFooters').off('click', '#saveSplit');\n    $('#extra').off('click', '#addNewPrimary');\n    $('.tblFooters').off('click', '#saveNewPrimary');\n    $('#extra').off('click', '#removeRedundant');\n    $('#mainContent p').off('click', '#createPrimaryKey');\n    $('#mainContent').off('click', '#backEditPd');\n    $('#mainContent').off('click', '#showPossiblePd');\n    $('#mainContent').off('click', '.pickPd');\n});\n\nAJAX.registerOnload('normalization.js', function () {\n    var selectedCol;\n    normalizeto = $('#mainContent').data('normalizeto');\n    $('#extra').on('click', '#selectNonAtomicCol', function () {\n        if ($(this).val() === 'no_such_col') {\n            goToStep2();\n        } else {\n            selectedCol = $(this).val();\n        }\n    });\n\n    $('#splitGo').on('click', function () {\n        if (! selectedCol || selectedCol === '') {\n            return false;\n        }\n        var numField = $('#numField').val();\n        $.post(\n            'index.php?route=/normalization/create-new-column',\n            {\n                'ajax_request': true,\n                'db': CommonParams.get('db'),\n                'table': CommonParams.get('table'),\n                'server': CommonParams.get('server'),\n                'numFields': numField\n            },\n            function (data) {\n                if (data.success === true) {\n                    $('#newCols').html(data.message);\n                    $('.default_value').hide();\n                    $('.enum_notice').hide();\n\n                    $('<input>')\n                        .attr({\n                            type: 'submit',\n                            id: 'saveSplit',\n                            value: window.Messages.strSave,\n                            class: 'btn btn-primary'\n                        })\n                        .appendTo('.tblFooters');\n\n                    $('<input>')\n                        .attr({\n                            type: 'submit',\n                            id: 'cancelSplit',\n                            value: window.Messages.strCancel,\n                            class: 'btn btn-secondary'\n                        })\n                        .on('click', function () {\n                            $('#newCols').html('');\n                            $(this).parent().html('');\n                        })\n                        .appendTo('.tblFooters');\n                }\n            }\n        );\n        return false;\n    });\n    $('.tblFooters').on('click', '#saveSplit', function () {\n        window.centralColumnList = [];\n        if ($('#newCols #field_0_1').val() === '') {\n            $('#newCols #field_0_1').trigger('focus');\n            return false;\n        }\n        var argsep = CommonParams.get('arg_separator');\n        var datastring = $('#newCols :input').serialize();\n        datastring += argsep + 'ajax_request=1' + argsep + 'do_save_data=1' + argsep + 'field_where=last';\n        $.post('index.php?route=/table/add-field', datastring, function (data) {\n            if (data.success) {\n                $.post(\n                    'index.php?route=/sql',\n                    {\n                        'ajax_request': true,\n                        'db': CommonParams.get('db'),\n                        'table': CommonParams.get('table'),\n                        'server': CommonParams.get('server'),\n                        'dropped_column': selectedCol,\n                        'purge': 1,\n                        'sql_query': 'ALTER TABLE `' + CommonParams.get('table') + '` DROP `' + selectedCol + '`;',\n                        'is_js_confirmed': 1\n                    },\n                    function (data) {\n                        if (data.success === true) {\n                            appendHtmlColumnsList();\n                            $('#newCols').html('');\n                            $('.tblFooters').html('');\n                        } else {\n                            ajaxShowMessage(data.error, false);\n                        }\n                        selectedCol = '';\n                    }\n                );\n            } else {\n                ajaxShowMessage(data.error, false);\n            }\n        });\n    });\n\n    $('#extra').on('click', '#addNewPrimary', function () {\n        $.post(\n            'index.php?route=/normalization/add-new-primary',\n            {\n                'ajax_request': true,\n                'db': CommonParams.get('db'),\n                'table': CommonParams.get('table'),\n                'server': CommonParams.get('server'),\n            },\n            function (data) {\n                if (data.success === true) {\n                    $('#newCols').html(data.message);\n                    $('.default_value').hide();\n                    $('.enum_notice').hide();\n\n                    $('<input>')\n                        .attr({\n                            type: 'submit',\n                            id: 'saveNewPrimary',\n                            value: window.Messages.strSave,\n                            class: 'btn btn-primary'\n                        })\n                        .appendTo('.tblFooters');\n                    $('<input>')\n                        .attr({\n                            type: 'submit',\n                            id: 'cancelSplit',\n                            value: window.Messages.strCancel,\n                            class: 'btn btn-secondary'\n                        })\n                        .on('click', function () {\n                            $('#newCols').html('');\n                            $(this).parent().html('');\n                        })\n                        .appendTo('.tblFooters');\n                } else {\n                    ajaxShowMessage(data.error, false);\n                }\n            }\n        );\n        return false;\n    });\n    $('.tblFooters').on('click', '#saveNewPrimary', function () {\n        var datastring = $('#newCols :input').serialize();\n        var argsep = CommonParams.get('arg_separator');\n        datastring += argsep + 'field_key[0]=primary_0' + argsep + 'ajax_request=1' + argsep + 'do_save_data=1' + argsep + 'field_where=last';\n        $.post('index.php?route=/table/add-field', datastring, function (data) {\n            if (data.success === true) {\n                $('#mainContent h4').html(window.Messages.strPrimaryKeyAdded);\n                $('#mainContent p').html(window.Messages.strToNextStep);\n                $('#mainContent #extra').html('');\n                $('#mainContent #newCols').html('');\n                $('.tblFooters').html('');\n                setTimeout(function () {\n                    goToStep3();\n                }, 2000);\n            } else {\n                ajaxShowMessage(data.error, false);\n            }\n        });\n    });\n    $('#extra').on('click', '#removeRedundant', function () {\n        var dropQuery = 'ALTER TABLE `' + CommonParams.get('table') + '` ';\n        $('#extra input[type=checkbox]:checked').each(function () {\n            dropQuery += 'DROP `' + $(this).val() + '`, ';\n        });\n        dropQuery = dropQuery.slice(0, -2);\n        $.post(\n            'index.php?route=/sql',\n            {\n                'ajax_request': true,\n                'db': CommonParams.get('db'),\n                'table': CommonParams.get('table'),\n                'server': CommonParams.get('server'),\n                'sql_query': dropQuery,\n                'is_js_confirmed': 1\n            },\n            function (data) {\n                if (data.success === true) {\n                    goToStep2('goToFinish1NF');\n                } else {\n                    ajaxShowMessage(data.error, false);\n                }\n            }\n        );\n    });\n    $('#extra').on('click', '#moveRepeatingGroup', function () {\n        var repeatingCols = '';\n        $('#extra input[type=checkbox]:checked').each(function () {\n            repeatingCols += $(this).val() + ', ';\n        });\n\n        if (repeatingCols !== '') {\n            var newColName = $('#extra input[type=checkbox]:checked').first().val();\n            repeatingCols = repeatingCols.slice(0, -2);\n            var confirmStr = window.sprintf(window.Messages.strMoveRepeatingGroup, escapeHtml(repeatingCols), escapeHtml(CommonParams.get('table')));\n            confirmStr += '<input type=\"text\" name=\"repeatGroupTable\" placeholder=\"' + window.Messages.strNewTablePlaceholder + '\">' +\n                '( ' + escapeHtml(primaryKey.toString()) + ', <input type=\"text\" name=\"repeatGroupColumn\" placeholder=\"' + window.Messages.strNewColumnPlaceholder + '\" value=\"' + escapeHtml(newColName) + '\">)' +\n                '</ol>';\n            $('#newCols').html(confirmStr);\n\n            $('<input>')\n                .attr({\n                    type: 'submit',\n                    value: window.Messages.strCancel,\n                    class: 'btn btn-secondary'\n                })\n                .on('click', function () {\n                    $('#newCols').html('');\n                    $('#extra input[type=checkbox]').prop('checked', false);\n                })\n                .appendTo('.tblFooters');\n            $('<input>')\n                .attr({\n                    type: 'submit',\n                    value: window.Messages.strGo,\n                    class: 'btn btn-primary'\n                })\n                .on('click', function () {\n                    moveRepeatingGroup(repeatingCols);\n                })\n                .appendTo('.tblFooters');\n        }\n    });\n    $('#mainContent p').on('click', '#createPrimaryKey', function (event) {\n        event.preventDefault();\n        var url = {\n            'create_index': 1,\n            'server': CommonParams.get('server'),\n            'db': CommonParams.get('db'),\n            'table': CommonParams.get('table'),\n            'added_fields': 1,\n            'add_fields': 1,\n            'index': { 'Key_name': 'PRIMARY' },\n            'ajax_request': true\n        };\n        var title = window.Messages.strAddPrimaryKey;\n        Functions.indexEditorDialog(url, title, function () {\n            // on success\n            $('.sqlqueryresults').remove();\n            $('.result_query').remove();\n            $('.tblFooters').html('');\n            goToStep2('goToStep3');\n        });\n        return false;\n    });\n    $('#mainContent').on('click', '#backEditPd', function () {\n        $('#mainContent').html(backup);\n    });\n    $('#mainContent').on('click', '#showPossiblePd', function () {\n        if ($(this).hasClass('hideList')) {\n            $(this).html('+ ' + window.Messages.strShowPossiblePd);\n            $(this).removeClass('hideList');\n            $('#newCols').slideToggle('slow');\n            return false;\n        }\n        if ($('#newCols').html() !== '') {\n            $('#showPossiblePd').html('- ' + window.Messages.strHidePd);\n            $('#showPossiblePd').addClass('hideList');\n            $('#newCols').slideToggle('slow');\n            return false;\n        }\n        $('#newCols').insertAfter('#mainContent h4');\n        $('#newCols').html('<div class=\"text-center\">' + window.Messages.strLoading + '<br>' + window.Messages.strWaitForPd + '</div>');\n        $.post(\n            'index.php?route=/normalization/partial-dependencies',\n            {\n                'ajax_request': true,\n                'db': CommonParams.get('db'),\n                'table': CommonParams.get('table'),\n                'server': CommonParams.get('server'),\n            }, function (data) {\n                $('#showPossiblePd').html('- ' + window.Messages.strHidePd);\n                $('#showPossiblePd').addClass('hideList');\n                $('#newCols').html(data.message);\n            });\n    });\n    $('#mainContent').on('click', '.pickPd', function () {\n        var strColsLeft = $(this).next('.determinants').html();\n        var colsLeft = strColsLeft.split(',');\n        var strColsRight = $(this).next().next().html();\n        var colsRight = strColsRight.split(',');\n        for (var i in colsRight) {\n            $('form[data-colname=\"' + colsRight[i].trim() + '\"] input[type=\"checkbox\"]').prop('checked', false);\n            for (var j in colsLeft) {\n                $('form[data-colname=\"' + colsRight[i].trim() + '\"] input[value=\"' + colsLeft[j].trim() + '\"]').prop('checked', true);\n            }\n        }\n    });\n});\n"],"names":["$","AJAX","Functions","CommonParams","ajaxShowMessage","escapeHtml","escapeJsString","normalizeto","primaryKey","dataParsed","appendHtmlColumnsList","post","get","data","success","html","message","goTo3NFStep1","newTables","tables","Object","keys","length","find","window","Messages","str3NFNormalization","legendText","headText","subText","extra","each","formId","attr","colName","next","remove","type","value","strDone","class","on","processDependencies","appendTo","goTo2NFStep1","str2NFNormalization","primary_key","strToNextStep","setTimeout","goToFinish1NF","strEndStep","sprintf","strFinishMsg","goToStep4","pk","goToStep3","JSON","parse","goToStep2","hasPrimaryKey","strPrimaryKeyAdded","goTo2NFFinish","pd","dependson","val","datastring","stringify","ajax","url","async","queryError","trigger","error","goTo3NFFinish","table","newtbl","updatedname","backup","goTo2NFStep2","strStep","strConfirmPd","strSelectedPd","strPdHintNote","pdFound","toString","strNoPdSelected","strBack","strGo","goTo3NFStep2","tablesTds","strConfirmTd","strSelectedTd","i","strNoTdSelected","isTransitive","dependsOn","tblname","push","prop","slice","inArray","moveRepeatingGroup","repeatingCols","newTable","newColumn","registerTeardown","off","registerOnload","selectedCol","numField","hide","id","strSave","strCancel","parent","centralColumnList","argsep","serialize","dropQuery","newColName","first","confirmStr","strMoveRepeatingGroup","strNewTablePlaceholder","strNewColumnPlaceholder","event","preventDefault","title","strAddPrimaryKey","indexEditorDialog","hasClass","strShowPossiblePd","removeClass","slideToggle","strHidePd","addClass","insertAfter","strLoading","strWaitForPd","strColsLeft","colsLeft","split","strColsRight","colsRight","trim","j"],"sourceRoot":""}