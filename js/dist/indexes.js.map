{"version":3,"file":"indexes.js","mappings":"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","sources":["webpack://phpmyadmin/./js/src/indexes.js"],"sourcesContent":["/**\n * @fileoverview    function used for index manipulation pages\n * @name            Table Structure\n *\n * @requires    jQuery\n * @requires    jQueryUI\n * @required    js/functions.js\n */\n\n/* global fulltextIndexes:writable, indexes:writable, primaryIndexes:writable, spatialIndexes:writable, uniqueIndexes:writable */ // js/functions.js\n\nvar Indexes = {};\n\n/**\n * Returns the array of indexes based on the index choice\n *\n * @param {string} indexChoice index choice\n *\n * @return {null|object}\n */\nIndexes.getIndexArray = function (indexChoice) {\n    var sourceArray = null;\n\n    switch (indexChoice.toLowerCase()) {\n    case 'primary':\n        sourceArray = primaryIndexes;\n        break;\n    case 'unique':\n        sourceArray = uniqueIndexes;\n        break;\n    case 'index':\n        sourceArray = indexes;\n        break;\n    case 'fulltext':\n        sourceArray = fulltextIndexes;\n        break;\n    case 'spatial':\n        sourceArray = spatialIndexes;\n        break;\n    default:\n        return null;\n    }\n    return sourceArray;\n};\n\n/**\n * Hides/shows the inputs and submits appropriately depending\n * on whether the index type chosen is 'SPATIAL' or not.\n */\nIndexes.checkIndexType = function () {\n    /**\n     * @var {JQuery<HTMLElement}, Dropdown to select the index choice.\n     */\n    var $selectIndexChoice = $('#select_index_choice');\n    /**\n     * @var {JQuery<HTMLElement}, Dropdown to select the index type.\n     */\n    var $selectIndexType = $('#select_index_type');\n    /**\n     * @var {JQuery<HTMLElement}, Table header for the size column.\n     */\n    var $sizeHeader = $('#index_columns').find('thead tr').children('th').eq(1);\n    /**\n     * @var {JQuery<HTMLElement}, Inputs to specify the columns for the index.\n     */\n    var $columnInputs = $('select[name=\"index[columns][names][]\"]');\n    /**\n     * @var {JQuery<HTMLElement}, Inputs to specify sizes for columns of the index.\n     */\n    var $sizeInputs = $('input[name=\"index[columns][sub_parts][]\"]');\n    /**\n     * @var {JQuery<HTMLElement}, Footer containing the controllers to add more columns\n     */\n    var $addMore = $('#index_frm').find('.add_more');\n\n    if ($selectIndexChoice.val() === 'SPATIAL') {\n        // Disable and hide the size column\n        $sizeHeader.hide();\n        $sizeInputs.each(function () {\n            $(this)\n                .prop('disabled', true)\n                .parent('td').hide();\n        });\n\n        // Disable and hide the columns of the index other than the first one\n        var initial = true;\n        $columnInputs.each(function () {\n            var $columnInput = $(this);\n            if (! initial) {\n                $columnInput\n                    .prop('disabled', true)\n                    .parent('td').hide();\n            } else {\n                initial = false;\n            }\n        });\n\n        // Hide controllers to add more columns\n        $addMore.hide();\n    } else {\n        // Enable and show the size column\n        $sizeHeader.show();\n        $sizeInputs.each(function () {\n            $(this)\n                .prop('disabled', false)\n                .parent('td').show();\n        });\n\n        // Enable and show the columns of the index\n        $columnInputs.each(function () {\n            $(this)\n                .prop('disabled', false)\n                .parent('td').show();\n        });\n\n        // Show controllers to add more columns\n        $addMore.show();\n    }\n\n    if ($selectIndexChoice.val() === 'SPATIAL' ||\n            $selectIndexChoice.val() === 'FULLTEXT') {\n        $selectIndexType.val('').prop('disabled', true);\n    } else {\n        $selectIndexType.prop('disabled', false);\n    }\n};\n\n/**\n * Sets current index information into form parameters.\n *\n * @param {any[]}  sourceArray Array containing index columns\n * @param {string} indexChoice Choice of index\n *\n * @return {void}\n */\nIndexes.setIndexFormParameters = function (sourceArray, indexChoice) {\n    if (indexChoice === 'index') {\n        $('input[name=\"indexes\"]').val(JSON.stringify(sourceArray));\n    } else {\n        $('input[name=\"' + indexChoice + '_indexes\"]').val(JSON.stringify(sourceArray));\n    }\n};\n\n/**\n * Removes a column from an Index.\n *\n * @param {string} colIndex Index of column in form\n *\n * @return {void}\n */\nIndexes.removeColumnFromIndex = function (colIndex) {\n    // Get previous index details.\n    var previousIndex = $('select[name=\"field_key[' + colIndex + ']\"]')\n        .attr('data-index');\n    if (previousIndex.length) {\n        previousIndex = previousIndex.split(',');\n        var sourceArray = Indexes.getIndexArray(previousIndex[0]);\n        if (sourceArray === null) {\n            return;\n        }\n\n        // Remove column from index array.\n        var sourceLength = sourceArray[previousIndex[1]].columns.length;\n        for (var i = 0; i < sourceLength; i++) {\n            if (sourceArray[previousIndex[1]].columns[i].col_index === colIndex) {\n                sourceArray[previousIndex[1]].columns.splice(i, 1);\n            }\n        }\n\n        // Remove index completely if no columns left.\n        if (sourceArray[previousIndex[1]].columns.length === 0) {\n            sourceArray.splice(previousIndex[1], 1);\n        }\n\n        // Update current index details.\n        $('select[name=\"field_key[' + colIndex + ']\"]').attr('data-index', '');\n        // Update form index parameters.\n        Indexes.setIndexFormParameters(sourceArray, previousIndex[0].toLowerCase());\n    }\n};\n\n/**\n * Adds a column to an Index.\n *\n * @param {any[]}  sourceArray Array holding corresponding indexes\n * @param {string} arrayIndex  Index of an INDEX in array\n * @param {string} indexChoice Choice of Index\n * @param {string} colIndex    Index of column on form\n *\n * @return {void}\n */\nIndexes.addColumnToIndex = function (sourceArray, arrayIndex, indexChoice, colIndex) {\n    if (colIndex >= 0) {\n        // Remove column from other indexes (if any).\n        Indexes.removeColumnFromIndex(colIndex);\n    }\n    var indexName = $('input[name=\"index[Key_name]\"]').val();\n    var indexComment = $('input[name=\"index[Index_comment]\"]').val();\n    var keyBlockSize = $('input[name=\"index[Key_block_size]\"]').val();\n    var parser = $('input[name=\"index[Parser]\"]').val();\n    var indexType = $('select[name=\"index[Index_type]\"]').val();\n    var columns = [];\n    $('#index_columns').find('tbody').find('tr').each(function () {\n        // Get columns in particular order.\n        var colIndex = $(this).find('select[name=\"index[columns][names][]\"]').val();\n        var size = $(this).find('input[name=\"index[columns][sub_parts][]\"]').val();\n        columns.push({\n            'col_index': colIndex,\n            'size': size\n        });\n    });\n\n    // Update or create an index.\n    sourceArray[arrayIndex] = {\n        'Key_name': indexName,\n        'Index_comment': indexComment,\n        'Index_choice': indexChoice.toUpperCase(),\n        'Key_block_size': keyBlockSize,\n        'Parser': parser,\n        'Index_type': indexType,\n        'columns': columns\n    };\n\n    // Display index name (or column list)\n    var displayName = indexName;\n    if (displayName === '') {\n        var columnNames = [];\n        $.each(columns, function () {\n            columnNames.push($('input[name=\"field_name[' +  this.col_index + ']\"]').val());\n        });\n        displayName = '[' + columnNames.join(', ') + ']';\n    }\n    $.each(columns, function () {\n        var id = 'index_name_' + this.col_index + '_8';\n        var $name = $('#' + id);\n        if ($name.length === 0) {\n            $name = $('<a id=\"' + id + '\" href=\"#\" class=\"ajax show_index_dialog\"></a>');\n            $name.insertAfter($('select[name=\"field_key[' + this.col_index + ']\"]'));\n        }\n        var $text = $('<small>').text(displayName);\n        $name.html($text);\n    });\n\n    if (colIndex >= 0) {\n        // Update index details on form.\n        $('select[name=\"field_key[' + colIndex + ']\"]')\n            .attr('data-index', indexChoice + ',' + arrayIndex);\n    }\n    Indexes.setIndexFormParameters(sourceArray, indexChoice.toLowerCase());\n};\n\n/**\n * Get choices list for a column to create a composite index with.\n *\n * @param {any[]} sourceArray Array hodling columns for particular index\n * @param {string} colIndex Choice of index\n *\n * @return {JQuery} jQuery Object\n */\nIndexes.getCompositeIndexList = function (sourceArray, colIndex) {\n    // Remove any previous list.\n    if ($('#composite_index_list').length) {\n        $('#composite_index_list').remove();\n    }\n\n    // Html list.\n    var $compositeIndexList = $(\n        '<ul id=\"composite_index_list\">' +\n        '<div>' + Messages.strCompositeWith + '</div>' +\n        '</ul>'\n    );\n\n    // Add each column to list available for composite index.\n    var sourceLength = sourceArray.length;\n    var alreadyPresent = false;\n    for (var i = 0; i < sourceLength; i++) {\n        var subArrayLen = sourceArray[i].columns.length;\n        var columnNames = [];\n        for (var j = 0; j < subArrayLen; j++) {\n            columnNames.push(\n                $('input[name=\"field_name[' + sourceArray[i].columns[j].col_index + ']\"]').val()\n            );\n\n            if (colIndex === sourceArray[i].columns[j].col_index) {\n                alreadyPresent = true;\n            }\n        }\n\n        $compositeIndexList.append(\n            '<li>' +\n            '<input type=\"radio\" name=\"composite_with\" ' +\n            (alreadyPresent ? 'checked=\"checked\"' : '') +\n            ' id=\"composite_index_' + i + '\" value=\"' + i + '\">' +\n            '<label for=\"composite_index_' + i + '\">' + columnNames.join(', ') +\n            '</label>' +\n            '</li>'\n        );\n    }\n\n    return $compositeIndexList;\n};\n\nvar addIndexGo = function (sourceArray, arrayIndex, index, colIndex) {\n    var isMissingValue = false;\n    $('select[name=\"index[columns][names][]\"]').each(function () {\n        if ($(this).val() === '') {\n            isMissingValue = true;\n        }\n    });\n\n    if (! isMissingValue) {\n        Indexes.addColumnToIndex(\n            sourceArray,\n            arrayIndex,\n            index.Index_choice,\n            colIndex\n        );\n    } else {\n        Functions.ajaxShowMessage(\n            '<div class=\"alert alert-danger\" role=\"alert\"><img src=\"themes/dot.gif\" title=\"\" alt=\"\"' +\n            ' class=\"icon ic_s_error\"> ' + Messages.strMissingColumn +\n            ' </div>', false\n        );\n\n        return false;\n    }\n\n    $('#addIndexModal').modal('hide');\n};\n\n/**\n * Shows 'Add Index' dialog.\n *\n * @param {any[]}  sourceArray   Array holding particular index\n * @param {string} arrayIndex    Index of an INDEX in array\n * @param {any[]}  targetColumns Columns for an INDEX\n * @param {string} colIndex      Index of column on form\n * @param {object} index         Index detail object\n * @param {boolean} showDialog   Whether to show index creation dialog or not\n *\n * @return {void}\n */\nIndexes.showAddIndexDialog = function (sourceArray, arrayIndex, targetColumns, colIndex, index, showDialog) {\n    var showDialogLocal = typeof showDialog !== 'undefined' ? showDialog : true;\n    // Prepare post-data.\n    var $table = $('input[name=\"table\"]');\n    var table = $table.length > 0 ? $table.val() : '';\n    var postData = {\n        'server': CommonParams.get('server'),\n        'db': $('input[name=\"db\"]').val(),\n        'table': table,\n        'ajax_request': 1,\n        'create_edit_table': 1,\n        'index': index\n    };\n\n    var columns = {};\n    for (var i = 0; i < targetColumns.length; i++) {\n        var columnName = $('input[name=\"field_name[' + targetColumns[i] + ']\"]').val();\n        var columnType = $('select[name=\"field_type[' + targetColumns[i] + ']\"]').val().toLowerCase();\n        columns[columnName] = [columnType, targetColumns[i]];\n    }\n    postData.columns = JSON.stringify(columns);\n\n    $('#addIndexModalGoButton').on('click', function () {\n        addIndexGo(sourceArray, arrayIndex, index, colIndex);\n    });\n    $('#addIndexModalCancelButton').on('click', function () {\n        if (colIndex >= 0) {\n            // Handle state on 'Cancel'.\n            var $selectList = $('select[name=\"field_key[' + colIndex + ']\"]');\n            if (! $selectList.attr('data-index').length) {\n                $selectList.find('option[value*=\"none\"]').attr('selected', 'selected');\n            } else {\n                var previousIndex = $selectList.attr('data-index').split(',');\n                $selectList.find('option[value*=\"' + previousIndex[0].toLowerCase() + '\"]')\n                    .attr('selected', 'selected');\n            }\n        }\n        $('#addIndexModal').modal('hide');\n    });\n    $('#addIndexModalCloseButton').on('click', function () {\n        $('#addIndexModal').modal('hide');\n    });\n    var $msgbox = Functions.ajaxShowMessage();\n    $.post('index.php?route=/table/indexes', postData, function (data) {\n        if (data.success === false) {\n            // in the case of an error, show the error message returned.\n            Functions.ajaxShowMessage(data.error, false);\n        } else {\n            Functions.ajaxRemoveMessage($msgbox);\n            var $div = $('<div></div>');\n            if (showDialogLocal) {\n                // Show dialog if the request was successful\n                if ($('#addIndex').length > 0) {\n                    $('#addIndex').remove();\n                }\n                $('#addIndexModal').on('keypress', function (e) {\n                    if (e.which === 13 || e.keyCode === 13 || window.event.keyCode === 13) {\n                        e.preventDefault();\n                        console.log('BOOM');\n                        addIndexGo(sourceArray, arrayIndex, index, colIndex);\n                        $('#addIndexModal').modal('hide');\n                    }\n                });\n                $('#addIndexModal').modal('show');\n                $('#addIndexModalLabel').first().text(Messages.strAddIndex);\n                $('#addIndexModal').find('.modal-body').first().html(data.message);\n                Functions.checkIndexName('index_frm');\n                Functions.showHints($div);\n                $('#index_columns').find('td').each(function () {\n                    $(this).css('width', $(this).width() + 'px');\n                });\n                $('#index_columns').find('tbody').sortable({\n                    axis: 'y',\n                    containment: $('#index_columns').find('tbody'),\n                    tolerance: 'pointer'\n                });\n            } else {\n                $div\n                    .append(data.message);\n                $div.css({ 'display' : 'none' });\n                $div.appendTo($('body'));\n                $div.attr({ 'id' : 'addIndex' });\n                var isMissingValue = false;\n                $('select[name=\"index[columns][names][]\"]').each(function () {\n                    if ($(this).val() === '') {\n                        isMissingValue = true;\n                    }\n                });\n\n                if (! isMissingValue) {\n                    Indexes.addColumnToIndex(\n                        sourceArray,\n                        arrayIndex,\n                        index.Index_choice,\n                        colIndex\n                    );\n                } else {\n                    Functions.ajaxShowMessage(\n                        '<div class=\"alert alert-danger\" role=\"alert\"><img src=\"themes/dot.gif\" title=\"\" alt=\"\"' +\n                        ' class=\"icon ic_s_error\"> ' + Messages.strMissingColumn +\n                        ' </div>', false\n                    );\n\n                    return false;\n                }\n            }\n        }\n    });\n};\n\nvar removeIndexOnChangeEvent = function () {\n    $('#composite_index').off('change');\n    $('#single_column').off('change');\n    $('#addIndexModal').modal('hide');\n};\n\n/**\n * Creates a advanced index type selection dialog.\n *\n * @param {any[]}  sourceArray Array holding a particular type of indexes\n * @param {string} indexChoice Choice of index\n * @param {string} colIndex    Index of new column on form\n *\n * @return {void}\n */\nIndexes.indexTypeSelectionDialog = function (sourceArray, indexChoice, colIndex) {\n    var $singleColumnRadio = $('<input type=\"radio\" id=\"single_column\" name=\"index_choice\"' +\n        ' checked=\"checked\">' +\n        '<label for=\"single_column\">' + Messages.strCreateSingleColumnIndex + '</label>');\n    var $compositeIndexRadio = $('<input type=\"radio\" id=\"composite_index\"' +\n        ' name=\"index_choice\">' +\n        '<label for=\"composite_index\">' + Messages.strCreateCompositeIndex + '</label>');\n    var $dialogContent = $('<fieldset class=\"pma-fieldset\" id=\"advance_index_creator\"></fieldset>');\n    $dialogContent.append('<legend>' + indexChoice.toUpperCase() + '</legend>');\n\n\n    // For UNIQUE/INDEX type, show choice for single-column and composite index.\n    $dialogContent.append($singleColumnRadio);\n    $dialogContent.append($compositeIndexRadio);\n\n    // 'OK' operation.\n    $('#addIndexModalGoButton').on('click', function () {\n        if ($('#single_column').is(':checked')) {\n            var index = {\n                'Key_name': (indexChoice === 'primary' ? 'PRIMARY' : ''),\n                'Index_choice': indexChoice.toUpperCase()\n            };\n            Indexes.showAddIndexDialog(sourceArray, (sourceArray.length), [colIndex], colIndex, index);\n        }\n\n        if ($('#composite_index').is(':checked')) {\n            if ($('input[name=\"composite_with\"]').length !== 0 && $('input[name=\"composite_with\"]:checked').length === 0\n            ) {\n                Functions.ajaxShowMessage(\n                    '<div class=\"alert alert-danger\" role=\"alert\"><img src=\"themes/dot.gif\" title=\"\"' +\n                    ' alt=\"\" class=\"icon ic_s_error\"> ' +\n                    Messages.strFormEmpty +\n                    ' </div>',\n                    false\n                );\n                return false;\n            }\n\n            var arrayIndex = $('input[name=\"composite_with\"]:checked').val();\n            var sourceLength = sourceArray[arrayIndex].columns.length;\n            var targetColumns = [];\n            for (var i = 0; i < sourceLength; i++) {\n                targetColumns.push(sourceArray[arrayIndex].columns[i].col_index);\n            }\n            targetColumns.push(colIndex);\n\n            Indexes.showAddIndexDialog(sourceArray, arrayIndex, targetColumns, colIndex,\n                sourceArray[arrayIndex]);\n        }\n        $('#addIndexModal').modal('hide');\n    });\n    $('#addIndexModalCancelButton').on('click', function () {\n        // Handle state on 'Cancel'.\n        var $selectList = $('select[name=\"field_key[' + colIndex + ']\"]');\n        if (! $selectList.attr('data-index').length) {\n            $selectList.find('option[value*=\"none\"]').attr('selected', 'selected');\n        } else {\n            var previousIndex = $selectList.attr('data-index').split(',');\n            $selectList.find('option[value*=\"' + previousIndex[0].toLowerCase() + '\"]')\n                .attr('selected', 'selected');\n        }\n        removeIndexOnChangeEvent();\n    });\n    $('#addIndexModalCloseButton').on('click', function () {\n        removeIndexOnChangeEvent();\n    });\n    $('#addIndexModal').modal('show');\n    $('#addIndexModalLabel').first().text(Messages.strAddIndex);\n    $('#addIndexModal').find('.modal-body').first().html($dialogContent);\n    $('#composite_index').on('change', function () {\n        if ($(this).is(':checked')) {\n            $dialogContent.append(Indexes.getCompositeIndexList(sourceArray, colIndex));\n        }\n    });\n    $('#single_column').on('change', function () {\n        if ($(this).is(':checked')) {\n            if ($('#composite_index_list').length) {\n                $('#composite_index_list').remove();\n            }\n        }\n    });\n};\n\n/**\n * Unbind all event handlers before tearing down a page\n */\nAJAX.registerTeardown('indexes.js', function () {\n    $(document).off('click', '#save_index_frm');\n    $(document).off('click', '#preview_index_frm');\n    $(document).off('change', '#select_index_choice');\n    $(document).off('click', 'a.drop_primary_key_index_anchor.ajax');\n    $(document).off('click', '#table_index tbody tr td.edit_index.ajax, #index_div .add_index.ajax');\n    $(document).off('click', '#table_index tbody tr td.rename_index.ajax');\n    $(document).off('click', '#index_frm input[type=submit]');\n    $('body').off('change', 'select[name*=\"field_key\"]');\n    $(document).off('click', '.show_index_dialog');\n});\n\n/**\n * @description <p>Ajax scripts for table index page</p>\n *\n * Actions ajaxified here:\n * <ul>\n * <li>Showing/hiding inputs depending on the index type chosen</li>\n * <li>create/edit/drop indexes</li>\n * </ul>\n */\nAJAX.registerOnload('indexes.js', function () {\n    // Re-initialize variables.\n    primaryIndexes = [];\n    uniqueIndexes = [];\n    indexes = [];\n    fulltextIndexes = [];\n    spatialIndexes = [];\n\n    // for table creation form\n    var $engineSelector = $('.create_table_form select[name=tbl_storage_engine]');\n    if ($engineSelector.length) {\n        Functions.hideShowConnection($engineSelector);\n    }\n\n    var $form = $('#index_frm');\n    if ($form.length > 0) {\n        Functions.showIndexEditDialog($form);\n    }\n\n    $(document).on('click', '#save_index_frm', function (event) {\n        event.preventDefault();\n        var $form = $('#index_frm');\n        var argsep = CommonParams.get('arg_separator');\n        var submitData = $form.serialize() + argsep + 'do_save_data=1' + argsep + 'ajax_request=true' + argsep + 'ajax_page_request=true';\n        Functions.ajaxShowMessage(Messages.strProcessingRequest);\n        AJAX.source = $form;\n        $.post($form.attr('action'), submitData, AJAX.responseHandler);\n    });\n\n    $(document).on('click', '#preview_index_frm', function (event) {\n        event.preventDefault();\n        Functions.previewSql($('#index_frm'));\n    });\n\n    $(document).on('change', '#select_index_choice', function (event) {\n        event.preventDefault();\n        Indexes.checkIndexType();\n        Functions.checkIndexName('index_frm');\n    });\n\n    /**\n     * Ajax Event handler for 'Drop Index'\n     */\n    $(document).on('click', 'a.drop_primary_key_index_anchor.ajax', function (event) {\n        event.preventDefault();\n        var $anchor = $(this);\n        /**\n         * @var $currRow Object containing reference to the current field's row\n         */\n        var $currRow = $anchor.parents('tr');\n        /** @var {number} rows Number of columns in the key */\n        var rows = $anchor.parents('td').attr('rowspan') || 1;\n        /** @var {number} $rowsToHide Rows that should be hidden */\n        var $rowsToHide = $currRow;\n        for (var i = 1, $lastRow = $currRow.next(); i < rows; i++, $lastRow = $lastRow.next()) {\n            $rowsToHide = $rowsToHide.add($lastRow);\n        }\n\n        var question = $currRow.children('td')\n            .children('.drop_primary_key_index_msg')\n            .val();\n\n        Functions.confirmPreviewSql(question, $anchor.attr('href'), function (url) {\n            var $msg = Functions.ajaxShowMessage(Messages.strDroppingPrimaryKeyIndex, false);\n            var params = Functions.getJsConfirmCommonParam(this, $anchor.getPostData());\n            $.post(url, params, function (data) {\n                if (typeof data !== 'undefined' && data.success === true) {\n                    Functions.ajaxRemoveMessage($msg);\n                    var $tableRef = $rowsToHide.closest('table');\n                    if ($rowsToHide.length === $tableRef.find('tbody > tr').length) {\n                        // We are about to remove all rows from the table\n                        $tableRef.hide('medium', function () {\n                            $('div.no_indexes_defined').show('medium');\n                            $rowsToHide.remove();\n                        });\n                        $tableRef.siblings('.alert-primary').hide('medium');\n                    } else {\n                        // We are removing some of the rows only\n                        $rowsToHide.hide('medium', function () {\n                            $(this).remove();\n                        });\n                    }\n                    if ($('.result_query').length) {\n                        $('.result_query').remove();\n                    }\n                    if (data.sql_query) {\n                        $('<div class=\"result_query\"></div>')\n                            .html(data.sql_query)\n                            .prependTo('#structure_content');\n                        Functions.highlightSql($('#page_content'));\n                    }\n                    Navigation.reload();\n                    CommonActions.refreshMain('index.php?route=/table/structure');\n                } else {\n                    Functions.ajaxShowMessage(Messages.strErrorProcessingRequest + ' : ' + data.error, false);\n                }\n            }); // end $.post()\n        });\n    }); // end Drop Primary Key/Index\n\n    /**\n     * Ajax event handler for index edit\n     **/\n    $(document).on('click', '#table_index tbody tr td.edit_index.ajax, #index_div .add_index.ajax', function (event) {\n        event.preventDefault();\n        var url;\n        var title;\n        if ($(this).find('a').length === 0) {\n            // Add index\n            var valid = Functions.checkFormElementInRange(\n                $(this).closest('form')[0],\n                'added_fields',\n                'Column count has to be larger than zero.'\n            );\n            if (! valid) {\n                return;\n            }\n            url = $(this).closest('form').serialize();\n            title = Messages.strAddIndex;\n        } else {\n            // Edit index\n            url = $(this).find('a').getPostData();\n            title = Messages.strEditIndex;\n        }\n        url += CommonParams.get('arg_separator') + 'ajax_request=true';\n        Functions.indexEditorDialog(url, title, function (data) {\n            CommonParams.set('db', data.params.db);\n            CommonParams.set('table', data.params.table);\n            CommonActions.refreshMain('index.php?route=/table/structure');\n        });\n    });\n\n    /**\n     * Ajax event handler for index rename\n     **/\n    $(document).on('click', '#table_index tbody tr td.rename_index.ajax', function (event) {\n        event.preventDefault();\n        var url = $(this).find('a').getPostData();\n        var title = Messages.strRenameIndex;\n        url += CommonParams.get('arg_separator') + 'ajax_request=true';\n        Functions.indexRenameDialog(url, title, function (data) {\n            CommonParams.set('db', data.params.db);\n            CommonParams.set('table', data.params.table);\n            CommonActions.refreshMain('index.php?route=/table/structure');\n        });\n    });\n\n    /**\n     * Ajax event handler for advanced index creation during table creation\n     * and column addition.\n     */\n    $('body').on('change', 'select[name*=\"field_key\"]', function (e, showDialog) {\n        var showDialogLocal = typeof showDialog !== 'undefined' ? showDialog : true;\n        // Index of column on Table edit and create page.\n        var colIndex = /\\d+/.exec($(this).attr('name'));\n        colIndex = colIndex[0];\n        // Choice of selected index.\n        var indexChoice = /[a-z]+/.exec($(this).val());\n        indexChoice = indexChoice[0];\n        // Array containing corresponding indexes.\n        var sourceArray = null;\n\n        if (indexChoice === 'none') {\n            Indexes.removeColumnFromIndex(colIndex);\n            var id = 'index_name_' + '0' + '_8';\n            var $name = $('#' + id);\n            if ($name.length === 0) {\n                $name = $('<a id=\"' + id + '\" href=\"#\" class=\"ajax show_index_dialog\"></a>');\n                $name.insertAfter($('select[name=\"field_key[' + '0' + ']\"]'));\n            }\n            $name.html('');\n            return false;\n        }\n\n        // Select a source array.\n        sourceArray = Indexes.getIndexArray(indexChoice);\n        if (sourceArray === null) {\n            return;\n        }\n\n        if (sourceArray.length === 0) {\n            var index = {\n                'Key_name': (indexChoice === 'primary' ? 'PRIMARY' : ''),\n                'Index_choice': indexChoice.toUpperCase()\n            };\n            Indexes.showAddIndexDialog(sourceArray, 0, [colIndex], colIndex, index, showDialogLocal);\n        } else {\n            if (indexChoice === 'primary') {\n                var arrayIndex = 0;\n                var sourceLength = sourceArray[arrayIndex].columns.length;\n                var targetColumns = [];\n                for (var i = 0; i < sourceLength; i++) {\n                    targetColumns.push(sourceArray[arrayIndex].columns[i].col_index);\n                }\n                targetColumns.push(colIndex);\n                Indexes.showAddIndexDialog(sourceArray, arrayIndex, targetColumns, colIndex,\n                    sourceArray[arrayIndex], showDialogLocal);\n            } else {\n                // If there are multiple columns selected for an index, show advanced dialog.\n                Indexes.indexTypeSelectionDialog(sourceArray, indexChoice, colIndex);\n            }\n        }\n    });\n\n    $(document).on('click', '.show_index_dialog', function (e) {\n        e.preventDefault();\n\n        // Get index details.\n        var previousIndex = $(this).prev('select')\n            .attr('data-index')\n            .split(',');\n\n        var indexChoice = previousIndex[0];\n        var arrayIndex  = previousIndex[1];\n\n        var sourceArray = Indexes.getIndexArray(indexChoice);\n        if (sourceArray !== null) {\n            var sourceLength = sourceArray[arrayIndex].columns.length;\n\n            var targetColumns = [];\n            for (var i = 0; i < sourceLength; i++) {\n                targetColumns.push(sourceArray[arrayIndex].columns[i].col_index);\n            }\n\n            Indexes.showAddIndexDialog(sourceArray, arrayIndex, targetColumns, -1, sourceArray[arrayIndex]);\n        }\n    });\n\n    $('#index_frm').on('submit', function () {\n        if (typeof(this.elements['index[Key_name]'].disabled) !== 'undefined') {\n            this.elements['index[Key_name]'].disabled = false;\n        }\n    });\n});\n"],"names":["Indexes","getIndexArray","indexChoice","sourceArray","toLowerCase","primaryIndexes","uniqueIndexes","indexes","fulltextIndexes","spatialIndexes","checkIndexType","$selectIndexChoice","$","$selectIndexType","$sizeHeader","find","children","eq","$columnInputs","$sizeInputs","$addMore","val","hide","each","prop","parent","initial","$columnInput","show","setIndexFormParameters","JSON","stringify","removeColumnFromIndex","colIndex","previousIndex","attr","length","split","sourceLength","columns","i","col_index","splice","addColumnToIndex","arrayIndex","indexName","indexComment","keyBlockSize","parser","indexType","size","push","toUpperCase","displayName","columnNames","join","id","$name","insertAfter","$text","text","html","getCompositeIndexList","remove","$compositeIndexList","Messages","strCompositeWith","alreadyPresent","subArrayLen","j","append","addIndexGo","index","isMissingValue","Index_choice","Functions","ajaxShowMessage","strMissingColumn","modal","showAddIndexDialog","targetColumns","showDialog","showDialogLocal","$table","table","postData","CommonParams","get","columnName","columnType","on","$selectList","$msgbox","post","data","success","error","ajaxRemoveMessage","$div","e","which","keyCode","window","event","preventDefault","console","log","first","strAddIndex","message","checkIndexName","showHints","css","width","sortable","axis","containment","tolerance","appendTo","removeIndexOnChangeEvent","off","indexTypeSelectionDialog","$singleColumnRadio","strCreateSingleColumnIndex","$compositeIndexRadio","strCreateCompositeIndex","$dialogContent","is","strFormEmpty","AJAX","registerTeardown","document","registerOnload","$engineSelector","hideShowConnection","$form","showIndexEditDialog","argsep","submitData","serialize","strProcessingRequest","source","responseHandler","previewSql","$anchor","$currRow","parents","rows","$rowsToHide","$lastRow","next","add","question","confirmPreviewSql","url","$msg","strDroppingPrimaryKeyIndex","params","getJsConfirmCommonParam","getPostData","$tableRef","closest","siblings","sql_query","prependTo","highlightSql","Navigation","reload","CommonActions","refreshMain","strErrorProcessingRequest","title","valid","checkFormElementInRange","strEditIndex","indexEditorDialog","set","db","strRenameIndex","indexRenameDialog","exec","prev","elements","disabled"],"sourceRoot":""}