{"version":3,"file":"indexes.js","mappings":"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","sources":["webpack://phpmyadmin/./js/src/indexes.js"],"sourcesContent":["/* global Navigation */\n\n/**\n * @fileoverview    function used for index manipulation pages\n * @name            Table Structure\n *\n * @requires    jQuery\n * @requires    jQueryUI\n * @required    js/functions.js\n */\n\nvar Indexes = {};\nwindow.Indexes = Indexes;\n\n/**\n * Returns the array of indexes based on the index choice\n *\n * @param {string} indexChoice index choice\n *\n * @return {null|object}\n */\nIndexes.getIndexArray = function (indexChoice) {\n    var sourceArray = null;\n\n    switch (indexChoice.toLowerCase()) {\n    case 'primary':\n        sourceArray = window.primaryIndexes;\n        break;\n    case 'unique':\n        sourceArray = window.uniqueIndexes;\n        break;\n    case 'index':\n        sourceArray = window.indexes;\n        break;\n    case 'fulltext':\n        sourceArray = window.fulltextIndexes;\n        break;\n    case 'spatial':\n        sourceArray = window.spatialIndexes;\n        break;\n    default:\n        return null;\n    }\n    return sourceArray;\n};\n\n/**\n * Hides/shows the inputs and submits appropriately depending\n * on whether the index type chosen is 'SPATIAL' or not.\n */\nIndexes.checkIndexType = function () {\n    /**\n     * @var {JQuery<HTMLElement}, Dropdown to select the index choice.\n     */\n    var $selectIndexChoice = $('#select_index_choice');\n    /**\n     * @var {JQuery<HTMLElement}, Dropdown to select the index type.\n     */\n    var $selectIndexType = $('#select_index_type');\n    /**\n     * @var {JQuery<HTMLElement}, Table header for the size column.\n     */\n    var $sizeHeader = $('#index_columns').find('thead tr').children('th').eq(1);\n    /**\n     * @var {JQuery<HTMLElement}, Inputs to specify the columns for the index.\n     */\n    var $columnInputs = $('select[name=\"index[columns][names][]\"]');\n    /**\n     * @var {JQuery<HTMLElement}, Inputs to specify sizes for columns of the index.\n     */\n    var $sizeInputs = $('input[name=\"index[columns][sub_parts][]\"]');\n    /**\n     * @var {JQuery<HTMLElement}, Footer containing the controllers to add more columns\n     */\n    var $addMore = $('#index_frm').find('.add_more');\n\n    if ($selectIndexChoice.val() === 'SPATIAL') {\n        // Disable and hide the size column\n        $sizeHeader.hide();\n        $sizeInputs.each(function () {\n            $(this)\n                .prop('disabled', true)\n                .parent('td').hide();\n        });\n\n        // Disable and hide the columns of the index other than the first one\n        var initial = true;\n        $columnInputs.each(function () {\n            var $columnInput = $(this);\n            if (! initial) {\n                $columnInput\n                    .prop('disabled', true)\n                    .parent('td').hide();\n            } else {\n                initial = false;\n            }\n        });\n\n        // Hide controllers to add more columns\n        $addMore.hide();\n    } else {\n        // Enable and show the size column\n        $sizeHeader.show();\n        $sizeInputs.each(function () {\n            $(this)\n                .prop('disabled', false)\n                .parent('td').show();\n        });\n\n        // Enable and show the columns of the index\n        $columnInputs.each(function () {\n            $(this)\n                .prop('disabled', false)\n                .parent('td').show();\n        });\n\n        // Show controllers to add more columns\n        $addMore.show();\n    }\n\n    if ($selectIndexChoice.val() === 'SPATIAL' ||\n            $selectIndexChoice.val() === 'FULLTEXT') {\n        $selectIndexType.val('').prop('disabled', true);\n    } else {\n        $selectIndexType.prop('disabled', false);\n    }\n};\n\n/**\n * Sets current index information into form parameters.\n *\n * @param {any[]}  sourceArray Array containing index columns\n * @param {string} indexChoice Choice of index\n *\n * @return {void}\n */\nIndexes.setIndexFormParameters = function (sourceArray, indexChoice) {\n    if (indexChoice === 'index') {\n        $('input[name=\"indexes\"]').val(JSON.stringify(sourceArray));\n    } else {\n        $('input[name=\"' + indexChoice + '_indexes\"]').val(JSON.stringify(sourceArray));\n    }\n};\n\n/**\n * Removes a column from an Index.\n *\n * @param {string} colIndex Index of column in form\n *\n * @return {void}\n */\nIndexes.removeColumnFromIndex = function (colIndex) {\n    // Get previous index details.\n    var previousIndex = $('select[name=\"field_key[' + colIndex + ']\"]')\n        .attr('data-index');\n    if (previousIndex.length) {\n        previousIndex = previousIndex.split(',');\n        var sourceArray = Indexes.getIndexArray(previousIndex[0]);\n        if (sourceArray === null) {\n            return;\n        }\n\n        // Remove column from index array.\n        var sourceLength = sourceArray[previousIndex[1]].columns.length;\n        for (var i = 0; i < sourceLength; i++) {\n            if (sourceArray[previousIndex[1]].columns[i].col_index === colIndex) {\n                sourceArray[previousIndex[1]].columns.splice(i, 1);\n            }\n        }\n\n        // Remove index completely if no columns left.\n        if (sourceArray[previousIndex[1]].columns.length === 0) {\n            sourceArray.splice(previousIndex[1], 1);\n        }\n\n        // Update current index details.\n        $('select[name=\"field_key[' + colIndex + ']\"]').attr('data-index', '');\n        // Update form index parameters.\n        Indexes.setIndexFormParameters(sourceArray, previousIndex[0].toLowerCase());\n    }\n};\n\n/**\n * Adds a column to an Index.\n *\n * @param {any[]}  sourceArray Array holding corresponding indexes\n * @param {string} arrayIndex  Index of an INDEX in array\n * @param {string} indexChoice Choice of Index\n * @param {string} colIndex    Index of column on form\n *\n * @return {void}\n */\nIndexes.addColumnToIndex = function (sourceArray, arrayIndex, indexChoice, colIndex) {\n    if (colIndex >= 0) {\n        // Remove column from other indexes (if any).\n        Indexes.removeColumnFromIndex(colIndex);\n    }\n    var indexName = $('input[name=\"index[Key_name]\"]').val();\n    var indexComment = $('input[name=\"index[Index_comment]\"]').val();\n    var keyBlockSize = $('input[name=\"index[Key_block_size]\"]').val();\n    var parser = $('input[name=\"index[Parser]\"]').val();\n    var indexType = $('select[name=\"index[Index_type]\"]').val();\n    var columns = [];\n    $('#index_columns').find('tbody').find('tr').each(function () {\n        // Get columns in particular order.\n        var colIndex = $(this).find('select[name=\"index[columns][names][]\"]').val();\n        var size = $(this).find('input[name=\"index[columns][sub_parts][]\"]').val();\n        columns.push({\n            'col_index': colIndex,\n            'size': size\n        });\n    });\n\n    // Update or create an index.\n    sourceArray[arrayIndex] = {\n        'Key_name': indexName,\n        'Index_comment': indexComment,\n        'Index_choice': indexChoice.toUpperCase(),\n        'Key_block_size': keyBlockSize,\n        'Parser': parser,\n        'Index_type': indexType,\n        'columns': columns\n    };\n\n    // Display index name (or column list)\n    var displayName = indexName;\n    if (displayName === '') {\n        var columnNames = [];\n        $.each(columns, function () {\n            columnNames.push($('input[name=\"field_name[' +  this.col_index + ']\"]').val());\n        });\n        displayName = '[' + columnNames.join(', ') + ']';\n    }\n    $.each(columns, function () {\n        var id = 'index_name_' + this.col_index + '_8';\n        var $name = $('#' + id);\n        if ($name.length === 0) {\n            $name = $('<a id=\"' + id + '\" href=\"#\" class=\"ajax show_index_dialog\"></a>');\n            $name.insertAfter($('select[name=\"field_key[' + this.col_index + ']\"]'));\n        }\n        var $text = $('<small>').text(displayName);\n        $name.html($text);\n    });\n\n    if (colIndex >= 0) {\n        // Update index details on form.\n        $('select[name=\"field_key[' + colIndex + ']\"]')\n            .attr('data-index', indexChoice + ',' + arrayIndex);\n    }\n    Indexes.setIndexFormParameters(sourceArray, indexChoice.toLowerCase());\n};\n\n/**\n * Get choices list for a column to create a composite index with.\n *\n * @param {any[]} sourceArray Array hodling columns for particular index\n * @param {string} colIndex Choice of index\n *\n * @return {JQuery} jQuery Object\n */\nIndexes.getCompositeIndexList = function (sourceArray, colIndex) {\n    // Remove any previous list.\n    if ($('#composite_index_list').length) {\n        $('#composite_index_list').remove();\n    }\n\n    // Html list.\n    var $compositeIndexList = $(\n        '<ul id=\"composite_index_list\">' +\n        '<div>' + window.Messages.strCompositeWith + '</div>' +\n        '</ul>'\n    );\n\n    // Add each column to list available for composite index.\n    var sourceLength = sourceArray.length;\n    var alreadyPresent = false;\n    for (var i = 0; i < sourceLength; i++) {\n        var subArrayLen = sourceArray[i].columns.length;\n        var columnNames = [];\n        for (var j = 0; j < subArrayLen; j++) {\n            columnNames.push(\n                $('input[name=\"field_name[' + sourceArray[i].columns[j].col_index + ']\"]').val()\n            );\n\n            if (colIndex === sourceArray[i].columns[j].col_index) {\n                alreadyPresent = true;\n            }\n        }\n\n        $compositeIndexList.append(\n            '<li>' +\n            '<input type=\"radio\" name=\"composite_with\" ' +\n            (alreadyPresent ? 'checked=\"checked\"' : '') +\n            ' id=\"composite_index_' + i + '\" value=\"' + i + '\">' +\n            '<label for=\"composite_index_' + i + '\">' + columnNames.join(', ') +\n            '</label>' +\n            '</li>'\n        );\n    }\n\n    return $compositeIndexList;\n};\n\nvar addIndexGo = function (sourceArray, arrayIndex, index, colIndex) {\n    var isMissingValue = false;\n    $('select[name=\"index[columns][names][]\"]').each(function () {\n        if ($(this).val() === '') {\n            isMissingValue = true;\n        }\n    });\n\n    if (! isMissingValue) {\n        Indexes.addColumnToIndex(\n            sourceArray,\n            arrayIndex,\n            index.Index_choice,\n            colIndex\n        );\n    } else {\n        Functions.ajaxShowMessage(\n            '<div class=\"alert alert-danger\" role=\"alert\"><img src=\"themes/dot.gif\" title=\"\" alt=\"\"' +\n            ' class=\"icon ic_s_error\"> ' + window.Messages.strMissingColumn +\n            ' </div>', false\n        );\n\n        return false;\n    }\n\n    $('#addIndexModal').modal('hide');\n};\n\n/**\n * Shows 'Add Index' dialog.\n *\n * @param {any[]}  sourceArray   Array holding particular index\n * @param {string} arrayIndex    Index of an INDEX in array\n * @param {any[]}  targetColumns Columns for an INDEX\n * @param {string} colIndex      Index of column on form\n * @param {object} index         Index detail object\n * @param {boolean} showDialog   Whether to show index creation dialog or not\n *\n * @return {void}\n */\nIndexes.showAddIndexDialog = function (sourceArray, arrayIndex, targetColumns, colIndex, index, showDialog) {\n    var showDialogLocal = typeof showDialog !== 'undefined' ? showDialog : true;\n    // Prepare post-data.\n    var $table = $('input[name=\"table\"]');\n    var table = $table.length > 0 ? $table.val() : '';\n    var postData = {\n        'server': window.CommonParams.get('server'),\n        'db': $('input[name=\"db\"]').val(),\n        'table': table,\n        'ajax_request': 1,\n        'create_edit_table': 1,\n        'index': index\n    };\n\n    var columns = {};\n    for (var i = 0; i < targetColumns.length; i++) {\n        var columnName = $('input[name=\"field_name[' + targetColumns[i] + ']\"]').val();\n        var columnType = $('select[name=\"field_type[' + targetColumns[i] + ']\"]').val().toLowerCase();\n        columns[columnName] = [columnType, targetColumns[i]];\n    }\n    postData.columns = JSON.stringify(columns);\n\n    $('#addIndexModalGoButton').on('click', function () {\n        addIndexGo(sourceArray, arrayIndex, index, colIndex);\n    });\n    $('#addIndexModalCancelButton').on('click', function () {\n        if (colIndex >= 0) {\n            // Handle state on 'Cancel'.\n            var $selectList = $('select[name=\"field_key[' + colIndex + ']\"]');\n            if (! $selectList.attr('data-index').length) {\n                $selectList.find('option[value*=\"none\"]').attr('selected', 'selected');\n            } else {\n                var previousIndex = $selectList.attr('data-index').split(',');\n                $selectList.find('option[value*=\"' + previousIndex[0].toLowerCase() + '\"]')\n                    .attr('selected', 'selected');\n            }\n        }\n        $('#addIndexModal').modal('hide');\n    });\n    $('#addIndexModalCloseButton').on('click', function () {\n        $('#addIndexModal').modal('hide');\n    });\n    var $msgbox = Functions.ajaxShowMessage();\n    $.post('index.php?route=/table/indexes', postData, function (data) {\n        if (data.success === false) {\n            // in the case of an error, show the error message returned.\n            Functions.ajaxShowMessage(data.error, false);\n        } else {\n            Functions.ajaxRemoveMessage($msgbox);\n            var $div = $('<div></div>');\n            if (showDialogLocal) {\n                // Show dialog if the request was successful\n                if ($('#addIndex').length > 0) {\n                    $('#addIndex').remove();\n                }\n                $('#addIndexModal').on('keypress', function (e) {\n                    if (e.which === 13 || e.keyCode === 13 || window.event.keyCode === 13) {\n                        e.preventDefault();\n                        console.log('BOOM');\n                        addIndexGo(sourceArray, arrayIndex, index, colIndex);\n                        $('#addIndexModal').modal('hide');\n                    }\n                });\n                $('#addIndexModal').modal('show');\n                $('#addIndexModalLabel').first().text(window.Messages.strAddIndex);\n                $('#addIndexModal').find('.modal-body').first().html(data.message);\n                Functions.checkIndexName('index_frm');\n                Functions.showHints($div);\n                $('#index_columns').find('td').each(function () {\n                    $(this).css('width', $(this).width() + 'px');\n                });\n                $('#index_columns').find('tbody').sortable({\n                    axis: 'y',\n                    containment: $('#index_columns').find('tbody'),\n                    tolerance: 'pointer'\n                });\n            } else {\n                $div\n                    .append(data.message);\n                $div.css({ 'display' : 'none' });\n                $div.appendTo($('body'));\n                $div.attr({ 'id' : 'addIndex' });\n                var isMissingValue = false;\n                $('select[name=\"index[columns][names][]\"]').each(function () {\n                    if ($(this).val() === '') {\n                        isMissingValue = true;\n                    }\n                });\n\n                if (! isMissingValue) {\n                    Indexes.addColumnToIndex(\n                        sourceArray,\n                        arrayIndex,\n                        index.Index_choice,\n                        colIndex\n                    );\n                } else {\n                    Functions.ajaxShowMessage(\n                        '<div class=\"alert alert-danger\" role=\"alert\"><img src=\"themes/dot.gif\" title=\"\" alt=\"\"' +\n                        ' class=\"icon ic_s_error\"> ' + window.Messages.strMissingColumn +\n                        ' </div>', false\n                    );\n\n                    return false;\n                }\n            }\n        }\n    });\n};\n\nvar removeIndexOnChangeEvent = function () {\n    $('#composite_index').off('change');\n    $('#single_column').off('change');\n    $('#addIndexModal').modal('hide');\n};\n\n/**\n * Creates a advanced index type selection dialog.\n *\n * @param {any[]}  sourceArray Array holding a particular type of indexes\n * @param {string} indexChoice Choice of index\n * @param {string} colIndex    Index of new column on form\n *\n * @return {void}\n */\nIndexes.indexTypeSelectionDialog = function (sourceArray, indexChoice, colIndex) {\n    var $singleColumnRadio = $('<input type=\"radio\" id=\"single_column\" name=\"index_choice\"' +\n        ' checked=\"checked\">' +\n        '<label for=\"single_column\">' + window.Messages.strCreateSingleColumnIndex + '</label>');\n    var $compositeIndexRadio = $('<input type=\"radio\" id=\"composite_index\"' +\n        ' name=\"index_choice\">' +\n        '<label for=\"composite_index\">' + window.Messages.strCreateCompositeIndex + '</label>');\n    var $dialogContent = $('<fieldset class=\"pma-fieldset\" id=\"advance_index_creator\"></fieldset>');\n    $dialogContent.append('<legend>' + indexChoice.toUpperCase() + '</legend>');\n\n\n    // For UNIQUE/INDEX type, show choice for single-column and composite index.\n    $dialogContent.append($singleColumnRadio);\n    $dialogContent.append($compositeIndexRadio);\n\n    // 'OK' operation.\n    $('#addIndexModalGoButton').on('click', function () {\n        if ($('#single_column').is(':checked')) {\n            var index = {\n                'Key_name': (indexChoice === 'primary' ? 'PRIMARY' : ''),\n                'Index_choice': indexChoice.toUpperCase()\n            };\n            Indexes.showAddIndexDialog(sourceArray, (sourceArray.length), [colIndex], colIndex, index);\n        }\n\n        if ($('#composite_index').is(':checked')) {\n            if ($('input[name=\"composite_with\"]').length !== 0 && $('input[name=\"composite_with\"]:checked').length === 0\n            ) {\n                Functions.ajaxShowMessage(\n                    '<div class=\"alert alert-danger\" role=\"alert\"><img src=\"themes/dot.gif\" title=\"\"' +\n                    ' alt=\"\" class=\"icon ic_s_error\"> ' +\n                    window.Messages.strFormEmpty +\n                    ' </div>',\n                    false\n                );\n                return false;\n            }\n\n            var arrayIndex = $('input[name=\"composite_with\"]:checked').val();\n            var sourceLength = sourceArray[arrayIndex].columns.length;\n            var targetColumns = [];\n            for (var i = 0; i < sourceLength; i++) {\n                targetColumns.push(sourceArray[arrayIndex].columns[i].col_index);\n            }\n            targetColumns.push(colIndex);\n\n            Indexes.showAddIndexDialog(sourceArray, arrayIndex, targetColumns, colIndex,\n                sourceArray[arrayIndex]);\n        }\n        $('#addIndexModal').modal('hide');\n    });\n    $('#addIndexModalCancelButton').on('click', function () {\n        // Handle state on 'Cancel'.\n        var $selectList = $('select[name=\"field_key[' + colIndex + ']\"]');\n        if (! $selectList.attr('data-index').length) {\n            $selectList.find('option[value*=\"none\"]').attr('selected', 'selected');\n        } else {\n            var previousIndex = $selectList.attr('data-index').split(',');\n            $selectList.find('option[value*=\"' + previousIndex[0].toLowerCase() + '\"]')\n                .attr('selected', 'selected');\n        }\n        removeIndexOnChangeEvent();\n    });\n    $('#addIndexModalCloseButton').on('click', function () {\n        removeIndexOnChangeEvent();\n    });\n    $('#addIndexModal').modal('show');\n    $('#addIndexModalLabel').first().text(window.Messages.strAddIndex);\n    $('#addIndexModal').find('.modal-body').first().html($dialogContent);\n    $('#composite_index').on('change', function () {\n        if ($(this).is(':checked')) {\n            $dialogContent.append(Indexes.getCompositeIndexList(sourceArray, colIndex));\n        }\n    });\n    $('#single_column').on('change', function () {\n        if ($(this).is(':checked')) {\n            if ($('#composite_index_list').length) {\n                $('#composite_index_list').remove();\n            }\n        }\n    });\n};\n\n/**\n * @return {function}\n */\nIndexes.off = () => function () {\n    $(document).off('click', '#save_index_frm');\n    $(document).off('click', '#preview_index_frm');\n    $(document).off('change', '#select_index_choice');\n    $(document).off('click', 'a.drop_primary_key_index_anchor.ajax');\n    $(document).off('click', '#table_index tbody tr td.edit_index.ajax, #index_div .add_index.ajax');\n    $(document).off('click', '#table_index tbody tr td.rename_index.ajax');\n    $(document).off('click', '#index_frm input[type=submit]');\n    $('body').off('change', 'select[name*=\"field_key\"]');\n    $(document).off('click', '.show_index_dialog');\n};\n\n/**\n * @return {function}\n */\nIndexes.on = () => function () {\n    // Re-initialize variables.\n    window.primaryIndexes = [];\n    window.uniqueIndexes = [];\n    window.indexes = [];\n    window.fulltextIndexes = [];\n    window.spatialIndexes = [];\n\n    // for table creation form\n    var $engineSelector = $('.create_table_form select[name=tbl_storage_engine]');\n    if ($engineSelector.length) {\n        Functions.hideShowConnection($engineSelector);\n    }\n\n    var $form = $('#index_frm');\n    if ($form.length > 0) {\n        Functions.showIndexEditDialog($form);\n    }\n\n    $(document).on('click', '#save_index_frm', function (event) {\n        event.preventDefault();\n        var $form = $('#index_frm');\n        var argsep = window.CommonParams.get('arg_separator');\n        var submitData = $form.serialize() + argsep + 'do_save_data=1' + argsep + 'ajax_request=true' + argsep + 'ajax_page_request=true';\n        Functions.ajaxShowMessage(window.Messages.strProcessingRequest);\n        window.AJAX.source = $form;\n        $.post($form.attr('action'), submitData, window.AJAX.responseHandler);\n    });\n\n    $(document).on('click', '#preview_index_frm', function (event) {\n        event.preventDefault();\n        Functions.previewSql($('#index_frm'));\n    });\n\n    $(document).on('change', '#select_index_choice', function (event) {\n        event.preventDefault();\n        Indexes.checkIndexType();\n        Functions.checkIndexName('index_frm');\n    });\n\n    /**\n     * Ajax Event handler for 'Drop Index'\n     */\n    $(document).on('click', 'a.drop_primary_key_index_anchor.ajax', function (event) {\n        event.preventDefault();\n        var $anchor = $(this);\n        /**\n         * @var $currRow Object containing reference to the current field's row\n         */\n        var $currRow = $anchor.parents('tr');\n        /** @var {number} rows Number of columns in the key */\n        var rows = $anchor.parents('td').attr('rowspan') || 1;\n        /** @var {number} $rowsToHide Rows that should be hidden */\n        var $rowsToHide = $currRow;\n        for (var i = 1, $lastRow = $currRow.next(); i < rows; i++, $lastRow = $lastRow.next()) {\n            $rowsToHide = $rowsToHide.add($lastRow);\n        }\n\n        var question = $currRow.children('td')\n            .children('.drop_primary_key_index_msg')\n            .val();\n\n        Functions.confirmPreviewSql(question, $anchor.attr('href'), function (url) {\n            var $msg = Functions.ajaxShowMessage(window.Messages.strDroppingPrimaryKeyIndex, false);\n            var params = Functions.getJsConfirmCommonParam(this, $anchor.getPostData());\n            $.post(url, params, function (data) {\n                if (typeof data !== 'undefined' && data.success === true) {\n                    Functions.ajaxRemoveMessage($msg);\n                    var $tableRef = $rowsToHide.closest('table');\n                    if ($rowsToHide.length === $tableRef.find('tbody > tr').length) {\n                        // We are about to remove all rows from the table\n                        $tableRef.hide('medium', function () {\n                            $('div.no_indexes_defined').show('medium');\n                            $rowsToHide.remove();\n                        });\n                        $tableRef.siblings('.alert-primary').hide('medium');\n                    } else {\n                        // We are removing some of the rows only\n                        $rowsToHide.hide('medium', function () {\n                            $(this).remove();\n                        });\n                    }\n                    if ($('.result_query').length) {\n                        $('.result_query').remove();\n                    }\n                    if (data.sql_query) {\n                        $('<div class=\"result_query\"></div>')\n                            .html(data.sql_query)\n                            .prependTo('#structure_content');\n                        Functions.highlightSql($('#page_content'));\n                    }\n                    Navigation.reload();\n                    window.CommonActions.refreshMain('index.php?route=/table/structure');\n                } else {\n                    Functions.ajaxShowMessage(window.Messages.strErrorProcessingRequest + ' : ' + data.error, false);\n                }\n            }); // end $.post()\n        });\n    }); // end Drop Primary Key/Index\n\n    /**\n     * Ajax event handler for index edit\n     **/\n    $(document).on('click', '#table_index tbody tr td.edit_index.ajax, #index_div .add_index.ajax', function (event) {\n        event.preventDefault();\n        var url;\n        var title;\n        if ($(this).find('a').length === 0) {\n            // Add index\n            var valid = Functions.checkFormElementInRange(\n                $(this).closest('form')[0],\n                'added_fields',\n                'Column count has to be larger than zero.'\n            );\n            if (! valid) {\n                return;\n            }\n            url = $(this).closest('form').serialize();\n            title = window.Messages.strAddIndex;\n        } else {\n            // Edit index\n            url = $(this).find('a').getPostData();\n            title = window.Messages.strEditIndex;\n        }\n        url += window.CommonParams.get('arg_separator') + 'ajax_request=true';\n        Functions.indexEditorDialog(url, title, function (data) {\n            window.CommonParams.set('db', data.params.db);\n            window.CommonParams.set('table', data.params.table);\n            window.CommonActions.refreshMain('index.php?route=/table/structure');\n        });\n    });\n\n    /**\n     * Ajax event handler for index rename\n     **/\n    $(document).on('click', '#table_index tbody tr td.rename_index.ajax', function (event) {\n        event.preventDefault();\n        var url = $(this).find('a').getPostData();\n        var title = window.Messages.strRenameIndex;\n        url += window.CommonParams.get('arg_separator') + 'ajax_request=true';\n        Functions.indexRenameDialog(url, title, function (data) {\n            window.CommonParams.set('db', data.params.db);\n            window.CommonParams.set('table', data.params.table);\n            window.CommonActions.refreshMain('index.php?route=/table/structure');\n        });\n    });\n\n    /**\n     * Ajax event handler for advanced index creation during table creation\n     * and column addition.\n     */\n    $('body').on('change', 'select[name*=\"field_key\"]', function (e, showDialog) {\n        var showDialogLocal = typeof showDialog !== 'undefined' ? showDialog : true;\n        // Index of column on Table edit and create page.\n        var colIndex = /\\d+/.exec($(this).attr('name'));\n        colIndex = colIndex[0];\n        // Choice of selected index.\n        var indexChoice = /[a-z]+/.exec($(this).val());\n        indexChoice = indexChoice[0];\n        // Array containing corresponding indexes.\n        var sourceArray = null;\n\n        if (indexChoice === 'none') {\n            Indexes.removeColumnFromIndex(colIndex);\n            var id = 'index_name_' + '0' + '_8';\n            var $name = $('#' + id);\n            if ($name.length === 0) {\n                $name = $('<a id=\"' + id + '\" href=\"#\" class=\"ajax show_index_dialog\"></a>');\n                $name.insertAfter($('select[name=\"field_key[' + '0' + ']\"]'));\n            }\n            $name.html('');\n            return false;\n        }\n\n        // Select a source array.\n        sourceArray = Indexes.getIndexArray(indexChoice);\n        if (sourceArray === null) {\n            return;\n        }\n\n        if (sourceArray.length === 0) {\n            var index = {\n                'Key_name': (indexChoice === 'primary' ? 'PRIMARY' : ''),\n                'Index_choice': indexChoice.toUpperCase()\n            };\n            Indexes.showAddIndexDialog(sourceArray, 0, [colIndex], colIndex, index, showDialogLocal);\n        } else {\n            if (indexChoice === 'primary') {\n                var arrayIndex = 0;\n                var sourceLength = sourceArray[arrayIndex].columns.length;\n                var targetColumns = [];\n                for (var i = 0; i < sourceLength; i++) {\n                    targetColumns.push(sourceArray[arrayIndex].columns[i].col_index);\n                }\n                targetColumns.push(colIndex);\n                Indexes.showAddIndexDialog(sourceArray, arrayIndex, targetColumns, colIndex,\n                    sourceArray[arrayIndex], showDialogLocal);\n            } else {\n                // If there are multiple columns selected for an index, show advanced dialog.\n                Indexes.indexTypeSelectionDialog(sourceArray, indexChoice, colIndex);\n            }\n        }\n    });\n\n    $(document).on('click', '.show_index_dialog', function (e) {\n        e.preventDefault();\n\n        // Get index details.\n        var previousIndex = $(this).prev('select')\n            .attr('data-index')\n            .split(',');\n\n        var indexChoice = previousIndex[0];\n        var arrayIndex = previousIndex[1];\n\n        var sourceArray = Indexes.getIndexArray(indexChoice);\n        if (sourceArray !== null) {\n            var sourceLength = sourceArray[arrayIndex].columns.length;\n\n            var targetColumns = [];\n            for (var i = 0; i < sourceLength; i++) {\n                targetColumns.push(sourceArray[arrayIndex].columns[i].col_index);\n            }\n\n            Indexes.showAddIndexDialog(sourceArray, arrayIndex, targetColumns, -1, sourceArray[arrayIndex]);\n        }\n    });\n\n    $('#index_frm').on('submit', function () {\n        if (typeof (this.elements['index[Key_name]'].disabled) !== 'undefined') {\n            this.elements['index[Key_name]'].disabled = false;\n        }\n    });\n};\n"],"names":["Indexes","window","getIndexArray","indexChoice","sourceArray","toLowerCase","primaryIndexes","uniqueIndexes","indexes","fulltextIndexes","spatialIndexes","checkIndexType","$selectIndexChoice","$","$selectIndexType","$sizeHeader","find","children","eq","$columnInputs","$sizeInputs","$addMore","val","hide","each","prop","parent","initial","$columnInput","show","setIndexFormParameters","JSON","stringify","removeColumnFromIndex","colIndex","previousIndex","attr","length","split","sourceLength","columns","i","col_index","splice","addColumnToIndex","arrayIndex","indexName","indexComment","keyBlockSize","parser","indexType","size","push","toUpperCase","displayName","columnNames","join","id","$name","insertAfter","$text","text","html","getCompositeIndexList","remove","$compositeIndexList","Messages","strCompositeWith","alreadyPresent","subArrayLen","j","append","addIndexGo","index","isMissingValue","Index_choice","Functions","ajaxShowMessage","strMissingColumn","modal","showAddIndexDialog","targetColumns","showDialog","showDialogLocal","$table","table","postData","CommonParams","get","columnName","columnType","on","$selectList","$msgbox","post","data","success","error","ajaxRemoveMessage","$div","e","which","keyCode","event","preventDefault","console","log","first","strAddIndex","message","checkIndexName","showHints","css","width","sortable","axis","containment","tolerance","appendTo","removeIndexOnChangeEvent","off","indexTypeSelectionDialog","$singleColumnRadio","strCreateSingleColumnIndex","$compositeIndexRadio","strCreateCompositeIndex","$dialogContent","is","strFormEmpty","document","$engineSelector","hideShowConnection","$form","showIndexEditDialog","argsep","submitData","serialize","strProcessingRequest","AJAX","source","responseHandler","previewSql","$anchor","$currRow","parents","rows","$rowsToHide","$lastRow","next","add","question","confirmPreviewSql","url","$msg","strDroppingPrimaryKeyIndex","params","getJsConfirmCommonParam","getPostData","$tableRef","closest","siblings","sql_query","prependTo","highlightSql","Navigation","reload","CommonActions","refreshMain","strErrorProcessingRequest","title","valid","checkFormElementInRange","strEditIndex","indexEditorDialog","set","db","strRenameIndex","indexRenameDialog","exec","prev","elements","disabled"],"sourceRoot":""}