{"version":3,"file":"config.js","mappings":"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","sources":["webpack://phpmyadmin/./js/src/config.js"],"sourcesContent":["/**\n * Functions used in configuration forms and on user preferences pages\n */\n\n/* exported PASSIVE_EVENT_LISTENERS */\n\nvar configInlineParams;\nvar configScriptLoaded;\n\n/**\n * checks whether browser supports web storage\n *\n * @param {'localStorage' | 'sessionStorage'} type the type of storage i.e. localStorage or sessionStorage\n * @param {boolean} warn Wether to show a warning on error\n *\n * @return {boolean}\n */\nfunction isStorageSupported (type, warn = false) {\n    try {\n        window[type].setItem('PMATest', 'test');\n        // Check whether key-value pair was set successfully\n        if (window[type].getItem('PMATest') === 'test') {\n            // Supported, remove test variable from storage\n            window[type].removeItem('PMATest');\n            return true;\n        }\n    } catch (error) {\n        // Not supported\n        if (warn) {\n            Functions.ajaxShowMessage(Messages.strNoLocalStorage, false);\n        }\n    }\n    return false;\n}\n\n/**\n * Unbind all event handlers before tearing down a page\n */\nAJAX.registerTeardown('config.js', function () {\n    $('.optbox input[id], .optbox select[id], .optbox textarea[id]').off('change').off('keyup');\n    $('.optbox input[type=button][name=submit_reset]').off('click');\n    $('div.tab-content').off();\n    $('#import_local_storage, #export_local_storage').off('click');\n    $('form.prefs-form').off('change').off('submit');\n    $(document).off('click', 'div.click-hide-message');\n    $('#prefs_autoload').find('a').off('click');\n});\n\nAJAX.registerOnload('config.js', function () {\n    var $topmenuUpt = $('#user_prefs_tabs');\n    $topmenuUpt.find('a.active').attr('rel', 'samepage');\n    $topmenuUpt.find('a:not(.active)').attr('rel', 'newpage');\n});\n\n// default values for fields\nvar defaultValues = {};\n\n/**\n * Returns field type\n *\n * @param {Element} field\n *\n * @return {string}\n */\nfunction getFieldType (field) {\n    var $field = $(field);\n    var tagName = $field.prop('tagName');\n    if (tagName === 'INPUT') {\n        return $field.attr('type');\n    } else if (tagName === 'SELECT') {\n        return 'select';\n    } else if (tagName === 'TEXTAREA') {\n        return 'text';\n    }\n    return '';\n}\n\n/**\n * Enables or disables the \"restore default value\" button\n *\n * @param {Element} field\n * @param {boolean} display\n *\n * @return {void}\n */\nfunction setRestoreDefaultBtn (field, display) {\n    var $el = $(field).closest('td').find('.restore-default img');\n    $el[display ? 'show' : 'hide']();\n}\n\n/**\n * Marks field depending on its value (system default or custom)\n *\n * @param {Element | JQuery<Element>} field\n *\n * @return {void}\n */\nfunction markField (field) {\n    var $field = $(field);\n    var type = getFieldType($field);\n    var isDefault = checkFieldDefault($field, type);\n\n    // checkboxes uses parent <span> for marking\n    var $fieldMarker = (type === 'checkbox') ? $field.parent() : $field;\n    setRestoreDefaultBtn($field, !isDefault);\n    $fieldMarker[isDefault ? 'removeClass' : 'addClass']('custom');\n}\n\n/**\n * Sets field value\n *\n * value must be of type:\n * o undefined (omitted) - restore default value (form default, not PMA default)\n * o String - if field_type is 'text'\n * o boolean - if field_type is 'checkbox'\n * o Array of values - if field_type is 'select'\n *\n * @param {Element} field\n * @param {string}  fieldType see {@link #getFieldType}\n * @param {string | boolean}  value\n */\nfunction setFieldValue (field, fieldType, value) {\n    var $field = $(field);\n    switch (fieldType) {\n    case 'text':\n    case 'number':\n        $field.val(value);\n        break;\n    case 'checkbox':\n        $field.prop('checked', value);\n        break;\n    case 'select':\n        var options = $field.prop('options');\n        var i;\n        var imax = options.length;\n        for (i = 0; i < imax; i++) {\n            options[i].selected = (value.indexOf(options[i].value) !== -1);\n        }\n        break;\n    }\n    markField($field);\n}\n\n/**\n * Gets field value\n *\n * Will return one of:\n * o String - if type is 'text'\n * o boolean - if type is 'checkbox'\n * o Array of values - if type is 'select'\n *\n * @param {Element} field\n * @param {string}  fieldType returned by {@link #getFieldType}\n *\n * @return {boolean | string | string[] | null}\n */\nfunction getFieldValue (field, fieldType) {\n    var $field = $(field);\n    switch (fieldType) {\n    case 'text':\n    case 'number':\n        return $field.prop('value');\n    case 'checkbox':\n        return $field.prop('checked');\n    case 'select':\n        var options = $field.prop('options');\n        var i;\n        var imax = options.length;\n        var items = [];\n        for (i = 0; i < imax; i++) {\n            if (options[i].selected) {\n                items.push(options[i].value);\n            }\n        }\n        return items;\n    }\n    return null;\n}\n\n/**\n * Returns values for all fields in fieldsets\n *\n * @return {object}\n */\n// eslint-disable-next-line no-unused-vars\nfunction getAllValues () {\n    var $elements = $('fieldset input, fieldset select, fieldset textarea');\n    var values = {};\n    var type;\n    var value;\n    for (var i = 0; i < $elements.length; i++) {\n        type = getFieldType($elements[i]);\n        value = getFieldValue($elements[i], type);\n        if (typeof value !== 'undefined') {\n            // we only have single selects, fatten array\n            if (type === 'select') {\n                value = value[0];\n            }\n            values[$elements[i].name] = value;\n        }\n    }\n    return values;\n}\n\n/**\n * Checks whether field has its default value\n *\n * @param {Element} field\n * @param {string}  type\n *\n * @return {boolean}\n */\nfunction checkFieldDefault (field, type) {\n    var $field = $(field);\n    var fieldId = $field.attr('id');\n    if (typeof defaultValues[fieldId] === 'undefined') {\n        return true;\n    }\n    var isDefault = true;\n    var currentValue = getFieldValue($field, type);\n    if (type !== 'select') {\n        isDefault = currentValue === defaultValues[fieldId];\n    } else {\n        // compare arrays, will work for our representation of select values\n        if (currentValue.length !== defaultValues[fieldId].length) {\n            isDefault = false;\n        } else {\n            for (var i = 0; i < currentValue.length; i++) {\n                if (currentValue[i] !== defaultValues[fieldId][i]) {\n                    isDefault = false;\n                    break;\n                }\n            }\n        }\n    }\n    return isDefault;\n}\n\n/**\n * Returns element's id prefix\n * @param {Element} element\n *\n * @return {string}\n */\n// eslint-disable-next-line no-unused-vars\nfunction getIdPrefix (element) {\n    return $(element).attr('id').replace(/[^-]+$/, '');\n}\n\n// ------------------------------------------------------------------\n// Form validation and field operations\n//\n\n// form validator assignments\nvar validate = {};\n\n// form validator list\nvar validators = {\n    // regexp: numeric value\n    regExpNumeric: /^[0-9]+$/,\n    // regexp: extract parts from PCRE expression\n    regExpPcreExtract: /(.)(.*)\\1(.*)?/,\n    /**\n     * Validates positive number\n     *\n     * @param {boolean} isKeyUp\n     *\n     * @return {boolean}\n     */\n    validatePositiveNumber: function (isKeyUp) {\n        if (isKeyUp && this.value === '') {\n            return true;\n        }\n        var result = this.value !== '0' && validators.regExpNumeric.test(this.value);\n        return result ? true : Messages.error_nan_p;\n    },\n    /**\n     * Validates non-negative number\n     *\n     * @param {boolean} isKeyUp\n     *\n     * @return {boolean}\n     */\n    validateNonNegativeNumber: function (isKeyUp) {\n        if (isKeyUp && this.value === '') {\n            return true;\n        }\n        var result = validators.regExpNumeric.test(this.value);\n        return result ? true : Messages.error_nan_nneg;\n    },\n    /**\n     * Validates port number\n     *\n     * @return {true|string}\n     */\n    validatePortNumber: function () {\n        if (this.value === '') {\n            return true;\n        }\n        var result = validators.regExpNumeric.test(this.value) && this.value !== '0';\n        return result && this.value <= 65535 ? true : Messages.error_incorrect_port;\n    },\n    /**\n     * Validates value according to given regular expression\n     *\n     * @param {boolean} isKeyUp\n     * @param {string}  regexp\n     *\n     * @return {true|string}\n     */\n    validateByRegex: function (isKeyUp, regexp) {\n        if (isKeyUp && this.value === '') {\n            return true;\n        }\n        // convert PCRE regexp\n        var parts = regexp.match(validators.regExpPcreExtract);\n        var valid = this.value.match(new RegExp(parts[2], parts[3])) !== null;\n        return valid ? true : Messages.error_invalid_value;\n    },\n    /**\n     * Validates upper bound for numeric inputs\n     *\n     * @param {boolean} isKeyUp\n     * @param {number} maxValue\n     *\n     * @return {true|string}\n     */\n    validateUpperBound: function (isKeyUp, maxValue) {\n        var val = parseInt(this.value, 10);\n        if (isNaN(val)) {\n            return true;\n        }\n        return val <= maxValue ? true : Functions.sprintf(Messages.error_value_lte, maxValue);\n    },\n    // field validators\n    field: {\n    },\n    // fieldset validators\n    fieldset: {\n    }\n};\n\n/**\n * Registers validator for given field\n *\n * @param {string}  id       field id\n * @param {string}  type     validator (key in validators object)\n * @param {boolean} onKeyUp  whether fire on key up\n * @param {Array}   params   validation function parameters\n */\n// eslint-disable-next-line no-unused-vars\nfunction registerFieldValidator (id, type, onKeyUp, params) {\n    if (typeof validators[type] === 'undefined') {\n        return;\n    }\n    if (typeof validate[id] === 'undefined') {\n        validate[id] = [];\n    }\n    if (validate[id].length === 0) {\n        validate[id].push([type, params, onKeyUp]);\n    }\n}\n\n/**\n * Returns validation functions associated with form field\n *\n * @param {String}  fieldId     form field id\n * @param {boolean} onKeyUpOnly see registerFieldValidator\n *\n * @return {any[]} of [function, parameters to be passed to function]\n */\nfunction getFieldValidators (fieldId, onKeyUpOnly) {\n    // look for field bound validator\n    var name = fieldId && fieldId.match(/[^-]+$/)[0];\n    if (typeof validators.field[name] !== 'undefined') {\n        return [[validators.field[name], null]];\n    }\n\n    // look for registered validators\n    var functions = [];\n    if (typeof validate[fieldId] !== 'undefined') {\n        // validate[field_id]: array of [type, params, onKeyUp]\n        for (var i = 0, imax = validate[fieldId].length; i < imax; i++) {\n            if (onKeyUpOnly && !validate[fieldId][i][2]) {\n                continue;\n            }\n            functions.push([validators[validate[fieldId][i][0]], validate[fieldId][i][1]]);\n        }\n    }\n\n    return functions;\n}\n\n/**\n * Displays errors for given form fields\n *\n * WARNING: created DOM elements must be identical with the ones made by\n * PhpMyAdmin\\Config\\FormDisplayTemplate::displayInput()!\n *\n * @param {object} errorList list of errors in the form {field id: error array}\n */\nfunction displayErrors (errorList) {\n    var tempIsEmpty = function (item) {\n        return item !== '';\n    };\n\n    for (var fieldId in errorList) {\n        var errors = errorList[fieldId];\n        var $field = $('#' + fieldId);\n        var isFieldset = $field.attr('tagName') === 'FIELDSET';\n        var $errorCnt;\n        if (isFieldset) {\n            $errorCnt = $field.find('dl.errors');\n        } else {\n            $errorCnt = $field.siblings('.inline_errors');\n        }\n\n        // remove empty errors (used to clear error list)\n        errors = $.grep(errors, tempIsEmpty);\n\n        // CSS error class\n        if (!isFieldset) {\n            // checkboxes uses parent <span> for marking\n            var $fieldMarker = ($field.attr('type') === 'checkbox') ? $field.parent() : $field;\n            $fieldMarker[errors.length ? 'addClass' : 'removeClass']('field-error');\n        }\n\n        if (errors.length) {\n            // if error container doesn't exist, create it\n            if ($errorCnt.length === 0) {\n                if (isFieldset) {\n                    $errorCnt = $('<dl class=\"errors\"></dl>');\n                    $field.find('table').before($errorCnt);\n                } else {\n                    $errorCnt = $('<dl class=\"inline_errors\"></dl>');\n                    $field.closest('td').append($errorCnt);\n                }\n            }\n\n            var html = '';\n            for (var i = 0, imax = errors.length; i < imax; i++) {\n                html += '<dd>' + errors[i] + '</dd>';\n            }\n            $errorCnt.html(html);\n        } else if ($errorCnt !== null) {\n            // remove useless error container\n            $errorCnt.remove();\n        }\n    }\n}\n\n/**\n * Validates fields and fieldsets and call displayError function as required\n */\nfunction setDisplayError () {\n    var elements = $('.optbox input[id], .optbox select[id], .optbox textarea[id]');\n    // run all field validators\n    var errors = {};\n    for (var i = 0; i < elements.length; i++) {\n        validateField(elements[i], false, errors);\n    }\n    // run all fieldset validators\n    $('fieldset.optbox').each(function () {\n        validateFieldset(this, false, errors);\n    });\n    displayErrors(errors);\n}\n\n/**\n * Validates fieldset and puts errors in 'errors' object\n *\n * @param {Element} fieldset\n * @param {boolean} isKeyUp\n * @param {object}  errors\n */\nfunction validateFieldset (fieldset, isKeyUp, errors) {\n    var $fieldset = $(fieldset);\n    if ($fieldset.length && typeof validators.fieldset[$fieldset.attr('id')] !== 'undefined') {\n        var fieldsetErrors = validators.fieldset[$fieldset.attr('id')].apply($fieldset[0], [isKeyUp]);\n        for (var fieldId in fieldsetErrors) {\n            if (typeof errors[fieldId] === 'undefined') {\n                errors[fieldId] = [];\n            }\n            if (typeof fieldsetErrors[fieldId] === 'string') {\n                fieldsetErrors[fieldId] = [fieldsetErrors[fieldId]];\n            }\n            $.merge(errors[fieldId], fieldsetErrors[fieldId]);\n        }\n    }\n}\n\n/**\n * Validates form field and puts errors in 'errors' object\n *\n * @param {Element} field\n * @param {boolean} isKeyUp\n * @param {object}  errors\n */\nfunction validateField (field, isKeyUp, errors) {\n    var args;\n    var result;\n    var $field = $(field);\n    var fieldId = $field.attr('id');\n    errors[fieldId] = [];\n    var functions = getFieldValidators(fieldId, isKeyUp);\n    for (var i = 0; i < functions.length; i++) {\n        if (typeof functions[i][1] !== 'undefined' && functions[i][1] !== null) {\n            args = functions[i][1].slice(0);\n        } else {\n            args = [];\n        }\n        args.unshift(isKeyUp);\n        result = functions[i][0].apply($field[0], args);\n        if (result !== true) {\n            if (typeof result === 'string') {\n                result = [result];\n            }\n            $.merge(errors[fieldId], result);\n        }\n    }\n}\n\n/**\n * Validates form field and parent fieldset\n *\n * @param {Element} field\n * @param {boolean} isKeyUp\n */\nfunction validateFieldAndFieldset (field, isKeyUp) {\n    var $field = $(field);\n    var errors = {};\n    validateField($field, isKeyUp, errors);\n    validateFieldset($field.closest('fieldset.optbox'), isKeyUp, errors);\n    displayErrors(errors);\n}\n\nfunction loadInlineConfig () {\n    if (!Array.isArray(configInlineParams)) {\n        return;\n    }\n    for (var i = 0; i < configInlineParams.length; ++i) {\n        if (typeof configInlineParams[i] === 'function') {\n            configInlineParams[i]();\n        }\n    }\n}\n\nfunction setupValidation () {\n    validate = {};\n    configScriptLoaded = true;\n    if (configScriptLoaded && typeof configInlineParams !== 'undefined') {\n        loadInlineConfig();\n    }\n    // register validators and mark custom values\n    var $elements = $('.optbox input[id], .optbox select[id], .optbox textarea[id]');\n    $elements.each(function () {\n        markField(this);\n        var $el = $(this);\n        $el.on('change', function () {\n            validateFieldAndFieldset(this, false);\n            markField(this);\n        });\n        var tagName = $el.attr('tagName');\n        // text fields can be validated after each change\n        if (tagName === 'INPUT' && $el.attr('type') === 'text') {\n            $el.on('keyup', function () {\n                validateFieldAndFieldset($el, true);\n                markField($el);\n            });\n        }\n        // disable textarea spellcheck\n        if (tagName === 'TEXTAREA') {\n            $el.attr('spellcheck', false);\n        }\n    });\n\n    // check whether we've refreshed a page and browser remembered modified\n    // form values\n    var $checkPageRefresh = $('#check_page_refresh');\n    if ($checkPageRefresh.length === 0 || $checkPageRefresh.val() === '1') {\n        // run all field validators\n        var errors = {};\n        for (var i = 0; i < $elements.length; i++) {\n            validateField($elements[i], false, errors);\n        }\n        // run all fieldset validators\n        $('fieldset.optbox').each(function () {\n            validateFieldset(this, false, errors);\n        });\n\n        displayErrors(errors);\n    } else if ($checkPageRefresh) {\n        $checkPageRefresh.val('1');\n    }\n}\n\nAJAX.registerOnload('config.js', function () {\n    setupValidation();\n});\n\n//\n// END: Form validation and field operations\n// ------------------------------------------------------------------\n\nfunction adjustPrefsNotification () {\n    var $prefsAutoLoad = $('#prefs_autoload');\n    var $tableNameControl = $('#table_name_col_no');\n    var $prefsAutoShowing = ($prefsAutoLoad.css('display') !== 'none');\n\n    if ($prefsAutoShowing && $tableNameControl.length) {\n        $tableNameControl.css('top', '55px');\n    }\n}\n\nAJAX.registerOnload('config.js', function () {\n    adjustPrefsNotification();\n});\n\n// ------------------------------------------------------------------\n// Form reset buttons\n//\n\nAJAX.registerOnload('config.js', function () {\n    $('.optbox input[type=button][name=submit_reset]').on('click', function () {\n        var fields = $(this).closest('fieldset').find('input, select, textarea');\n        for (var i = 0, imax = fields.length; i < imax; i++) {\n            setFieldValue(fields[i], getFieldType(fields[i]), defaultValues[fields[i].id]);\n        }\n        setDisplayError();\n    });\n});\n\n//\n// END: Form reset buttons\n// ------------------------------------------------------------------\n\n// ------------------------------------------------------------------\n// \"Restore default\" and \"set value\" buttons\n//\n\n/**\n * Restores field's default value\n *\n * @param {string} fieldId\n *\n * @return {void}\n */\nfunction restoreField (fieldId) {\n    var $field = $('#' + fieldId);\n    if ($field.length === 0 || defaultValues[fieldId] === undefined) {\n        return;\n    }\n    setFieldValue($field, getFieldType($field), defaultValues[fieldId]);\n}\n\nfunction setupRestoreField () {\n    $('div.tab-content')\n        .on('mouseenter', '.restore-default, .set-value', function () {\n            $(this).css('opacity', 1);\n        })\n        .on('mouseleave', '.restore-default, .set-value', function () {\n            $(this).css('opacity', 0.25);\n        })\n        .on('click', '.restore-default, .set-value', function (e) {\n            e.preventDefault();\n            var href = $(this).attr('href');\n            var fieldSel;\n            if ($(this).hasClass('restore-default')) {\n                fieldSel = href;\n                restoreField(fieldSel.substring(1));\n            } else {\n                fieldSel = href.match(/^[^=]+/)[0];\n                var value = href.match(/=(.+)$/)[1];\n                setFieldValue($(fieldSel), 'text', value);\n            }\n            $(fieldSel).trigger('change');\n        })\n        .find('.restore-default, .set-value')\n        // inline-block for IE so opacity inheritance works\n        .css({ display: 'inline-block', opacity: 0.25 });\n}\n\nAJAX.registerOnload('config.js', function () {\n    setupRestoreField();\n});\n\n//\n// END: \"Restore default\" and \"set value\" buttons\n// ------------------------------------------------------------------\n\n// ------------------------------------------------------------------\n// User preferences import/export\n//\n\nAJAX.registerOnload('config.js', function () {\n    offerPrefsAutoimport();\n    var $radios = $('#import_local_storage, #export_local_storage');\n    if (!$radios.length) {\n        return;\n    }\n\n    // enable JavaScript dependent fields\n    $radios\n        .prop('disabled', false)\n        .add('#export_text_file, #import_text_file')\n        .on('click', function () {\n            var enableId = $(this).attr('id');\n            var disableId;\n            if (enableId.match(/local_storage$/)) {\n                disableId = enableId.replace(/local_storage$/, 'text_file');\n            } else {\n                disableId = enableId.replace(/text_file$/, 'local_storage');\n            }\n            $('#opts_' + disableId).addClass('disabled').find('input').prop('disabled', true);\n            $('#opts_' + enableId).removeClass('disabled').find('input').prop('disabled', false);\n        });\n\n    // detect localStorage state\n    var lsSupported = isStorageSupported('localStorage', true);\n    var lsExists = lsSupported ? (window.localStorage.config || false) : false;\n    $('div.localStorage-' + (lsSupported ? 'un' : '') + 'supported').hide();\n    $('div.localStorage-' + (lsExists ? 'empty' : 'exists')).hide();\n    if (lsExists) {\n        updatePrefsDate();\n    }\n    $('form.prefs-form').on('change', function () {\n        var $form = $(this);\n        var disabled = false;\n        if (!lsSupported) {\n            disabled = $form.find('input[type=radio][value$=local_storage]').prop('checked');\n        } else if (!lsExists && $form.attr('name') === 'prefs_import' &&\n            $('#import_local_storage')[0].checked\n        ) {\n            disabled = true;\n        }\n        $form.find('input[type=submit]').prop('disabled', disabled);\n    }).on('submit', function (e) {\n        var $form = $(this);\n        if ($form.attr('name') === 'prefs_export' && $('#export_local_storage')[0].checked) {\n            e.preventDefault();\n            // use AJAX to read JSON settings and save them\n            savePrefsToLocalStorage($form);\n        } else if ($form.attr('name') === 'prefs_import' && $('#import_local_storage')[0].checked) {\n            // set 'json' input and submit form\n            $form.find('input[name=json]').val(window.localStorage.config);\n        }\n    });\n\n    $(document).on('click', 'div.click-hide-message', function () {\n        $(this)\n            .hide()\n            .parent('.card-body')\n            .css('height', '')\n            .next('form')\n            .show();\n    });\n});\n\n/**\n * Saves user preferences to localStorage\n *\n * @param {Element} form\n */\nfunction savePrefsToLocalStorage (form) {\n    var $form = $(form);\n    var submit = $form.find('input[type=submit]');\n    submit.prop('disabled', true);\n    $.ajax({\n        url: 'index.php?route=/preferences/manage',\n        cache: false,\n        type: 'POST',\n        data: {\n            'ajax_request': true,\n            'server': CommonParams.get('server'),\n            'submit_get_json': true\n        },\n        success: function (data) {\n            if (typeof data !== 'undefined' && data.success === true) {\n                window.localStorage.config = data.prefs;\n                window.localStorage.configMtime = data.mtime;\n                window.localStorage.configMtimeLocal = (new Date()).toUTCString();\n                updatePrefsDate();\n                $('div.localStorage-empty').hide();\n                $('div.localStorage-exists').show();\n                var group = $form.parent('.card-body');\n                group.css('height', group.height() + 'px');\n                $form.hide('fast');\n                $form.prev('.click-hide-message').show('fast');\n            } else {\n                Functions.ajaxShowMessage(data.error);\n            }\n        },\n        complete: function () {\n            submit.prop('disabled', false);\n        }\n    });\n}\n\n/**\n * Updates preferences timestamp in Import form\n */\nfunction updatePrefsDate () {\n    var d = new Date(window.localStorage.configMtimeLocal);\n    var msg = Messages.strSavedOn.replace(\n        '@DATE@',\n        Functions.formatDateTime(d)\n    );\n    $('#opts_import_local_storage').find('div.localStorage-exists').html(msg);\n}\n\n/**\n * Prepares message which informs that localStorage preferences are available and can be imported or deleted\n */\nfunction offerPrefsAutoimport () {\n    var hasConfig = (isStorageSupported('localStorage')) && (window.localStorage.config || false);\n    var $cnt = $('#prefs_autoload');\n    if (!$cnt.length || !hasConfig) {\n        return;\n    }\n    $cnt.find('a').on('click', function (e) {\n        e.preventDefault();\n        var $a = $(this);\n        if ($a.attr('href') === '#no') {\n            $cnt.remove();\n            $.post('index.php', {\n                'server': CommonParams.get('server'),\n                'prefs_autoload': 'hide'\n            }, null, 'html');\n            return;\n        } else if ($a.attr('href') === '#delete') {\n            $cnt.remove();\n            localStorage.clear();\n            $.post('index.php', {\n                'server': CommonParams.get('server'),\n                'prefs_autoload': 'hide'\n            }, null, 'html');\n            return;\n        }\n        $cnt.find('input[name=json]').val(window.localStorage.config);\n        $cnt.find('form').trigger('submit');\n    });\n    $cnt.show();\n}\n\n/**\n * @type {boolean} Support for passive event listener option\n */\nvar PASSIVE_EVENT_LISTENERS = (function () {\n    var passive = false;\n    try {\n        var options = Object.defineProperty({}, 'passive', {\n            get: function () {\n                return (passive = true);\n            },\n        });\n\n        window.addEventListener('_', null, options);\n        window.removeEventListener('_', null, options);\n    } catch (error) {\n        // passive not supported\n    }\n    return passive;\n}());\n"],"names":["configInlineParams","configScriptLoaded","isStorageSupported","type","warn","window","setItem","getItem","removeItem","error","Functions","ajaxShowMessage","Messages","strNoLocalStorage","AJAX","registerTeardown","$","off","document","find","registerOnload","$topmenuUpt","attr","defaultValues","getFieldType","field","$field","tagName","prop","setRestoreDefaultBtn","display","$el","closest","markField","isDefault","checkFieldDefault","$fieldMarker","parent","setFieldValue","fieldType","value","val","options","i","imax","length","selected","indexOf","getFieldValue","items","push","getAllValues","$elements","values","name","fieldId","currentValue","getIdPrefix","element","replace","validate","validators","regExpNumeric","regExpPcreExtract","validatePositiveNumber","isKeyUp","result","test","error_nan_p","validateNonNegativeNumber","error_nan_nneg","validatePortNumber","error_incorrect_port","validateByRegex","regexp","parts","match","valid","RegExp","error_invalid_value","validateUpperBound","maxValue","parseInt","isNaN","sprintf","error_value_lte","fieldset","registerFieldValidator","id","onKeyUp","params","getFieldValidators","onKeyUpOnly","functions","displayErrors","errorList","tempIsEmpty","item","errors","isFieldset","$errorCnt","siblings","grep","before","append","html","remove","setDisplayError","elements","validateField","each","validateFieldset","$fieldset","fieldsetErrors","apply","merge","args","slice","unshift","validateFieldAndFieldset","loadInlineConfig","Array","isArray","setupValidation","on","$checkPageRefresh","adjustPrefsNotification","$prefsAutoLoad","$tableNameControl","$prefsAutoShowing","css","fields","restoreField","undefined","setupRestoreField","e","preventDefault","href","fieldSel","hasClass","substring","trigger","opacity","offerPrefsAutoimport","$radios","add","enableId","disableId","addClass","removeClass","lsSupported","lsExists","localStorage","config","hide","updatePrefsDate","$form","disabled","checked","savePrefsToLocalStorage","next","show","form","submit","ajax","url","cache","data","CommonParams","get","success","prefs","configMtime","mtime","configMtimeLocal","Date","toUTCString","group","height","prev","complete","d","msg","strSavedOn","formatDateTime","hasConfig","$cnt","$a","post","clear","PASSIVE_EVENT_LISTENERS","passive","Object","defineProperty","addEventListener","removeEventListener"],"sourceRoot":""}