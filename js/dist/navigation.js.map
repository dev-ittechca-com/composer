{"version":3,"file":"navigation.js","mappings":"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","sources":["webpack://phpmyadmin/./js/src/navigation.js"],"sourcesContent":["/**\n * function used in or for navigation panel\n *\n * @package phpMyAdmin-Navigation\n */\n\nvar Navigation = {};\n\n/**\n * updates the tree state in sessionStorage\n *\n * @return {void}\n */\nNavigation.treeStateUpdate = function () {\n    // update if session storage is supported\n    if (window.Config.isStorageSupported('sessionStorage')) {\n        var storage = window.sessionStorage;\n        // try catch necessary here to detect whether\n        // content to be stored exceeds storage capacity\n        try {\n            storage.setItem('navTreePaths', JSON.stringify(Navigation.traverseForPaths()));\n            storage.setItem('server', window.CommonParams.get('server'));\n            storage.setItem('token', window.CommonParams.get('token'));\n        } catch (error) {\n            // storage capacity exceeded & old navigation tree\n            // state is no more valid, so remove it\n            storage.removeItem('navTreePaths');\n            storage.removeItem('server');\n            storage.removeItem('token');\n        }\n    }\n};\n\n/**\n * updates the filter state in sessionStorage\n *\n * @param {string} filterName\n * @param {string} filterValue\n *\n * @return {void}\n */\nNavigation.filterStateUpdate = function (filterName, filterValue) {\n    if (window.Config.isStorageSupported('sessionStorage')) {\n        var storage = window.sessionStorage;\n        try {\n            var currentFilter = $.extend({}, JSON.parse(storage.getItem('navTreeSearchFilters')));\n            var filter = {};\n            filter[filterName] = filterValue;\n            currentFilter = $.extend(currentFilter, filter);\n            storage.setItem('navTreeSearchFilters', JSON.stringify(currentFilter));\n        } catch (error) {\n            storage.removeItem('navTreeSearchFilters');\n        }\n    }\n};\n\n/**\n * restores the filter state on navigation reload\n *\n * @return {void}\n */\nNavigation.filterStateRestore = function () {\n    if (window.Config.isStorageSupported('sessionStorage')\n        && typeof window.sessionStorage.navTreeSearchFilters !== 'undefined'\n    ) {\n        var searchClauses = JSON.parse(window.sessionStorage.navTreeSearchFilters);\n        if (Object.keys(searchClauses).length < 1) {\n            return;\n        }\n        // restore database filter if present and not empty\n        if (searchClauses.hasOwnProperty('dbFilter')\n            && searchClauses.dbFilter.length\n        ) {\n            var $obj = $('#pma_navigation_tree');\n            if (! $obj.data('fastFilter')) {\n                $obj.data(\n                    'fastFilter',\n                    new Navigation.FastFilter.Filter($obj, '')\n                );\n            }\n            $obj.find('li.fast_filter.db_fast_filter input.searchClause')\n                .val(searchClauses.dbFilter)\n                .trigger('keyup');\n        }\n        // find all table filters present in the tree\n        var $tableFilters = $('#pma_navigation_tree li.database')\n            .children('div.list_container')\n            .find('li.fast_filter input.searchClause');\n        // restore table filters\n        $tableFilters.each(function () {\n            $obj = $(this).closest('div.list_container');\n            // aPath associated with this filter\n            var filterName = $(this).siblings('input[name=aPath]').val();\n            // if this table's filter has a state stored in storage\n            if (searchClauses.hasOwnProperty(filterName)\n                && searchClauses[filterName].length\n            ) {\n                // clear state if item is not visible,\n                // happens when table filter becomes invisible\n                // as db filter has already been applied\n                if (! $obj.is(':visible')) {\n                    Navigation.filterStateUpdate(filterName, '');\n                    return true;\n                }\n                if (! $obj.data('fastFilter')) {\n                    $obj.data(\n                        'fastFilter',\n                        new Navigation.FastFilter.Filter($obj, '')\n                    );\n                }\n                $(this).val(searchClauses[filterName])\n                    .trigger('keyup');\n            }\n        });\n    }\n};\n\n/**\n * Loads child items of a node and executes a given callback\n *\n * @param isNode\n * @param $expandElem expander\n * @param callback    callback function\n *\n * @return {void}\n */\nNavigation.loadChildNodes = function (isNode, $expandElem, callback) {\n    var $destination = null;\n    var params = null;\n\n    if (isNode) {\n        if (!$expandElem.hasClass('expander')) {\n            return;\n        }\n        $destination = $expandElem.closest('li');\n        var pos2Name = $expandElem.find('span.pos2_nav');\n        var pathsNav = $expandElem.find('span.paths_nav');\n        params = {\n            'server': window.CommonParams.get('server'),\n            'aPath': pathsNav.attr('data-apath'),\n            'vPath': pathsNav.attr('data-vpath'),\n            'pos': pathsNav.attr('data-pos'),\n            'pos2_name': pos2Name.attr('data-name'),\n            'pos2_value': pos2Name.attr('data-value'),\n            'searchClause': '',\n            'searchClause2': ''\n        };\n        if ($expandElem.closest('ul').hasClass('search_results')) {\n            params.searchClause = Navigation.FastFilter.getSearchClause();\n            params.searchClause2 = Navigation.FastFilter.getSearchClause2($expandElem);\n        }\n    } else {\n        $destination = $('#pma_navigation_tree_content');\n        params = {\n            'server': window.CommonParams.get('server'),\n            'aPath': $expandElem.attr('data-apath'),\n            'vPath': $expandElem.attr('data-vpath'),\n            'pos': $expandElem.attr('data-pos'),\n            'pos2_name': '',\n            'pos2_value': '',\n            'searchClause': '',\n            'searchClause2': ''\n        };\n    }\n\n    $.post('index.php?route=/navigation&ajax_request=1', params, function (data) {\n        if (typeof data !== 'undefined' && data.success === true) {\n            $destination.find('div.list_container').remove(); // FIXME: Hack, there shouldn't be a list container there\n            if (isNode) {\n                $destination.append(data.message);\n                $expandElem.addClass('loaded');\n            } else {\n                $destination.html(data.message);\n                $destination.children()\n                    .first()\n                    .css({\n                        border: '0px',\n                        margin: '0em',\n                        padding : '0em'\n                    })\n                    .slideDown('slow');\n            }\n            if (data.errors) {\n                var $errors = $(data.errors);\n                if ($errors.children().length > 0) {\n                    $('#pma_errors').replaceWith(data.errors);\n                }\n            }\n            if (callback && typeof callback === 'function') {\n                callback(data);\n            }\n        } else if (typeof data !== 'undefined' && data.redirect_flag === '1') {\n            if (window.location.href.indexOf('?') === -1) {\n                window.location.href += '?session_expired=1';\n            } else {\n                window.location.href += window.CommonParams.get('arg_separator') + 'session_expired=1';\n            }\n            window.location.reload();\n        } else {\n            var $throbber = $expandElem.find('img.throbber');\n            $throbber.hide();\n            var $icon = $expandElem.find('img.ic_b_plus');\n            $icon.show();\n            Functions.ajaxShowMessage(data.error, false);\n        }\n    });\n};\n\n/**\n * Collapses a node in navigation tree.\n *\n * @param $expandElem expander\n *\n * @return {void}\n */\nNavigation.collapseTreeNode = function ($expandElem) {\n    var $children = $expandElem.closest('li').children('div.list_container');\n    var $icon = $expandElem.find('img');\n    if ($expandElem.hasClass('loaded')) {\n        if ($icon.is('.ic_b_minus')) {\n            $icon.removeClass('ic_b_minus').addClass('ic_b_plus');\n            $children.slideUp('fast');\n        }\n    }\n    $expandElem.trigger('blur');\n    $children.promise().done(Navigation.treeStateUpdate);\n};\n\n/**\n * Traverse the navigation tree backwards to generate all the actual\n * and virtual paths, as well as the positions in the pagination at\n * various levels, if necessary.\n *\n * @return {object}\n */\nNavigation.traverseForPaths = function () {\n    var params = {\n        pos: $('#pma_navigation_tree').find('div.dbselector select').val()\n    };\n    if ($('#navi_db_select').length) {\n        return params;\n    }\n    var count = 0;\n    $('#pma_navigation_tree').find('a.expander:visible').each(function () {\n        if ($(this).find('img').is('.ic_b_minus') &&\n            $(this).closest('li').find('div.list_container .ic_b_minus').length === 0\n        ) {\n            var pathsNav = $(this).find('span.paths_nav');\n            params['n' + count + '_aPath'] = pathsNav.attr('data-apath');\n            params['n' + count + '_vPath'] = pathsNav.attr('data-vpath');\n\n            var pos2Nav = $(this).find('span.pos2_nav');\n\n            if (pos2Nav.length === 0) {\n                pos2Nav = $(this)\n                    .parent()\n                    .parent()\n                    .find('span.pos2_nav').last();\n            }\n\n            params['n' + count + '_pos2_name'] = pos2Nav.attr('data-name');\n            params['n' + count + '_pos2_value'] = pos2Nav.attr('data-value');\n\n            var pos3Nav = $(this).find('span.pos3_nav');\n\n            params['n' + count + '_pos3_name'] = pos3Nav.attr('data-name');\n            params['n' + count + '_pos3_value'] = pos3Nav.attr('data-value');\n            count++;\n        }\n    });\n    return params;\n};\n\n/**\n * @return {function}\n */\nNavigation.onload = () => function () {\n    if (! $('#pma_navigation').length) {\n        // Don't bother running any code if the navigation is not even on the page\n        return;\n    }\n\n    // Do not let the page reload on submitting the fast filter\n    $(document).on('submit', '.fast_filter', function (event) {\n        event.preventDefault();\n    });\n\n    // Fire up the resize handlers\n    new Navigation.ResizeHandler();\n\n    /**\n     * opens/closes (hides/shows) tree elements\n     * loads data via ajax\n     */\n    $(document).on('click', '#pma_navigation_tree a.expander', function (event) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n        var $icon = $(this).find('img');\n        if ($icon.is('.ic_b_plus')) {\n            Navigation.expandTreeNode($(this));\n        } else {\n            Navigation.collapseTreeNode($(this));\n        }\n    });\n\n    /**\n     * Register event handler for click on the reload\n     * navigation icon at the top of the panel\n     */\n    $(document).on('click', '#pma_navigation_reload', function (event) {\n        event.preventDefault();\n\n        // Find the loading symbol and show it\n        var $iconThrobberSrc = $('#pma_navigation').find('.throbber');\n        $iconThrobberSrc.show();\n        // TODO Why is a loading symbol both hidden, and invisible?\n        $iconThrobberSrc.css('visibility', '');\n\n        // Callback to be used to hide the loading symbol when done reloading\n        function hideNav () {\n            $iconThrobberSrc.hide();\n        }\n\n        // Reload the navigation\n        Navigation.reload(hideNav);\n    });\n\n    $(document).on('change', '#navi_db_select', function () {\n        if (! $(this).val()) {\n            window.CommonParams.set('db', '');\n            Navigation.reload();\n        }\n        $(this).closest('form').trigger('submit');\n    });\n\n    /**\n     * Register event handler for click on the collapse all\n     * navigation icon at the top of the navigation tree\n     */\n    $(document).on('click', '#pma_navigation_collapse', function (event) {\n        event.preventDefault();\n        $('#pma_navigation_tree').find('a.expander').each(function () {\n            var $icon = $(this).find('img');\n            if ($icon.is('.ic_b_minus')) {\n                $(this).trigger('click');\n            }\n        });\n    });\n\n    /**\n     * Register event handler to toggle\n     * the 'link with main panel' icon on mouseenter.\n     */\n    $(document).on('mouseenter', '#pma_navigation_sync', function (event) {\n        event.preventDefault();\n        var synced = $('#pma_navigation_tree').hasClass('synced');\n        var $img = $('#pma_navigation_sync').children('img');\n        if (synced) {\n            $img.removeClass('ic_s_link').addClass('ic_s_unlink');\n        } else {\n            $img.removeClass('ic_s_unlink').addClass('ic_s_link');\n        }\n    });\n\n    /**\n     * Register event handler to toggle\n     * the 'link with main panel' icon on mouseout.\n     */\n    $(document).on('mouseout', '#pma_navigation_sync', function (event) {\n        event.preventDefault();\n        var synced = $('#pma_navigation_tree').hasClass('synced');\n        var $img = $('#pma_navigation_sync').children('img');\n        if (synced) {\n            $img.removeClass('ic_s_unlink').addClass('ic_s_link');\n        } else {\n            $img.removeClass('ic_s_link').addClass('ic_s_unlink');\n        }\n    });\n\n    /**\n     * Register event handler to toggle\n     * the linking with main panel behavior\n     */\n    $(document).on('click', '#pma_navigation_sync', function (event) {\n        event.preventDefault();\n        var synced = $('#pma_navigation_tree').hasClass('synced');\n        var $img = $('#pma_navigation_sync').children('img');\n        if (synced) {\n            $img\n                .removeClass('ic_s_unlink')\n                .addClass('ic_s_link')\n                .attr('alt', Messages.linkWithMain)\n                .attr('title', Messages.linkWithMain);\n            $('#pma_navigation_tree')\n                .removeClass('synced')\n                .find('li.selected')\n                .removeClass('selected');\n        } else {\n            $img\n                .removeClass('ic_s_link')\n                .addClass('ic_s_unlink')\n                .attr('alt', Messages.unlinkWithMain)\n                .attr('title', Messages.unlinkWithMain);\n            $('#pma_navigation_tree').addClass('synced');\n            Navigation.showCurrent();\n        }\n    });\n\n    /**\n     * Bind all \"fast filter\" events\n     */\n    $(document).on('click', '#pma_navigation_tree li.fast_filter button.searchClauseClear', Navigation.FastFilter.events.clear);\n    $(document).on('focus', '#pma_navigation_tree li.fast_filter input.searchClause', Navigation.FastFilter.events.focus);\n    $(document).on('blur', '#pma_navigation_tree li.fast_filter input.searchClause', Navigation.FastFilter.events.blur);\n    $(document).on('keyup', '#pma_navigation_tree li.fast_filter input.searchClause', Navigation.FastFilter.events.keyup);\n\n    /**\n     * Ajax handler for pagination\n     */\n    $(document).on('click', '#pma_navigation_tree div.pageselector a.ajax', function (event) {\n        event.preventDefault();\n        Navigation.treePagination($(this));\n    });\n\n    /**\n     * Node highlighting\n     */\n    $(document).on(\n        'mouseover',\n        '#pma_navigation_tree.highlight li:not(.fast_filter)',\n        function () {\n            if ($('li:visible', this).length === 0) {\n                $(this).addClass('activePointer');\n            }\n        }\n    );\n    $(document).on(\n        'mouseout',\n        '#pma_navigation_tree.highlight li:not(.fast_filter)',\n        function () {\n            $(this).removeClass('activePointer');\n        }\n    );\n\n    /** New view */\n    $(document).on('click', 'li.new_view a.ajax', function (event) {\n        event.preventDefault();\n        Functions.createViewModal($(this));\n    });\n\n    /** Hide navigation tree item */\n    $(document).on('click', 'a.hideNavItem.ajax', function (event) {\n        event.preventDefault();\n        var argSep = window.CommonParams.get('arg_separator');\n        var params = $(this).getPostData();\n        params += argSep + 'ajax_request=true' + argSep + 'server=' + window.CommonParams.get('server');\n        $.ajax({\n            type: 'POST',\n            data: params,\n            url: $(this).attr('href'),\n            success: function (data) {\n                if (typeof data !== 'undefined' && data.success === true) {\n                    Navigation.reload();\n                } else {\n                    Functions.ajaxShowMessage(data.error);\n                }\n            }\n        });\n    });\n\n    /** Display a dialog to choose hidden navigation items to show */\n    $(document).on('click', 'a.showUnhide.ajax', function (event) {\n        event.preventDefault();\n        var $msg = Functions.ajaxShowMessage();\n        var argSep = window.CommonParams.get('arg_separator');\n        var params = $(this).getPostData();\n        params += argSep + 'ajax_request=true';\n        $.post($(this).attr('href'), params, function (data) {\n            if (typeof data !== 'undefined' && data.success === true) {\n                Functions.ajaxRemoveMessage($msg);\n                $('#unhideNavItemModal').modal('show');\n                $('#unhideNavItemModal').find('.modal-body').first().html(data.message);\n            } else {\n                Functions.ajaxShowMessage(data.error);\n            }\n        });\n    });\n\n    /** Show a hidden navigation tree item */\n    $(document).on('click', 'a.unhideNavItem.ajax', function (event) {\n        event.preventDefault();\n        var $tr = $(this).parents('tr');\n        var $hiddenTableCount = $tr.parents('tbody').children().length;\n        var $hideDialogBox = $tr.closest('div.ui-dialog');\n        var $msg = Functions.ajaxShowMessage();\n        var argSep = window.CommonParams.get('arg_separator');\n        var params = $(this).getPostData();\n        params += argSep + 'ajax_request=true' + argSep + 'server=' + window.CommonParams.get('server');\n        $.ajax({\n            type: 'POST',\n            data: params,\n            url: $(this).attr('href'),\n            success: function (data) {\n                Functions.ajaxRemoveMessage($msg);\n                if (typeof data !== 'undefined' && data.success === true) {\n                    $tr.remove();\n                    if ($hiddenTableCount === 1) {\n                        $hideDialogBox.remove();\n                    }\n                    Navigation.reload();\n                } else {\n                    Functions.ajaxShowMessage(data.error);\n                }\n            }\n        });\n    });\n\n    // Add/Remove favorite table using Ajax.\n    $(document).on('click', '.favorite_table_anchor', function (event) {\n        event.preventDefault();\n        var $self = $(this);\n        var anchorId = $self.attr('id');\n        if ($self.data('favtargetn') !== null) {\n            var $dataFavTargets = $('a[data-favtargets=\"' + $self.data('favtargetn') + '\"]');\n            if ($dataFavTargets.length > 0) {\n                $dataFavTargets.trigger('click');\n                return;\n            }\n        }\n\n        var hasLocalStorage = window.Config.isStorageSupported('localStorage') &&\n            typeof window.localStorage.favoriteTables !== 'undefined';\n        $.ajax({\n            url: $self.attr('href'),\n            cache: false,\n            type: 'POST',\n            data: {\n                'favoriteTables': hasLocalStorage ? window.localStorage.favoriteTables : '',\n                'server': window.CommonParams.get('server'),\n            },\n            success: function (data) {\n                if (data.changes) {\n                    $('#pma_favorite_list').html(data.list);\n                    $('#' + anchorId).parent().html(data.anchor);\n                    Functions.tooltip(\n                        $('#' + anchorId),\n                        'a',\n                        $('#' + anchorId).attr('title')\n                    );\n                    // Update localStorage.\n                    if (window.Config.isStorageSupported('localStorage')) {\n                        window.localStorage.favoriteTables = data.favoriteTables;\n                    }\n                } else {\n                    Functions.ajaxShowMessage(data.message);\n                }\n            }\n        });\n    });\n    // Check if session storage is supported\n    if (window.Config.isStorageSupported('sessionStorage')) {\n        var storage = window.sessionStorage;\n        // remove tree from storage if Navi_panel config form is submitted\n        $(document).on('submit', 'form.config-form', function () {\n            storage.removeItem('navTreePaths');\n        });\n        // Initialize if no previous state is defined\n        if ($('#pma_navigation_tree_content').length &&\n            typeof storage.navTreePaths === 'undefined'\n        ) {\n            Navigation.reload();\n        } else if (window.CommonParams.get('server') === storage.server &&\n            window.CommonParams.get('token') === storage.token\n        ) {\n            // Reload the tree to the state before page refresh\n            Navigation.reload(Navigation.filterStateRestore, JSON.parse(storage.navTreePaths));\n        } else {\n            // If the user is different\n            Navigation.treeStateUpdate();\n            Navigation.reload();\n        }\n    }\n};\n\n/**\n * Expands a node in navigation tree.\n *\n * @param $expandElem expander\n * @param callback    callback function\n *\n * @return {void}\n */\nNavigation.expandTreeNode = function ($expandElem, callback) {\n    var $children = $expandElem.closest('li').children('div.list_container');\n    var $icon = $expandElem.find('img');\n    if ($expandElem.hasClass('loaded')) {\n        if ($icon.is('.ic_b_plus')) {\n            $icon.removeClass('ic_b_plus').addClass('ic_b_minus');\n            $children.slideDown('fast');\n        }\n        if (callback && typeof callback === 'function') {\n            callback.call();\n        }\n        $children.promise().done(Navigation.treeStateUpdate);\n    } else {\n        var $throbber = $('#pma_navigation').find('.throbber')\n            .first()\n            .clone()\n            .css({ visibility: 'visible', display: 'block' })\n            .on('click', false);\n        $icon.hide();\n        $throbber.insertBefore($icon);\n\n        Navigation.loadChildNodes(true, $expandElem, function (data) {\n            if (typeof data !== 'undefined' && data.success === true) {\n                var $destination = $expandElem.closest('li');\n                $icon.removeClass('ic_b_plus').addClass('ic_b_minus');\n                $children = $destination.children('div.list_container');\n                $children.slideDown('fast');\n                if ($destination.find('ul > li').length === 1) {\n                    $destination.find('ul > li')\n                        .find('a.expander.container')\n                        .trigger('click');\n                }\n                if (callback && typeof callback === 'function') {\n                    callback.call();\n                }\n                Navigation.showFullName($destination);\n            } else {\n                Functions.ajaxShowMessage(data.error, false);\n            }\n            $icon.show();\n            $throbber.remove();\n            $children.promise().done(Navigation.treeStateUpdate);\n        });\n    }\n    $expandElem.trigger('blur');\n};\n\n/**\n * Auto-scrolls the newly chosen database\n *\n * @param {object} $element    The element to set to view\n * @param {bool}   $forceToTop Whether to force scroll to top\n *\n */\nNavigation.scrollToView = function ($element, $forceToTop) {\n    Navigation.filterStateRestore();\n    var $container = $('#pma_navigation_tree_content');\n    var elemTop = $element.offset().top - $container.offset().top;\n    var textHeight = 20;\n    var scrollPadding = 20; // extra padding from top of bottom when scrolling to view\n    if (elemTop < 0 || $forceToTop) {\n        $container.stop().animate({\n            scrollTop: elemTop + $container.scrollTop() - scrollPadding\n        });\n    } else if (elemTop + textHeight > $container.height()) {\n        $container.stop().animate({\n            scrollTop: elemTop + textHeight - $container.height() + $container.scrollTop() + scrollPadding\n        });\n    }\n};\n\n/**\n * Expand the navigation and highlight the current database or table/view\n *\n * @return {void}\n */\nNavigation.showCurrent = function () {\n    var db = window.CommonParams.get('db');\n    var table = window.CommonParams.get('table');\n\n    var autoexpand = $('#pma_navigation_tree').hasClass('autoexpand');\n\n    $('#pma_navigation_tree')\n        .find('li.selected')\n        .removeClass('selected');\n    var $dbItem;\n    if (db) {\n        $dbItem = findLoadedItem(\n            $('#pma_navigation_tree').find('> div'), db, 'database', !table\n        );\n        if ($('#navi_db_select').length &&\n            $('option:selected', $('#navi_db_select')).length\n        ) {\n            if (! Navigation.selectCurrentDatabase()) {\n                return;\n            }\n            // If loaded database in navigation is not same as current one\n            if ($('#pma_navigation_tree_content').find('span.loaded_db').first().text()\n                !== $('#navi_db_select').val()\n            ) {\n                Navigation.loadChildNodes(false, $('option:selected', $('#navi_db_select')), function () {\n                    handleTableOrDb(table, $('#pma_navigation_tree_content'));\n                    var $children = $('#pma_navigation_tree_content').children('div.list_container');\n                    $children.promise().done(Navigation.treeStateUpdate);\n                });\n            } else {\n                handleTableOrDb(table, $('#pma_navigation_tree_content'));\n            }\n        } else if ($dbItem) {\n            fullExpand(table, $dbItem);\n        }\n    } else if ($('#navi_db_select').length && $('#navi_db_select').val()) {\n        $('#navi_db_select').val('').hide().trigger('change');\n    } else if (autoexpand && $('#pma_navigation_tree_content > ul > li.database').length === 1) {\n        // automatically expand the list if there is only single database\n\n        // find the name of the database\n        var dbItemName = '';\n\n        $('#pma_navigation_tree_content > ul > li.database').children('a').each(function () {\n            var name = $(this).text();\n            if (!dbItemName && name.trim()) { // if the name is not empty, it is the desired element\n                dbItemName = name;\n            }\n        });\n\n        $dbItem = findLoadedItem(\n            $('#pma_navigation_tree').find('> div'), dbItemName, 'database', !table\n        );\n\n        fullExpand(table, $dbItem);\n    }\n    Navigation.showFullName($('#pma_navigation_tree'));\n\n    function fullExpand (table, $dbItem) {\n        var $expander = $dbItem.children('div').first().children('a.expander');\n        // if not loaded or loaded but collapsed\n        if (! $expander.hasClass('loaded') ||\n            $expander.find('img').is('.ic_b_plus')\n        ) {\n            Navigation.expandTreeNode($expander, function () {\n                handleTableOrDb(table, $dbItem);\n            });\n        } else {\n            handleTableOrDb(table, $dbItem);\n        }\n    }\n\n    function handleTableOrDb (table, $dbItem) {\n        if (table) {\n            loadAndHighlightTableOrView($dbItem, table);\n        } else {\n            var $container = $dbItem.children('div.list_container');\n            var $tableContainer = $container.children('ul').children('li.tableContainer');\n            if ($tableContainer.length > 0) {\n                var $expander = $tableContainer.children('div').first().children('a.expander');\n                $tableContainer.addClass('selected');\n                Navigation.expandTreeNode($expander, function () {\n                    Navigation.scrollToView($dbItem, true);\n                });\n            } else {\n                Navigation.scrollToView($dbItem, true);\n            }\n        }\n    }\n\n    function findLoadedItem ($container, name, clazz, doSelect) {\n        var ret = false;\n        $container.children('ul').children('li').each(function () {\n            var $li = $(this);\n            // this is a navigation group, recurse\n            if ($li.is('.navGroup')) {\n                var $container = $li.children('div.list_container');\n                var $childRet = findLoadedItem(\n                    $container, name, clazz, doSelect\n                );\n                if ($childRet) {\n                    ret = $childRet;\n                    return false;\n                }\n            } else { // this is a real navigation item\n                // name and class matches\n                if (((clazz && $li.is('.' + clazz)) || ! clazz) &&\n                        $li.children('a').text() === name) {\n                    if (doSelect) {\n                        $li.addClass('selected');\n                    }\n                    // traverse up and expand and parent navigation groups\n                    $li.parents('.navGroup').each(function () {\n                        var $cont = $(this).children('div.list_container');\n                        if (! $cont.is(':visible')) {\n                            $(this)\n                                .children('div').first()\n                                .children('a.expander')\n                                .trigger('click');\n                        }\n                    });\n                    ret = $li;\n                    return false;\n                }\n            }\n        });\n        return ret;\n    }\n\n    function loadAndHighlightTableOrView ($dbItem, itemName) {\n        var $container = $dbItem.children('div.list_container');\n        var $expander;\n        var $whichItem = isItemInContainer($container, itemName, 'li.nav_node_table, li.view');\n        // If item already there in some container\n        if ($whichItem) {\n            // get the relevant container while may also be a subcontainer\n            var $relatedContainer = $whichItem.closest('li.subContainer').length\n                ? $whichItem.closest('li.subContainer')\n                : $dbItem;\n            $whichItem = findLoadedItem(\n                $relatedContainer.children('div.list_container'),\n                itemName, null, true\n            );\n            // Show directly\n            showTableOrView($whichItem, $relatedContainer.children('div').first().children('a.expander'));\n        // else if item not there, try loading once\n        } else {\n            var $subContainers = $dbItem.find('.subContainer');\n            // If there are subContainers i.e. tableContainer or viewContainer\n            if ($subContainers.length > 0) {\n                var $containers = [];\n                $subContainers.each(function (index) {\n                    $containers[index] = $(this);\n                    $expander = $containers[index]\n                        .children('div').first()\n                        .children('a.expander');\n                    if (! $expander.hasClass('loaded')) {\n                        loadAndShowTableOrView($expander, $containers[index], itemName);\n                    }\n                });\n            // else if no subContainers\n            } else {\n                $expander = $dbItem\n                    .children('div').first()\n                    .children('a.expander');\n                if (! $expander.hasClass('loaded')) {\n                    loadAndShowTableOrView($expander, $dbItem, itemName);\n                }\n            }\n        }\n    }\n\n    function loadAndShowTableOrView ($expander, $relatedContainer, itemName) {\n        Navigation.loadChildNodes(true, $expander, function () {\n            var $whichItem = findLoadedItem(\n                $relatedContainer.children('div.list_container'),\n                itemName, null, true\n            );\n            if ($whichItem) {\n                showTableOrView($whichItem, $expander);\n            }\n        });\n    }\n\n    function showTableOrView ($whichItem, $expander) {\n        Navigation.expandTreeNode($expander, function () {\n            if ($whichItem) {\n                Navigation.scrollToView($whichItem, false);\n            }\n        });\n    }\n\n    function isItemInContainer ($container, name, clazz) {\n        var $whichItem = null;\n        var $items = $container.find(clazz);\n        $items.each(function () {\n            if ($(this).children('a').text() === name) {\n                $whichItem = $(this);\n                return false;\n            }\n        });\n        return $whichItem;\n    }\n};\n\n/**\n * Disable navigation panel settings\n *\n * @return {void}\n */\nNavigation.disableSettings = function () {\n    $('#pma_navigation_settings_icon').addClass('hide');\n    $('#pma_navigation_settings').remove();\n};\n\n/**\n * Ensure that navigation panel settings is properly setup.\n * If not, set it up\n *\n * @param {string} selflink\n *\n * @return {void}\n */\nNavigation.ensureSettings = function (selflink) {\n    $('#pma_navigation_settings_icon').removeClass('hide');\n\n    if (!$('#pma_navigation_settings').length) {\n        var params = {\n            getNaviSettings: true,\n            server: window.CommonParams.get('server'),\n        };\n        $.post('index.php?route=/navigation&ajax_request=1', params, function (data) {\n            if (typeof data !== 'undefined' && data.success) {\n                $('#pma_navi_settings_container').html(data.message);\n                window.Config.setupRestoreField();\n                window.Config.setupValidation();\n                $('#pma_navigation_settings').find('form').attr('action', selflink);\n            } else {\n                Functions.ajaxShowMessage(data.error);\n            }\n        });\n    } else {\n        $('#pma_navigation_settings').find('form').attr('action', selflink);\n    }\n};\n\n/**\n * Reloads the whole navigation tree while preserving its state\n *\n * @param {Function} callback the callback function\n * @param {object} paths stored navigation paths\n *\n * @return {void}\n */\nNavigation.reload = function (callback, paths) {\n    var params = {\n        'reload': true,\n        'no_debug': true,\n        'server': window.CommonParams.get('server'),\n    };\n    var pathsLocal = paths || Navigation.traverseForPaths();\n    $.extend(params, pathsLocal);\n    if ($('#navi_db_select').length) {\n        params.db = window.CommonParams.get('db');\n        requestNaviReload(params);\n        return;\n    }\n    requestNaviReload(params);\n\n    function requestNaviReload (params) {\n        $.post('index.php?route=/navigation&ajax_request=1', params, function (data) {\n            if (typeof data !== 'undefined' && data.success) {\n                $('#pma_navigation_tree').html(data.message).children('div').show();\n                if ($('#pma_navigation_tree').hasClass('synced')) {\n                    Navigation.selectCurrentDatabase();\n                    Navigation.showCurrent();\n                }\n                // Fire the callback, if any\n                if (typeof callback === 'function') {\n                    callback.call();\n                }\n                Navigation.treeStateUpdate();\n            } else {\n                Functions.ajaxShowMessage(data.error);\n            }\n        });\n    }\n};\n\nNavigation.selectCurrentDatabase = function () {\n    var $naviDbSelect = $('#navi_db_select');\n\n    if (!$naviDbSelect.length) {\n        return false;\n    }\n\n    if (window.CommonParams.get('db')) { // db selected\n        $naviDbSelect.show();\n    }\n\n    $naviDbSelect.val(window.CommonParams.get('db'));\n    return $naviDbSelect.val() === window.CommonParams.get('db');\n};\n\n/**\n * Handles any requests to change the page in a branch of a tree\n *\n * This can be called from link click or select change event handlers\n *\n * @param {object} $this A jQuery object that points to the element that\n * initiated the action of changing the page\n *\n * @return {void}\n */\nNavigation.treePagination = function ($this) {\n    var $msgbox = Functions.ajaxShowMessage();\n    var isDbSelector = $this.closest('div.pageselector').is('.dbselector');\n    var url = 'index.php?route=/navigation';\n    var params = 'ajax_request=true';\n    if ($this[0].tagName === 'A') {\n        params += window.CommonParams.get('arg_separator') + $this.getPostData();\n    } else { // tagName === 'SELECT'\n        params += window.CommonParams.get('arg_separator') + $this.closest('form').serialize();\n    }\n    var searchClause = Navigation.FastFilter.getSearchClause();\n    if (searchClause) {\n        params += window.CommonParams.get('arg_separator') + 'searchClause=' + encodeURIComponent(searchClause);\n    }\n    if (isDbSelector) {\n        params += window.CommonParams.get('arg_separator') + 'full=true';\n    } else {\n        var searchClause2 = Navigation.FastFilter.getSearchClause2($this);\n        if (searchClause2) {\n            params += window.CommonParams.get('arg_separator') + 'searchClause2=' + encodeURIComponent(searchClause2);\n        }\n    }\n    $.post(url, params, function (data) {\n        if (typeof data !== 'undefined' && data.success) {\n            Functions.ajaxRemoveMessage($msgbox);\n            var val;\n            if (isDbSelector) {\n                val = Navigation.FastFilter.getSearchClause();\n                $('#pma_navigation_tree')\n                    .html(data.message)\n                    .children('div')\n                    .show();\n                if (val) {\n                    $('#pma_navigation_tree')\n                        .find('li.fast_filter input.searchClause')\n                        .val(val);\n                }\n            } else {\n                var $parent = $this.closest('div.list_container').parent();\n                val = Navigation.FastFilter.getSearchClause2($this);\n                $this.closest('div.list_container').html(\n                    $(data.message).children().show()\n                );\n                if (val) {\n                    $parent.find('li.fast_filter input.searchClause').val(val);\n                }\n                $parent.find('span.pos2_value').first().text(\n                    $parent.find('span.pos2_value').last().text()\n                );\n                $parent.find('span.pos3_value').first().text(\n                    $parent.find('span.pos3_value').last().text()\n                );\n            }\n        } else {\n            Functions.ajaxShowMessage(data.error);\n            Functions.handleRedirectAndReload(data);\n        }\n        Navigation.treeStateUpdate();\n    });\n};\n\n/**\n * ResizeHandler Custom object that manages the resizing of the navigation\n *\n * XXX: Must only be ever instanciated once\n * XXX: Inside event handlers the 'this' object is accessed as 'event.data.resize_handler'\n */\nNavigation.ResizeHandler = function () {\n    /**\n     * @var {number} panelWidth Used by the collapser to know where to go\n     *                      back to when uncollapsing the panel\n     */\n    this.panelWidth = 0;\n    /**\n     * @var {string} left Used to provide support for RTL languages\n     */\n    this.left = $('html').attr('dir') === 'ltr' ? 'left' : 'right';\n    /**\n     * Adjusts the width of the navigation panel to the specified value\n     *\n     * @param {number} position Navigation width in pixels\n     *\n     * @return {void}\n     */\n    this.setWidth = function (position) {\n        var pos = position;\n        if (typeof pos !== 'number') {\n            pos = 240;\n        }\n        var $resizer = $('#pma_navigation_resizer');\n        var resizerWidth = $resizer.width();\n        var $collapser = $('#pma_navigation_collapser');\n        var windowWidth = $(window).width();\n        $('#pma_navigation').width(pos);\n        $('body').css('margin-' + this.left, pos + 'px');\n        // Issue #15127 : Adding fixed positioning to menubar\n        // Issue #15570 : Panels on homescreen go underneath of floating menubar\n        $('#floating_menubar')\n            .css('margin-' + this.left, $('#pma_navigation').width() + $('#pma_navigation_resizer').width())\n            .css(this.left, 0)\n            .css({\n                'position': 'fixed',\n                'top': 0,\n                'width': '100%',\n                'z-index': 99\n            })\n            .append($('#server-breadcrumb'))\n            .append($('#topmenucontainer'));\n        // Allow the DOM to render, then adjust the padding on the body\n        setTimeout(function () {\n            $('body').css(\n                'padding-top',\n                $('#floating_menubar').outerHeight(true)\n            );\n        }, 2);\n        $('#pma_console')\n            .css('margin-' + this.left, (pos + resizerWidth) + 'px');\n        $resizer.css(this.left, pos + 'px');\n        if (pos === 0) {\n            $collapser\n                .css(this.left, pos + resizerWidth)\n                .html(this.getSymbol(pos))\n                .prop('title', Messages.strShowPanel);\n        } else if (windowWidth > 768) {\n            $collapser\n                .css(this.left, pos)\n                .html(this.getSymbol(pos))\n                .prop('title', Messages.strHidePanel);\n            $('#pma_navigation_resizer').css({ 'width': '3px' });\n        } else {\n            $collapser\n                .css(this.left, windowWidth - 22)\n                .html(this.getSymbol(100))\n                .prop('title', Messages.strHidePanel);\n            $('#pma_navigation').width(windowWidth);\n            $('body').css('margin-' + this.left, '0px');\n            $('#pma_navigation_resizer').css({ 'width': '0px' });\n        }\n        setTimeout(function () {\n            $(window).trigger('resize');\n        }, 4);\n    };\n    /**\n     * Returns the horizontal position of the mouse,\n     * relative to the outer side of the navigation panel\n     *\n     * @param {MouseEvent} event\n     *\n     * @return {number} Navigation width in pixels\n     */\n    this.getPos = function (event) {\n        var pos = event.pageX;\n        var windowWidth = $(window).width();\n        var windowScroll = $(window).scrollLeft();\n        pos = pos - windowScroll;\n        if (this.left !== 'left') {\n            pos = windowWidth - event.pageX;\n        }\n        if (pos < 0) {\n            pos = 0;\n        } else if (pos + 100 >= windowWidth) {\n            pos = windowWidth - 100;\n        } else {\n            this.panelWidth = 0;\n        }\n        return pos;\n    };\n    /**\n     * Returns the HTML code for the arrow symbol used in the collapser\n     *\n     * @param {number} width The width of the panel\n     *\n     * @return {string}\n     */\n    this.getSymbol = function (width) {\n        if (this.left === 'left') {\n            if (width === 0) {\n                return '&rarr;';\n            } else {\n                return '&larr;';\n            }\n        } else {\n            if (width === 0) {\n                return '&larr;';\n            } else {\n                return '&rarr;';\n            }\n        }\n    };\n    /**\n     * Event handler for initiating a resize of the panel\n     *\n     * @param {object} event Event data (contains a reference to Navigation.ResizeHandler)\n     *\n     * @return {void}\n     */\n    this.mousedown = function (event) {\n        event.preventDefault();\n        $(document)\n            .on('mousemove', { 'resize_handler': event.data.resize_handler }, event.data.resize_handler.mousemove)\n            .on('mouseup', { 'resize_handler': event.data.resize_handler }, event.data.resize_handler.mouseup);\n        $('body').css('cursor', 'col-resize');\n    };\n    /**\n     * Event handler for terminating a resize of the panel\n     *\n     * @param {object} event Event data (contains a reference to Navigation.ResizeHandler)\n     *\n     * @return {void}\n     */\n    this.mouseup = function (event) {\n        $('body').css('cursor', '');\n        Functions.configSet('NavigationWidth', event.data.resize_handler.getPos(event));\n        $('#topmenu').menuResizer('resize');\n        $(document)\n            .off('mousemove')\n            .off('mouseup');\n    };\n    /**\n     * Event handler for updating the panel during a resize operation\n     *\n     * @param {object} event Event data (contains a reference to Navigation.ResizeHandler)\n     *\n     * @return {void}\n     */\n    this.mousemove = function (event) {\n        event.preventDefault();\n        if (event.data && event.data.resize_handler) {\n            var pos = event.data.resize_handler.getPos(event);\n            event.data.resize_handler.setWidth(pos);\n        }\n    };\n    /**\n     * Event handler for collapsing the panel\n     *\n     * @param {object} event Event data (contains a reference to Navigation.ResizeHandler)\n     *\n     * @return {void}\n     */\n    this.collapse = function (event) {\n        event.preventDefault();\n        var panelWidth = event.data.resize_handler.panelWidth;\n        var width = $('#pma_navigation').width();\n        if (width === 0 && panelWidth === 0) {\n            panelWidth = 240;\n        }\n        Functions.configSet('NavigationWidth', panelWidth);\n        event.data.resize_handler.setWidth(panelWidth);\n        event.data.resize_handler.panelWidth = width;\n    };\n    /**\n     * Event handler for resizing the navigation tree height on window resize\n     *\n     * @return {void}\n     */\n    this.treeResize = function () {\n        var $nav = $('#pma_navigation');\n        var $navTree = $('#pma_navigation_tree');\n        var $navHeader = $('#pma_navigation_header');\n        var $navTreeContent = $('#pma_navigation_tree_content');\n        var height = ($nav.height() - $navHeader.height());\n\n        height = height > 50 ? height : 800; // keep min. height\n        $navTree.height(height);\n        if ($navTreeContent.length > 0) {\n            $navTreeContent.height(height - $navTreeContent.position().top);\n        } else {\n            // TODO: in fast filter search response there is no #pma_navigation_tree_content, needs to be added in php\n            $navTree.css({\n                'overflow-y': 'auto'\n            });\n        }\n        // Set content bottom space because of console\n        $('body').css('margin-bottom', $('#pma_console').height() + 'px');\n    };\n    /**\n     * Init handlers for the tree resizers\n     *\n     * @return {void}\n     */\n    this.treeInit = function () {\n        const isLoadedOnMobile = $(window).width() < 768;\n        // Hide the pma_navigation initially when loaded on mobile\n        if (isLoadedOnMobile) {\n            this.setWidth(0);\n        }\n        // Register the events for the resizer and the collapser\n        $(document).on('mousedown', '#pma_navigation_resizer', { 'resize_handler': this }, this.mousedown);\n        $(document).on('click', '#pma_navigation_collapser', { 'resize_handler': this }, this.collapse);\n\n        // Add the correct arrow symbol to the collapser\n        $('#pma_navigation_collapser').html(this.getSymbol($('#pma_navigation').width()));\n        // Fix navigation tree height\n        $(window).on('resize', this.treeResize);\n        // need to call this now and then, browser might decide\n        // to show/hide horizontal scrollbars depending on page content width\n        setInterval(this.treeResize, 2000);\n        this.treeResize();\n        const callbackSuccessGetConfigValue = (data) => {\n            this.setWidth(data);\n            $('#topmenu').menuResizer('resize');\n        };\n        // Skip mobile\n        if (isLoadedOnMobile === false) {\n            // Make an init using the default found value\n            const initialResizeValue = $('#pma_navigation').data('config-navigation-width');\n            callbackSuccessGetConfigValue(initialResizeValue);\n        }\n        Functions.configGet('NavigationWidth', false, callbackSuccessGetConfigValue);\n    };\n    this.treeInit();\n};\n\n/**\n * @var {object} FastFilter Handles the functionality that allows filtering\n *                          of the items in a branch of the navigation tree\n */\nNavigation.FastFilter = {\n    /**\n     * Construct for the asynchronous fast filter functionality\n     *\n     * @param {object} $this        A jQuery object pointing to the list container\n     *                              which is the nearest parent of the fast filter\n     * @param {string} searchClause The query string for the filter\n     *\n     * @return {void}\n     */\n    Filter: function ($this, searchClause) {\n        /**\n         * @var {object} $this A jQuery object pointing to the list container\n         *                     which is the nearest parent of the fast filter\n         */\n        this.$this = $this;\n        /**\n         * @var {boolean} searchClause The query string for the filter\n         */\n        this.searchClause = searchClause;\n        /**\n         * @var {object} $clone A clone of the original contents\n         *                      of the navigation branch before\n         *                      the fast filter was applied\n         */\n        this.$clone = $this.clone();\n        /**\n         * @var {object} xhr A reference to the ajax request that is currently running\n         * @type {JQuery.jqXHR<any> | null}\n         */\n        this.xhr = null;\n        /**\n         * @var {number} timeout Used to delay the request for asynchronous search\n         */\n        this.timeout = null;\n\n        var $filterInput = $this.find('li.fast_filter input.searchClause');\n        if ($filterInput.length !== 0 &&\n            $filterInput.val() !== '' &&\n            $filterInput.val() !== $filterInput[0].defaultValue\n        ) {\n            this.request();\n        }\n    },\n    /**\n     * Gets the query string from the database fast filter form\n     *\n     * @return {string}\n     */\n    getSearchClause: function () {\n        var retval = '';\n        var $input = $('#pma_navigation_tree')\n            .find('li.fast_filter.db_fast_filter input.searchClause');\n        if ($input.length && $input.val() !== $input[0].defaultValue) {\n            retval = $input.val();\n        }\n        return retval;\n    },\n    /**\n     * Gets the query string from a second level item's fast filter form\n     * The retrieval is done by traversing the navigation tree backwards\n     *\n     * @param $this\n     *\n     * @return {string}\n     */\n    getSearchClause2: function ($this) {\n        var $filterContainer = $this.closest('div.list_container');\n        var $filterInput = $([]);\n        if ($filterContainer\n            .find('li.fast_filter:not(.db_fast_filter) input.searchClause')\n            .length !== 0) {\n            $filterInput = $filterContainer\n                .find('li.fast_filter:not(.db_fast_filter) input.searchClause');\n        }\n        var searchClause2 = '';\n        if ($filterInput.length !== 0 &&\n            $filterInput.first().val() !== $filterInput[0].defaultValue\n        ) {\n            searchClause2 = $filterInput.val();\n        }\n        return searchClause2;\n    },\n    /**\n     * @var hash events A list of functions that are bound to DOM events\n     *                  at the top of this file\n     */\n    events: {\n        focus: function () {\n            var $obj = $(this).closest('div.list_container');\n            if (! $obj.data('fastFilter')) {\n                $obj.data(\n                    'fastFilter',\n                    new Navigation.FastFilter.Filter($obj, $(this).val())\n                );\n            }\n            if ($(this).val() === this.defaultValue) {\n                $(this).val('');\n            } else {\n                $(this).trigger('select');\n            }\n        },\n        blur: function () {\n            if ($(this).val() === '') {\n                $(this).val(this.defaultValue);\n            }\n            var $obj = $(this).closest('div.list_container');\n            if ($(this).val() === this.defaultValue && $obj.data('fastFilter')) {\n                $obj.data('fastFilter').restore();\n            }\n        },\n        keyup: function (event) {\n            var $obj = $(this).closest('div.list_container');\n            var str = '';\n            if ($(this).val() !== this.defaultValue && $(this).val() !== '') {\n                $obj.find('div.pageselector').hide();\n                str = $(this).val();\n            }\n\n            /**\n             * FIXME at the server level a value match is done while on\n             * the client side it is a regex match. These two should be aligned\n             */\n\n            // regex used for filtering.\n            var regex;\n            try {\n                regex = new RegExp(str, 'i');\n            } catch (err) {\n                return;\n            }\n\n            // this is the div that houses the items to be filtered by this filter.\n            var outerContainer;\n            if ($(this).closest('li.fast_filter').is('.db_fast_filter')) {\n                outerContainer = $('#pma_navigation_tree_content');\n            } else {\n                outerContainer = $obj;\n            }\n\n            // filters items that are directly under the div as well as grouped in\n            // groups. Does not filter child items (i.e. a database search does\n            // not filter tables)\n            var itemFilter = function ($curr) {\n                $curr.children('ul').children('li.navGroup').each(function () {\n                    $(this).children('div.list_container').each(function () {\n                        itemFilter($(this)); // recursive\n                    });\n                });\n                $curr.children('ul').children('li').children('a').not('.container').each(function () {\n                    if (regex.test($(this).text())) {\n                        $(this).parent().show().removeClass('hidden');\n                    } else {\n                        $(this).parent().hide().addClass('hidden');\n                    }\n                });\n            };\n            itemFilter(outerContainer);\n\n            // hides containers that does not have any visible children\n            var containerFilter = function ($curr) {\n                $curr.children('ul').children('li.navGroup').each(function () {\n                    var $group = $(this);\n                    $group.children('div.list_container').each(function () {\n                        containerFilter($(this)); // recursive\n                    });\n                    $group.show().removeClass('hidden');\n                    if ($group.children('div.list_container').children('ul')\n                        .children('li').not('.hidden').length === 0) {\n                        $group.hide().addClass('hidden');\n                    }\n                });\n            };\n            containerFilter(outerContainer);\n\n            if ($(this).val() !== this.defaultValue && $(this).val() !== '') {\n                if (! $obj.data('fastFilter')) {\n                    $obj.data(\n                        'fastFilter',\n                        new Navigation.FastFilter.Filter($obj, $(this).val())\n                    );\n                } else {\n                    if (event.keyCode === 13) {\n                        $obj.data('fastFilter').update($(this).val());\n                    }\n                }\n            } else if ($obj.data('fastFilter')) {\n                $obj.data('fastFilter').restore(true);\n            }\n            // update filter state\n            var filterName;\n            if ($(this).attr('name') === 'searchClause2') {\n                filterName = $(this).siblings('input[name=aPath]').val();\n            } else {\n                filterName = 'dbFilter';\n            }\n            Navigation.filterStateUpdate(filterName, $(this).val());\n        },\n        clear: function (event) {\n            event.stopPropagation();\n            // Clear the input and apply the fast filter with empty input\n            var filter = $(this).closest('div.list_container').data('fastFilter');\n            if (filter) {\n                filter.restore();\n            }\n            var value = $(this).prev()[0].defaultValue;\n            $(this).prev().val(value).trigger('keyup');\n        }\n    }\n};\n/**\n * Handles a change in the search clause\n *\n * @param {string} searchClause The query string for the filter\n *\n * @return {void}\n */\nNavigation.FastFilter.Filter.prototype.update = function (searchClause) {\n    if (this.searchClause !== searchClause) {\n        this.searchClause = searchClause;\n        this.request();\n    }\n};\n/**\n * After a delay of 250mS, initiates a request to retrieve search results\n * Multiple calls to this function will always abort the previous request\n *\n * @return {void}\n */\nNavigation.FastFilter.Filter.prototype.request = function () {\n    var self = this;\n    if (self.$this.find('li.fast_filter').find('img.throbber').length === 0) {\n        self.$this.find('li.fast_filter').append(\n            $('<div class=\"throbber\"></div>').append(\n                $('#pma_navigation_content')\n                    .find('img.throbber')\n                    .clone()\n                    .css({ visibility: 'visible', display: 'block' })\n            )\n        );\n    }\n    if (self.xhr) {\n        self.xhr.abort();\n    }\n    var params = self.$this.find('> ul > li > form.fast_filter').first().serialize();\n\n    if (self.$this.find('> ul > li > form.fast_filter').first().find('input[name=searchClause]').length === 0) {\n        var $input = $('#pma_navigation_tree').find('li.fast_filter.db_fast_filter input.searchClause');\n        if ($input.length && $input.val() !== $input[0].defaultValue) {\n            params += window.CommonParams.get('arg_separator') + 'searchClause=' + encodeURIComponent($input.val());\n        }\n    }\n    self.xhr = $.ajax({\n        url: 'index.php?route=/navigation&ajax_request=1&server=' + window.CommonParams.get('server'),\n        type: 'post',\n        dataType: 'json',\n        data: params,\n        complete: function (jqXHR, status) {\n            if (status !== 'abort') {\n                var data = JSON.parse(jqXHR.responseText);\n                self.$this.find('li.fast_filter').find('div.throbber').remove();\n                if (data && data.results) {\n                    self.swap.apply(self, [data.message]);\n                }\n            }\n        }\n    });\n};\n/**\n * Replaces the contents of the navigation branch with the search results\n *\n * @param {string} list The search results\n *\n * @return {void}\n */\nNavigation.FastFilter.Filter.prototype.swap = function (list) {\n    this.$this\n        .html($(list).html())\n        .children()\n        .show()\n        .end()\n        .find('li.fast_filter input.searchClause')\n        .val(this.searchClause);\n    this.$this.data('fastFilter', this);\n};\n/**\n * Restores the navigation to the original state after the fast filter is cleared\n *\n * @param {boolean} focus Whether to also focus the input box of the fast filter\n *\n * @return {void}\n */\nNavigation.FastFilter.Filter.prototype.restore = function (focus) {\n    if (this.$this.children('ul').first().hasClass('search_results')) {\n        this.$this.html(this.$clone.html()).children().show();\n        this.$this.data('fastFilter', this);\n        if (focus) {\n            this.$this.find('li.fast_filter input.searchClause').trigger('focus');\n        }\n    }\n    this.searchClause = '';\n    this.$this.find('div.pageselector').show();\n    this.$this.find('div.throbber').remove();\n};\n\n/**\n * Show full name when cursor hover and name not shown completely\n *\n * @param {object} $containerELem Container element\n *\n * @return {void}\n */\nNavigation.showFullName = function ($containerELem) {\n    $containerELem.find('.hover_show_full').on('mouseenter', function () {\n        /** mouseenter */\n        var $this = $(this);\n        var thisOffset = $this.offset();\n        if ($this.text() === '') {\n            return;\n        }\n        var $parent = $this.parent();\n        if (($parent.offset().left + $parent.outerWidth())\n           < (thisOffset.left + $this.outerWidth())) {\n            var $fullNameLayer = $('#full_name_layer');\n            if ($fullNameLayer.length === 0) {\n                $('body').append('<div id=\"full_name_layer\" class=\"hide\"></div>');\n                $('#full_name_layer').on('mouseleave', function () {\n                    /** mouseleave */\n                    $(this).addClass('hide')\n                        .removeClass('hovering');\n                }).on('mouseenter', function () {\n                    /** mouseenter */\n                    $(this).addClass('hovering');\n                });\n                $fullNameLayer = $('#full_name_layer');\n            }\n            $fullNameLayer.removeClass('hide');\n            $fullNameLayer.css({ left: thisOffset.left, top: thisOffset.top });\n            $fullNameLayer.html($this.clone());\n            setTimeout(function () {\n                if (! $fullNameLayer.hasClass('hovering')) {\n                    $fullNameLayer.trigger('mouseleave');\n                }\n            }, 200);\n        }\n    });\n};\n"],"names":["Navigation","treeStateUpdate","window","Config","isStorageSupported","storage","sessionStorage","setItem","JSON","stringify","traverseForPaths","CommonParams","get","error","removeItem","filterStateUpdate","filterName","filterValue","currentFilter","$","extend","parse","getItem","filter","filterStateRestore","navTreeSearchFilters","searchClauses","Object","keys","length","hasOwnProperty","dbFilter","$obj","data","FastFilter","Filter","find","val","trigger","$tableFilters","children","each","closest","siblings","is","loadChildNodes","isNode","$expandElem","callback","$destination","params","hasClass","pos2Name","pathsNav","attr","searchClause","getSearchClause","searchClause2","getSearchClause2","post","success","remove","append","message","addClass","html","first","css","border","margin","padding","slideDown","errors","$errors","replaceWith","redirect_flag","location","href","indexOf","reload","$throbber","hide","$icon","show","Functions","ajaxShowMessage","collapseTreeNode","$children","removeClass","slideUp","promise","done","pos","count","pos2Nav","parent","last","pos3Nav","onload","document","on","event","preventDefault","ResizeHandler","stopImmediatePropagation","expandTreeNode","$iconThrobberSrc","hideNav","set","synced","$img","Messages","linkWithMain","unlinkWithMain","showCurrent","events","clear","focus","blur","keyup","treePagination","createViewModal","argSep","getPostData","ajax","type","url","$msg","ajaxRemoveMessage","modal","$tr","parents","$hiddenTableCount","$hideDialogBox","$self","anchorId","$dataFavTargets","hasLocalStorage","localStorage","favoriteTables","cache","changes","list","anchor","tooltip","navTreePaths","server","token","call","clone","visibility","display","insertBefore","showFullName","scrollToView","$element","$forceToTop","$container","elemTop","offset","top","textHeight","scrollPadding","stop","animate","scrollTop","height","db","table","autoexpand","$dbItem","findLoadedItem","selectCurrentDatabase","text","handleTableOrDb","fullExpand","dbItemName","name","trim","$expander","loadAndHighlightTableOrView","$tableContainer","clazz","doSelect","ret","$li","$childRet","$cont","itemName","$whichItem","isItemInContainer","$relatedContainer","showTableOrView","$subContainers","$containers","index","loadAndShowTableOrView","$items","disableSettings","ensureSettings","selflink","getNaviSettings","setupRestoreField","setupValidation","paths","pathsLocal","requestNaviReload","$naviDbSelect","$this","$msgbox","isDbSelector","tagName","serialize","encodeURIComponent","$parent","handleRedirectAndReload","panelWidth","left","setWidth","position","$resizer","resizerWidth","width","$collapser","windowWidth","setTimeout","outerHeight","getSymbol","prop","strShowPanel","strHidePanel","getPos","pageX","windowScroll","scrollLeft","mousedown","resize_handler","mousemove","mouseup","configSet","menuResizer","off","collapse","treeResize","$nav","$navTree","$navHeader","$navTreeContent","treeInit","isLoadedOnMobile","setInterval","callbackSuccessGetConfigValue","initialResizeValue","configGet","$clone","xhr","timeout","$filterInput","defaultValue","request","retval","$input","$filterContainer","restore","str","regex","RegExp","err","outerContainer","itemFilter","$curr","not","test","containerFilter","$group","keyCode","update","stopPropagation","value","prev","prototype","self","abort","dataType","complete","jqXHR","status","responseText","results","swap","apply","end","$containerELem","thisOffset","outerWidth","$fullNameLayer"],"sourceRoot":""}