{"version":3,"file":"navigation.js","mappings":"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","sources":["webpack://phpmyadmin/./js/src/navigation.js"],"sourcesContent":["/**\n * function used in or for navigation panel\n *\n * @package phpMyAdmin-Navigation\n */\n\n/* global isStorageSupported, setupRestoreField, setupValidation */ // js/config.js\n\nvar Navigation = {};\n\n/**\n * updates the tree state in sessionStorage\n *\n * @return {void}\n */\nNavigation.treeStateUpdate = function () {\n    // update if session storage is supported\n    if (isStorageSupported('sessionStorage')) {\n        var storage = window.sessionStorage;\n        // try catch necessary here to detect whether\n        // content to be stored exceeds storage capacity\n        try {\n            storage.setItem('navTreePaths', JSON.stringify(Navigation.traverseForPaths()));\n            storage.setItem('server', CommonParams.get('server'));\n            storage.setItem('token', CommonParams.get('token'));\n        } catch (error) {\n            // storage capacity exceeded & old navigation tree\n            // state is no more valid, so remove it\n            storage.removeItem('navTreePaths');\n            storage.removeItem('server');\n            storage.removeItem('token');\n        }\n    }\n};\n\n/**\n * updates the filter state in sessionStorage\n *\n * @param {string} filterName\n * @param {string} filterValue\n *\n * @return {void}\n */\nNavigation.filterStateUpdate = function (filterName, filterValue) {\n    if (isStorageSupported('sessionStorage')) {\n        var storage = window.sessionStorage;\n        try {\n            var currentFilter = $.extend({}, JSON.parse(storage.getItem('navTreeSearchFilters')));\n            var filter = {};\n            filter[filterName] = filterValue;\n            currentFilter = $.extend(currentFilter, filter);\n            storage.setItem('navTreeSearchFilters', JSON.stringify(currentFilter));\n        } catch (error) {\n            storage.removeItem('navTreeSearchFilters');\n        }\n    }\n};\n\n/**\n * restores the filter state on navigation reload\n *\n * @return {void}\n */\nNavigation.filterStateRestore = function () {\n    if (isStorageSupported('sessionStorage')\n        && typeof window.sessionStorage.navTreeSearchFilters !== 'undefined'\n    ) {\n        var searchClauses = JSON.parse(window.sessionStorage.navTreeSearchFilters);\n        if (Object.keys(searchClauses).length < 1) {\n            return;\n        }\n        // restore database filter if present and not empty\n        if (searchClauses.hasOwnProperty('dbFilter')\n            && searchClauses.dbFilter.length\n        ) {\n            var $obj = $('#pma_navigation_tree');\n            if (! $obj.data('fastFilter')) {\n                $obj.data(\n                    'fastFilter',\n                    new Navigation.FastFilter.Filter($obj, '')\n                );\n            }\n            $obj.find('li.fast_filter.db_fast_filter input.searchClause')\n                .val(searchClauses.dbFilter)\n                .trigger('keyup');\n        }\n        // find all table filters present in the tree\n        var $tableFilters = $('#pma_navigation_tree li.database')\n            .children('div.list_container')\n            .find('li.fast_filter input.searchClause');\n        // restore table filters\n        $tableFilters.each(function () {\n            $obj = $(this).closest('div.list_container');\n            // aPath associated with this filter\n            var filterName = $(this).siblings('input[name=aPath]').val();\n            // if this table's filter has a state stored in storage\n            if (searchClauses.hasOwnProperty(filterName)\n                && searchClauses[filterName].length\n            ) {\n                // clear state if item is not visible,\n                // happens when table filter becomes invisible\n                // as db filter has already been applied\n                if (! $obj.is(':visible')) {\n                    Navigation.filterStateUpdate(filterName, '');\n                    return true;\n                }\n                if (! $obj.data('fastFilter')) {\n                    $obj.data(\n                        'fastFilter',\n                        new Navigation.FastFilter.Filter($obj, '')\n                    );\n                }\n                $(this).val(searchClauses[filterName])\n                    .trigger('keyup');\n            }\n        });\n    }\n};\n\n/**\n * Loads child items of a node and executes a given callback\n *\n * @param isNode\n * @param $expandElem expander\n * @param callback    callback function\n *\n * @return {void}\n */\nNavigation.loadChildNodes = function (isNode, $expandElem, callback) {\n    var $destination = null;\n    var params = null;\n\n    if (isNode) {\n        if (!$expandElem.hasClass('expander')) {\n            return;\n        }\n        $destination = $expandElem.closest('li');\n        var pos2Name = $expandElem.find('span.pos2_nav');\n        var pathsNav = $expandElem.find('span.paths_nav');\n        params = {\n            'server': CommonParams.get('server'),\n            'aPath': pathsNav.attr('data-apath'),\n            'vPath': pathsNav.attr('data-vpath'),\n            'pos': pathsNav.attr('data-pos'),\n            'pos2_name': pos2Name.attr('data-name'),\n            'pos2_value': pos2Name.attr('data-value'),\n            'searchClause': '',\n            'searchClause2': ''\n        };\n        if ($expandElem.closest('ul').hasClass('search_results')) {\n            params.searchClause = Navigation.FastFilter.getSearchClause();\n            params.searchClause2 = Navigation.FastFilter.getSearchClause2($expandElem);\n        }\n    } else {\n        $destination = $('#pma_navigation_tree_content');\n        params = {\n            'server': CommonParams.get('server'),\n            'aPath': $expandElem.attr('data-apath'),\n            'vPath': $expandElem.attr('data-vpath'),\n            'pos': $expandElem.attr('data-pos'),\n            'pos2_name': '',\n            'pos2_value': '',\n            'searchClause': '',\n            'searchClause2': ''\n        };\n    }\n\n    $.post('index.php?route=/navigation&ajax_request=1', params, function (data) {\n        if (typeof data !== 'undefined' && data.success === true) {\n            $destination.find('div.list_container').remove(); // FIXME: Hack, there shouldn't be a list container there\n            if (isNode) {\n                $destination.append(data.message);\n                $expandElem.addClass('loaded');\n            } else {\n                $destination.html(data.message);\n                $destination.children()\n                    .first()\n                    .css({\n                        border: '0px',\n                        margin: '0em',\n                        padding : '0em'\n                    })\n                    .slideDown('slow');\n            }\n            if (data.errors) {\n                var $errors = $(data.errors);\n                if ($errors.children().length > 0) {\n                    $('#pma_errors').replaceWith(data.errors);\n                }\n            }\n            if (callback && typeof callback === 'function') {\n                callback(data);\n            }\n        } else if (typeof data !== 'undefined' && data.redirect_flag === '1') {\n            if (window.location.href.indexOf('?') === -1) {\n                window.location.href += '?session_expired=1';\n            } else {\n                window.location.href += CommonParams.get('arg_separator') + 'session_expired=1';\n            }\n            window.location.reload();\n        } else {\n            var $throbber = $expandElem.find('img.throbber');\n            $throbber.hide();\n            var $icon = $expandElem.find('img.ic_b_plus');\n            $icon.show();\n            Functions.ajaxShowMessage(data.error, false);\n        }\n    });\n};\n\n/**\n * Collapses a node in navigation tree.\n *\n * @param $expandElem expander\n *\n * @return {void}\n */\nNavigation.collapseTreeNode = function ($expandElem) {\n    var $children = $expandElem.closest('li').children('div.list_container');\n    var $icon = $expandElem.find('img');\n    if ($expandElem.hasClass('loaded')) {\n        if ($icon.is('.ic_b_minus')) {\n            $icon.removeClass('ic_b_minus').addClass('ic_b_plus');\n            $children.slideUp('fast');\n        }\n    }\n    $expandElem.trigger('blur');\n    $children.promise().done(Navigation.treeStateUpdate);\n};\n\n/**\n * Traverse the navigation tree backwards to generate all the actual\n * and virtual paths, as well as the positions in the pagination at\n * various levels, if necessary.\n *\n * @return {object}\n */\nNavigation.traverseForPaths = function () {\n    var params = {\n        pos: $('#pma_navigation_tree').find('div.dbselector select').val()\n    };\n    if ($('#navi_db_select').length) {\n        return params;\n    }\n    var count = 0;\n    $('#pma_navigation_tree').find('a.expander:visible').each(function () {\n        if ($(this).find('img').is('.ic_b_minus') &&\n            $(this).closest('li').find('div.list_container .ic_b_minus').length === 0\n        ) {\n            var pathsNav = $(this).find('span.paths_nav');\n            params['n' + count + '_aPath'] = pathsNav.attr('data-apath');\n            params['n' + count + '_vPath'] = pathsNav.attr('data-vpath');\n\n            var pos2Nav = $(this).find('span.pos2_nav');\n\n            if (pos2Nav.length === 0) {\n                pos2Nav = $(this)\n                    .parent()\n                    .parent()\n                    .find('span.pos2_nav').last();\n            }\n\n            params['n' + count + '_pos2_name'] = pos2Nav.attr('data-name');\n            params['n' + count + '_pos2_value'] = pos2Nav.attr('data-value');\n\n            var pos3Nav = $(this).find('span.pos3_nav');\n\n            params['n' + count + '_pos3_name'] = pos3Nav.attr('data-name');\n            params['n' + count + '_pos3_value'] = pos3Nav.attr('data-value');\n            count++;\n        }\n    });\n    return params;\n};\n\n/**\n * Executed on page load\n */\n$(function () {\n    if (! $('#pma_navigation').length) {\n        // Don't bother running any code if the navigation is not even on the page\n        return;\n    }\n\n    // Do not let the page reload on submitting the fast filter\n    $(document).on('submit', '.fast_filter', function (event) {\n        event.preventDefault();\n    });\n\n    // Fire up the resize handlers\n    new Navigation.ResizeHandler();\n\n    /**\n     * opens/closes (hides/shows) tree elements\n     * loads data via ajax\n     */\n    $(document).on('click', '#pma_navigation_tree a.expander', function (event) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n        var $icon = $(this).find('img');\n        if ($icon.is('.ic_b_plus')) {\n            Navigation.expandTreeNode($(this));\n        } else {\n            Navigation.collapseTreeNode($(this));\n        }\n    });\n\n    /**\n     * Register event handler for click on the reload\n     * navigation icon at the top of the panel\n     */\n    $(document).on('click', '#pma_navigation_reload', function (event) {\n        event.preventDefault();\n\n        // Find the loading symbol and show it\n        var $iconThrobberSrc = $('#pma_navigation').find('.throbber');\n        $iconThrobberSrc.show();\n        // TODO Why is a loading symbol both hidden, and invisible?\n        $iconThrobberSrc.css('visibility', '');\n\n        // Callback to be used to hide the loading symbol when done reloading\n        function hideNav () {\n            $iconThrobberSrc.hide();\n        }\n\n        // Reload the navigation\n        Navigation.reload(hideNav);\n    });\n\n    $(document).on('change', '#navi_db_select',  function () {\n        if (! $(this).val()) {\n            CommonParams.set('db', '');\n            Navigation.reload();\n        }\n        $(this).closest('form').trigger('submit');\n    });\n\n    /**\n     * Register event handler for click on the collapse all\n     * navigation icon at the top of the navigation tree\n     */\n    $(document).on('click', '#pma_navigation_collapse', function (event) {\n        event.preventDefault();\n        $('#pma_navigation_tree').find('a.expander').each(function () {\n            var $icon = $(this).find('img');\n            if ($icon.is('.ic_b_minus')) {\n                $(this).trigger('click');\n            }\n        });\n    });\n\n    /**\n     * Register event handler to toggle\n     * the 'link with main panel' icon on mouseenter.\n     */\n    $(document).on('mouseenter', '#pma_navigation_sync', function (event) {\n        event.preventDefault();\n        var synced = $('#pma_navigation_tree').hasClass('synced');\n        var $img = $('#pma_navigation_sync').children('img');\n        if (synced) {\n            $img.removeClass('ic_s_link').addClass('ic_s_unlink');\n        } else {\n            $img.removeClass('ic_s_unlink').addClass('ic_s_link');\n        }\n    });\n\n    /**\n     * Register event handler to toggle\n     * the 'link with main panel' icon on mouseout.\n     */\n    $(document).on('mouseout', '#pma_navigation_sync', function (event) {\n        event.preventDefault();\n        var synced = $('#pma_navigation_tree').hasClass('synced');\n        var $img = $('#pma_navigation_sync').children('img');\n        if (synced) {\n            $img.removeClass('ic_s_unlink').addClass('ic_s_link');\n        } else {\n            $img.removeClass('ic_s_link').addClass('ic_s_unlink');\n        }\n    });\n\n    /**\n     * Register event handler to toggle\n     * the linking with main panel behavior\n     */\n    $(document).on('click', '#pma_navigation_sync', function (event) {\n        event.preventDefault();\n        var synced = $('#pma_navigation_tree').hasClass('synced');\n        var $img = $('#pma_navigation_sync').children('img');\n        if (synced) {\n            $img\n                .removeClass('ic_s_unlink')\n                .addClass('ic_s_link')\n                .attr('alt', Messages.linkWithMain)\n                .attr('title', Messages.linkWithMain);\n            $('#pma_navigation_tree')\n                .removeClass('synced')\n                .find('li.selected')\n                .removeClass('selected');\n        } else {\n            $img\n                .removeClass('ic_s_link')\n                .addClass('ic_s_unlink')\n                .attr('alt', Messages.unlinkWithMain)\n                .attr('title', Messages.unlinkWithMain);\n            $('#pma_navigation_tree').addClass('synced');\n            Navigation.showCurrent();\n        }\n    });\n\n    /**\n     * Bind all \"fast filter\" events\n     */\n    $(document).on('click', '#pma_navigation_tree li.fast_filter button.searchClauseClear', Navigation.FastFilter.events.clear);\n    $(document).on('focus', '#pma_navigation_tree li.fast_filter input.searchClause', Navigation.FastFilter.events.focus);\n    $(document).on('blur', '#pma_navigation_tree li.fast_filter input.searchClause', Navigation.FastFilter.events.blur);\n    $(document).on('keyup', '#pma_navigation_tree li.fast_filter input.searchClause', Navigation.FastFilter.events.keyup);\n\n    /**\n     * Ajax handler for pagination\n     */\n    $(document).on('click', '#pma_navigation_tree div.pageselector a.ajax', function (event) {\n        event.preventDefault();\n        Navigation.treePagination($(this));\n    });\n\n    /**\n     * Node highlighting\n     */\n    $(document).on(\n        'mouseover',\n        '#pma_navigation_tree.highlight li:not(.fast_filter)',\n        function () {\n            if ($('li:visible', this).length === 0) {\n                $(this).addClass('activePointer');\n            }\n        }\n    );\n    $(document).on(\n        'mouseout',\n        '#pma_navigation_tree.highlight li:not(.fast_filter)',\n        function () {\n            $(this).removeClass('activePointer');\n        }\n    );\n\n    /** New index */\n    $(document).on('click', '#pma_navigation_tree li.new_index a.ajax', function (event) {\n        event.preventDefault();\n        var url = $(this).attr('href').substring(\n            $(this).attr('href').indexOf('?') + 1\n        ) + CommonParams.get('arg_separator') + 'ajax_request=true';\n        var title = Messages.strAddIndex;\n        Functions.indexEditorDialog(url, title);\n    });\n\n    /** Edit index */\n    $(document).on('click', 'li.index a.ajax', function (event) {\n        event.preventDefault();\n        var url = $(this).attr('href').substring(\n            $(this).attr('href').indexOf('?') + 1\n        ) + CommonParams.get('arg_separator') + 'ajax_request=true';\n        var title = Messages.strEditIndex;\n        Functions.indexEditorDialog(url, title);\n    });\n\n    /** New view */\n    $(document).on('click', 'li.new_view a.ajax', function (event) {\n        event.preventDefault();\n        Functions.createViewModal($(this));\n    });\n\n    /** Hide navigation tree item */\n    $(document).on('click', 'a.hideNavItem.ajax', function (event) {\n        event.preventDefault();\n        var argSep = CommonParams.get('arg_separator');\n        var params = $(this).getPostData();\n        params += argSep + 'ajax_request=true' + argSep + 'server=' + CommonParams.get('server');\n        $.ajax({\n            type: 'POST',\n            data: params,\n            url: $(this).attr('href'),\n            success: function (data) {\n                if (typeof data !== 'undefined' && data.success === true) {\n                    Navigation.reload();\n                } else {\n                    Functions.ajaxShowMessage(data.error);\n                }\n            }\n        });\n    });\n\n    /** Display a dialog to choose hidden navigation items to show */\n    $(document).on('click', 'a.showUnhide.ajax', function (event) {\n        event.preventDefault();\n        var $msg = Functions.ajaxShowMessage();\n        var argSep = CommonParams.get('arg_separator');\n        var params = $(this).getPostData();\n        params += argSep + 'ajax_request=true';\n        $.post($(this).attr('href'), params, function (data) {\n            if (typeof data !== 'undefined' && data.success === true) {\n                Functions.ajaxRemoveMessage($msg);\n                $('#unhideNavItemModal').modal('show');\n                $('#unhideNavItemModal').find('.modal-body').first().html(data.message);\n            } else {\n                Functions.ajaxShowMessage(data.error);\n            }\n        });\n    });\n\n    /** Show a hidden navigation tree item */\n    $(document).on('click', 'a.unhideNavItem.ajax', function (event) {\n        event.preventDefault();\n        var $tr = $(this).parents('tr');\n        var $hiddenTableCount = $tr.parents('tbody').children().length;\n        var $hideDialogBox = $tr.closest('div.ui-dialog');\n        var $msg = Functions.ajaxShowMessage();\n        var argSep = CommonParams.get('arg_separator');\n        var params = $(this).getPostData();\n        params += argSep + 'ajax_request=true' + argSep + 'server=' + CommonParams.get('server');\n        $.ajax({\n            type: 'POST',\n            data: params,\n            url: $(this).attr('href'),\n            success: function (data) {\n                Functions.ajaxRemoveMessage($msg);\n                if (typeof data !== 'undefined' && data.success === true) {\n                    $tr.remove();\n                    if ($hiddenTableCount === 1) {\n                        $hideDialogBox.remove();\n                    }\n                    Navigation.reload();\n                } else {\n                    Functions.ajaxShowMessage(data.error);\n                }\n            }\n        });\n    });\n\n    // Add/Remove favorite table using Ajax.\n    $(document).on('click', '.favorite_table_anchor', function (event) {\n        event.preventDefault();\n        var $self = $(this);\n        var anchorId = $self.attr('id');\n        if ($self.data('favtargetn') !== null) {\n            var $dataFavTargets = $('a[data-favtargets=\"' + $self.data('favtargetn') + '\"]');\n            if ($dataFavTargets.length > 0) {\n                $dataFavTargets.trigger('click');\n                return;\n            }\n        }\n\n        var hasLocalStorage = isStorageSupported('localStorage') &&\n            typeof window.localStorage.favoriteTables !== 'undefined';\n        $.ajax({\n            url: $self.attr('href'),\n            cache: false,\n            type: 'POST',\n            data: {\n                'favoriteTables': hasLocalStorage ? window.localStorage.favoriteTables : '',\n                'server': CommonParams.get('server'),\n            },\n            success: function (data) {\n                if (data.changes) {\n                    $('#pma_favorite_list').html(data.list);\n                    $('#' + anchorId).parent().html(data.anchor);\n                    Functions.tooltip(\n                        $('#' + anchorId),\n                        'a',\n                        $('#' + anchorId).attr('title')\n                    );\n                    // Update localStorage.\n                    if (isStorageSupported('localStorage')) {\n                        window.localStorage.favoriteTables = data.favoriteTables;\n                    }\n                } else {\n                    Functions.ajaxShowMessage(data.message);\n                }\n            }\n        });\n    });\n    // Check if session storage is supported\n    if (isStorageSupported('sessionStorage')) {\n        var storage = window.sessionStorage;\n        // remove tree from storage if Navi_panel config form is submitted\n        $(document).on('submit', 'form.config-form', function () {\n            storage.removeItem('navTreePaths');\n        });\n        // Initialize if no previous state is defined\n        if ($('#pma_navigation_tree_content').length &&\n            typeof storage.navTreePaths === 'undefined'\n        ) {\n            Navigation.reload();\n        } else if (CommonParams.get('server') === storage.server &&\n            CommonParams.get('token') === storage.token\n        ) {\n            // Reload the tree to the state before page refresh\n            Navigation.reload(Navigation.filterStateRestore, JSON.parse(storage.navTreePaths));\n        } else {\n            // If the user is different\n            Navigation.treeStateUpdate();\n            Navigation.reload();\n        }\n    }\n});\n\n/**\n * Expands a node in navigation tree.\n *\n * @param $expandElem expander\n * @param callback    callback function\n *\n * @return {void}\n */\nNavigation.expandTreeNode = function ($expandElem, callback) {\n    var $children = $expandElem.closest('li').children('div.list_container');\n    var $icon = $expandElem.find('img');\n    if ($expandElem.hasClass('loaded')) {\n        if ($icon.is('.ic_b_plus')) {\n            $icon.removeClass('ic_b_plus').addClass('ic_b_minus');\n            $children.slideDown('fast');\n        }\n        if (callback && typeof callback === 'function') {\n            callback.call();\n        }\n        $children.promise().done(Navigation.treeStateUpdate);\n    } else {\n        var $throbber = $('#pma_navigation').find('.throbber')\n            .first()\n            .clone()\n            .css({ visibility: 'visible', display: 'block' })\n            .on('click', false);\n        $icon.hide();\n        $throbber.insertBefore($icon);\n\n        Navigation.loadChildNodes(true, $expandElem, function (data) {\n            if (typeof data !== 'undefined' && data.success === true) {\n                var $destination = $expandElem.closest('li');\n                $icon.removeClass('ic_b_plus').addClass('ic_b_minus');\n                $children = $destination.children('div.list_container');\n                $children.slideDown('fast');\n                if ($destination.find('ul > li').length === 1) {\n                    $destination.find('ul > li')\n                        .find('a.expander.container')\n                        .trigger('click');\n                }\n                if (callback && typeof callback === 'function') {\n                    callback.call();\n                }\n                Navigation.showFullName($destination);\n            } else {\n                Functions.ajaxShowMessage(data.error, false);\n            }\n            $icon.show();\n            $throbber.remove();\n            $children.promise().done(Navigation.treeStateUpdate);\n        });\n    }\n    $expandElem.trigger('blur');\n};\n\n/**\n * Auto-scrolls the newly chosen database\n *\n * @param {object} $element    The element to set to view\n * @param {bool}   $forceToTop Whether to force scroll to top\n *\n */\nNavigation.scrollToView = function ($element, $forceToTop) {\n    Navigation.filterStateRestore();\n    var $container = $('#pma_navigation_tree_content');\n    var elemTop = $element.offset().top - $container.offset().top;\n    var textHeight = 20;\n    var scrollPadding = 20; // extra padding from top of bottom when scrolling to view\n    if (elemTop < 0 || $forceToTop) {\n        $container.stop().animate({\n            scrollTop: elemTop + $container.scrollTop() - scrollPadding\n        });\n    } else if (elemTop + textHeight > $container.height()) {\n        $container.stop().animate({\n            scrollTop: elemTop + textHeight - $container.height() + $container.scrollTop() + scrollPadding\n        });\n    }\n};\n\n/**\n * Expand the navigation and highlight the current database or table/view\n *\n * @return {void}\n */\nNavigation.showCurrent = function () {\n    var db = CommonParams.get('db');\n    var table = CommonParams.get('table');\n\n    var autoexpand = $('#pma_navigation_tree').hasClass('autoexpand');\n\n    $('#pma_navigation_tree')\n        .find('li.selected')\n        .removeClass('selected');\n    var $dbItem;\n    if (db) {\n        $dbItem = findLoadedItem(\n            $('#pma_navigation_tree').find('> div'), db, 'database', !table\n        );\n        if ($('#navi_db_select').length &&\n            $('option:selected', $('#navi_db_select')).length\n        ) {\n            if (! Navigation.selectCurrentDatabase()) {\n                return;\n            }\n            // If loaded database in navigation is not same as current one\n            if ($('#pma_navigation_tree_content').find('span.loaded_db').first().text()\n                !== $('#navi_db_select').val()\n            ) {\n                Navigation.loadChildNodes(false, $('option:selected', $('#navi_db_select')), function () {\n                    handleTableOrDb(table, $('#pma_navigation_tree_content'));\n                    var $children = $('#pma_navigation_tree_content').children('div.list_container');\n                    $children.promise().done(Navigation.treeStateUpdate);\n                });\n            } else {\n                handleTableOrDb(table, $('#pma_navigation_tree_content'));\n            }\n        } else if ($dbItem) {\n            fullExpand(table, $dbItem);\n        }\n    } else if ($('#navi_db_select').length && $('#navi_db_select').val()) {\n        $('#navi_db_select').val('').hide().trigger('change');\n    } else if (autoexpand && $('#pma_navigation_tree_content > ul > li.database').length === 1) {\n        // automatically expand the list if there is only single database\n\n        // find the name of the database\n        var dbItemName = '';\n\n        $('#pma_navigation_tree_content > ul > li.database').children('a').each(function () {\n            var name = $(this).text();\n            if (!dbItemName && name.trim()) { // if the name is not empty, it is the desired element\n                dbItemName = name;\n            }\n        });\n\n        $dbItem = findLoadedItem(\n            $('#pma_navigation_tree').find('> div'), dbItemName, 'database', !table\n        );\n\n        fullExpand(table, $dbItem);\n    }\n    Navigation.showFullName($('#pma_navigation_tree'));\n\n    function fullExpand (table, $dbItem) {\n        var $expander = $dbItem.children('div').first().children('a.expander');\n        // if not loaded or loaded but collapsed\n        if (! $expander.hasClass('loaded') ||\n            $expander.find('img').is('.ic_b_plus')\n        ) {\n            Navigation.expandTreeNode($expander, function () {\n                handleTableOrDb(table, $dbItem);\n            });\n        } else {\n            handleTableOrDb(table, $dbItem);\n        }\n    }\n\n    function handleTableOrDb (table, $dbItem) {\n        if (table) {\n            loadAndHighlightTableOrView($dbItem, table);\n        } else {\n            var $container = $dbItem.children('div.list_container');\n            var $tableContainer = $container.children('ul').children('li.tableContainer');\n            if ($tableContainer.length > 0) {\n                var $expander = $tableContainer.children('div').first().children('a.expander');\n                $tableContainer.addClass('selected');\n                Navigation.expandTreeNode($expander, function () {\n                    Navigation.scrollToView($dbItem, true);\n                });\n            } else {\n                Navigation.scrollToView($dbItem, true);\n            }\n        }\n    }\n\n    function findLoadedItem ($container, name, clazz, doSelect) {\n        var ret = false;\n        $container.children('ul').children('li').each(function () {\n            var $li = $(this);\n            // this is a navigation group, recurse\n            if ($li.is('.navGroup')) {\n                var $container = $li.children('div.list_container');\n                var $childRet = findLoadedItem(\n                    $container, name, clazz, doSelect\n                );\n                if ($childRet) {\n                    ret = $childRet;\n                    return false;\n                }\n            } else { // this is a real navigation item\n                // name and class matches\n                if (((clazz && $li.is('.' + clazz)) || ! clazz) &&\n                        $li.children('a').text() === name) {\n                    if (doSelect) {\n                        $li.addClass('selected');\n                    }\n                    // traverse up and expand and parent navigation groups\n                    $li.parents('.navGroup').each(function () {\n                        var $cont = $(this).children('div.list_container');\n                        if (! $cont.is(':visible')) {\n                            $(this)\n                                .children('div').first()\n                                .children('a.expander')\n                                .trigger('click');\n                        }\n                    });\n                    ret = $li;\n                    return false;\n                }\n            }\n        });\n        return ret;\n    }\n\n    function loadAndHighlightTableOrView ($dbItem, itemName) {\n        var $container = $dbItem.children('div.list_container');\n        var $expander;\n        var $whichItem = isItemInContainer($container, itemName, 'li.nav_node_table, li.view');\n        // If item already there in some container\n        if ($whichItem) {\n            // get the relevant container while may also be a subcontainer\n            var $relatedContainer = $whichItem.closest('li.subContainer').length\n                ? $whichItem.closest('li.subContainer')\n                : $dbItem;\n            $whichItem = findLoadedItem(\n                $relatedContainer.children('div.list_container'),\n                itemName, null, true\n            );\n            // Show directly\n            showTableOrView($whichItem, $relatedContainer.children('div').first().children('a.expander'));\n        // else if item not there, try loading once\n        } else {\n            var $subContainers = $dbItem.find('.subContainer');\n            // If there are subContainers i.e. tableContainer or viewContainer\n            if ($subContainers.length > 0) {\n                var $containers = [];\n                $subContainers.each(function (index) {\n                    $containers[index] = $(this);\n                    $expander = $containers[index]\n                        .children('div').first()\n                        .children('a.expander');\n                    if (! $expander.hasClass('loaded')) {\n                        loadAndShowTableOrView($expander, $containers[index], itemName);\n                    }\n                });\n            // else if no subContainers\n            } else {\n                $expander = $dbItem\n                    .children('div').first()\n                    .children('a.expander');\n                if (! $expander.hasClass('loaded')) {\n                    loadAndShowTableOrView($expander, $dbItem, itemName);\n                }\n            }\n        }\n    }\n\n    function loadAndShowTableOrView ($expander, $relatedContainer, itemName) {\n        Navigation.loadChildNodes(true, $expander, function () {\n            var $whichItem = findLoadedItem(\n                $relatedContainer.children('div.list_container'),\n                itemName, null, true\n            );\n            if ($whichItem) {\n                showTableOrView($whichItem, $expander);\n            }\n        });\n    }\n\n    function showTableOrView ($whichItem, $expander) {\n        Navigation.expandTreeNode($expander, function () {\n            if ($whichItem) {\n                Navigation.scrollToView($whichItem, false);\n            }\n        });\n    }\n\n    function isItemInContainer ($container, name, clazz) {\n        var $whichItem = null;\n        var $items = $container.find(clazz);\n        $items.each(function () {\n            if ($(this).children('a').text() === name) {\n                $whichItem = $(this);\n                return false;\n            }\n        });\n        return $whichItem;\n    }\n};\n\n/**\n * Disable navigation panel settings\n *\n * @return {void}\n */\nNavigation.disableSettings = function () {\n    $('#pma_navigation_settings_icon').addClass('hide');\n    $('#pma_navigation_settings').remove();\n};\n\n/**\n * Ensure that navigation panel settings is properly setup.\n * If not, set it up\n *\n * @param {string} selflink\n *\n * @return {void}\n */\nNavigation.ensureSettings = function (selflink) {\n    $('#pma_navigation_settings_icon').removeClass('hide');\n\n    if (!$('#pma_navigation_settings').length) {\n        var params = {\n            getNaviSettings: true,\n            server: CommonParams.get('server'),\n        };\n        $.post('index.php?route=/navigation&ajax_request=1', params, function (data) {\n            if (typeof data !== 'undefined' && data.success) {\n                $('#pma_navi_settings_container').html(data.message);\n                setupRestoreField();\n                setupValidation();\n                $('#pma_navigation_settings').find('form').attr('action', selflink);\n            } else {\n                Functions.ajaxShowMessage(data.error);\n            }\n        });\n    } else {\n        $('#pma_navigation_settings').find('form').attr('action', selflink);\n    }\n};\n\n/**\n * Reloads the whole navigation tree while preserving its state\n *\n * @param {Function} callback the callback function\n * @param {object} paths stored navigation paths\n *\n * @return {void}\n */\nNavigation.reload = function (callback, paths) {\n    var params = {\n        'reload': true,\n        'no_debug': true,\n        'server': CommonParams.get('server'),\n    };\n    var pathsLocal = paths || Navigation.traverseForPaths();\n    $.extend(params, pathsLocal);\n    if ($('#navi_db_select').length) {\n        params.db = CommonParams.get('db');\n        requestNaviReload(params);\n        return;\n    }\n    requestNaviReload(params);\n\n    function requestNaviReload (params) {\n        $.post('index.php?route=/navigation&ajax_request=1', params, function (data) {\n            if (typeof data !== 'undefined' && data.success) {\n                $('#pma_navigation_tree').html(data.message).children('div').show();\n                if ($('#pma_navigation_tree').hasClass('synced')) {\n                    Navigation.selectCurrentDatabase();\n                    Navigation.showCurrent();\n                }\n                // Fire the callback, if any\n                if (typeof callback === 'function') {\n                    callback.call();\n                }\n                Navigation.treeStateUpdate();\n            } else {\n                Functions.ajaxShowMessage(data.error);\n            }\n        });\n    }\n};\n\nNavigation.selectCurrentDatabase = function () {\n    var $naviDbSelect = $('#navi_db_select');\n\n    if (!$naviDbSelect.length) {\n        return false;\n    }\n\n    if (CommonParams.get('db')) { // db selected\n        $naviDbSelect.show();\n    }\n\n    $naviDbSelect.val(CommonParams.get('db'));\n    return $naviDbSelect.val() === CommonParams.get('db');\n};\n\n/**\n * Handles any requests to change the page in a branch of a tree\n *\n * This can be called from link click or select change event handlers\n *\n * @param {object} $this A jQuery object that points to the element that\n * initiated the action of changing the page\n *\n * @return {void}\n */\nNavigation.treePagination = function ($this) {\n    var $msgbox = Functions.ajaxShowMessage();\n    var isDbSelector = $this.closest('div.pageselector').is('.dbselector');\n    var url = 'index.php?route=/navigation';\n    var params = 'ajax_request=true';\n    if ($this[0].tagName === 'A') {\n        params += CommonParams.get('arg_separator') + $this.getPostData();\n    } else { // tagName === 'SELECT'\n        params += CommonParams.get('arg_separator') + $this.closest('form').serialize();\n    }\n    var searchClause = Navigation.FastFilter.getSearchClause();\n    if (searchClause) {\n        params += CommonParams.get('arg_separator') + 'searchClause=' + encodeURIComponent(searchClause);\n    }\n    if (isDbSelector) {\n        params += CommonParams.get('arg_separator') + 'full=true';\n    } else {\n        var searchClause2 = Navigation.FastFilter.getSearchClause2($this);\n        if (searchClause2) {\n            params += CommonParams.get('arg_separator') + 'searchClause2=' + encodeURIComponent(searchClause2);\n        }\n    }\n    $.post(url, params, function (data) {\n        if (typeof data !== 'undefined' && data.success) {\n            Functions.ajaxRemoveMessage($msgbox);\n            var val;\n            if (isDbSelector) {\n                val = Navigation.FastFilter.getSearchClause();\n                $('#pma_navigation_tree')\n                    .html(data.message)\n                    .children('div')\n                    .show();\n                if (val) {\n                    $('#pma_navigation_tree')\n                        .find('li.fast_filter input.searchClause')\n                        .val(val);\n                }\n            } else {\n                var $parent = $this.closest('div.list_container').parent();\n                val = Navigation.FastFilter.getSearchClause2($this);\n                $this.closest('div.list_container').html(\n                    $(data.message).children().show()\n                );\n                if (val) {\n                    $parent.find('li.fast_filter input.searchClause').val(val);\n                }\n                $parent.find('span.pos2_value').first().text(\n                    $parent.find('span.pos2_value').last().text()\n                );\n                $parent.find('span.pos3_value').first().text(\n                    $parent.find('span.pos3_value').last().text()\n                );\n            }\n        } else {\n            Functions.ajaxShowMessage(data.error);\n            Functions.handleRedirectAndReload(data);\n        }\n        Navigation.treeStateUpdate();\n    });\n};\n\n/**\n * ResizeHandler Custom object that manages the resizing of the navigation\n *\n * XXX: Must only be ever instanciated once\n * XXX: Inside event handlers the 'this' object is accessed as 'event.data.resize_handler'\n */\nNavigation.ResizeHandler = function () {\n    /**\n     * @var {number} panelWidth Used by the collapser to know where to go\n     *                      back to when uncollapsing the panel\n     */\n    this.panelWidth = 0;\n    /**\n     * @var {string} left Used to provide support for RTL languages\n     */\n    this.left = $('html').attr('dir') === 'ltr' ? 'left' : 'right';\n    /**\n     * Adjusts the width of the navigation panel to the specified value\n     *\n     * @param {number} position Navigation width in pixels\n     *\n     * @return {void}\n     */\n    this.setWidth = function (position) {\n        var pos = position;\n        if (typeof pos !== 'number') {\n            pos = 240;\n        }\n        var $resizer = $('#pma_navigation_resizer');\n        var resizerWidth = $resizer.width();\n        var $collapser = $('#pma_navigation_collapser');\n        var windowWidth = $(window).width();\n        $('#pma_navigation').width(pos);\n        $('body').css('margin-' + this.left, pos + 'px');\n        // Issue #15127 : Adding fixed positioning to menubar\n        // Issue #15570 : Panels on homescreen go underneath of floating menubar\n        $('#floating_menubar')\n            .css('margin-' + this.left, $('#pma_navigation').width() + $('#pma_navigation_resizer').width())\n            .css(this.left, 0)\n            .css({\n                'position': 'fixed',\n                'top': 0,\n                'width': '100%',\n                'z-index': 99\n            })\n            .append($('#server-breadcrumb'))\n            .append($('#topmenucontainer'));\n        // Allow the DOM to render, then adjust the padding on the body\n        setTimeout(function () {\n            $('body').css(\n                'padding-top',\n                $('#floating_menubar').outerHeight(true)\n            );\n        }, 2);\n        $('#pma_console')\n            .css('margin-' + this.left, (pos + resizerWidth) + 'px');\n        $resizer.css(this.left, pos + 'px');\n        if (pos === 0) {\n            $collapser\n                .css(this.left, pos + resizerWidth)\n                .html(this.getSymbol(pos))\n                .prop('title', Messages.strShowPanel);\n        } else if (windowWidth > 768) {\n            $collapser\n                .css(this.left, pos)\n                .html(this.getSymbol(pos))\n                .prop('title', Messages.strHidePanel);\n            $('#pma_navigation_resizer').css({ 'width': '3px' });\n        } else {\n            $collapser\n                .css(this.left, windowWidth - 22)\n                .html(this.getSymbol(100))\n                .prop('title', Messages.strHidePanel);\n            $('#pma_navigation').width(windowWidth);\n            $('body').css('margin-' + this.left, '0px');\n            $('#pma_navigation_resizer').css({ 'width': '0px' });\n        }\n        setTimeout(function () {\n            $(window).trigger('resize');\n        }, 4);\n    };\n    /**\n     * Returns the horizontal position of the mouse,\n     * relative to the outer side of the navigation panel\n     *\n     * @param {MouseEvent} event\n     *\n     * @return {number} Navigation width in pixels\n     */\n    this.getPos = function (event) {\n        var pos = event.pageX;\n        var windowWidth = $(window).width();\n        var windowScroll = $(window).scrollLeft();\n        pos = pos - windowScroll;\n        if (this.left !== 'left') {\n            pos = windowWidth - event.pageX;\n        }\n        if (pos < 0) {\n            pos = 0;\n        } else if (pos + 100 >= windowWidth) {\n            pos = windowWidth - 100;\n        } else {\n            this.panelWidth = 0;\n        }\n        return pos;\n    };\n    /**\n     * Returns the HTML code for the arrow symbol used in the collapser\n     *\n     * @param {number} width The width of the panel\n     *\n     * @return {string}\n     */\n    this.getSymbol = function (width) {\n        if (this.left === 'left') {\n            if (width === 0) {\n                return '&rarr;';\n            } else {\n                return '&larr;';\n            }\n        } else {\n            if (width === 0) {\n                return '&larr;';\n            } else {\n                return '&rarr;';\n            }\n        }\n    };\n    /**\n     * Event handler for initiating a resize of the panel\n     *\n     * @param {object} event Event data (contains a reference to Navigation.ResizeHandler)\n     *\n     * @return {void}\n     */\n    this.mousedown = function (event) {\n        event.preventDefault();\n        $(document)\n            .on('mousemove', { 'resize_handler': event.data.resize_handler },\n                $.throttle(event.data.resize_handler.mousemove, 4))\n            .on('mouseup', { 'resize_handler': event.data.resize_handler },\n                event.data.resize_handler.mouseup);\n        $('body').css('cursor', 'col-resize');\n    };\n    /**\n     * Event handler for terminating a resize of the panel\n     *\n     * @param {object} event Event data (contains a reference to Navigation.ResizeHandler)\n     *\n     * @return {void}\n     */\n    this.mouseup = function (event) {\n        $('body').css('cursor', '');\n        Functions.configSet('NavigationWidth', event.data.resize_handler.getPos(event));\n        $('#topmenu').menuResizer('resize');\n        $(document)\n            .off('mousemove')\n            .off('mouseup');\n    };\n    /**\n     * Event handler for updating the panel during a resize operation\n     *\n     * @param {object} event Event data (contains a reference to Navigation.ResizeHandler)\n     *\n     * @return {void}\n     */\n    this.mousemove = function (event) {\n        event.preventDefault();\n        if (event.data && event.data.resize_handler) {\n            var pos = event.data.resize_handler.getPos(event);\n            event.data.resize_handler.setWidth(pos);\n        }\n    };\n    /**\n     * Event handler for collapsing the panel\n     *\n     * @param {object} event Event data (contains a reference to Navigation.ResizeHandler)\n     *\n     * @return {void}\n     */\n    this.collapse = function (event) {\n        event.preventDefault();\n        var panelWidth = event.data.resize_handler.panelWidth;\n        var width = $('#pma_navigation').width();\n        if (width === 0 && panelWidth === 0) {\n            panelWidth = 240;\n        }\n        Functions.configSet('NavigationWidth', panelWidth);\n        event.data.resize_handler.setWidth(panelWidth);\n        event.data.resize_handler.panelWidth = width;\n    };\n    /**\n     * Event handler for resizing the navigation tree height on window resize\n     *\n     * @return {void}\n     */\n    this.treeResize = function () {\n        var $nav = $('#pma_navigation');\n        var $navTree = $('#pma_navigation_tree');\n        var $navHeader = $('#pma_navigation_header');\n        var $navTreeContent = $('#pma_navigation_tree_content');\n        var height = ($nav.height() - $navHeader.height());\n\n        height = height > 50 ? height : 800; // keep min. height\n        $navTree.height(height);\n        if ($navTreeContent.length > 0) {\n            $navTreeContent.height(height - $navTreeContent.position().top);\n        } else {\n            // TODO: in fast filter search response there is no #pma_navigation_tree_content, needs to be added in php\n            $navTree.css({\n                'overflow-y': 'auto'\n            });\n        }\n        // Set content bottom space because of console\n        $('body').css('margin-bottom', $('#pma_console').height() + 'px');\n    };\n    /**\n     * Init handlers for the tree resizers\n     *\n     * @return {void}\n     */\n    this.treeInit = function () {\n        const isLoadedOnMobile = $(window).width() < 768;\n        // Hide the pma_navigation initially when loaded on mobile\n        if (isLoadedOnMobile) {\n            this.setWidth(0);\n        }\n        // Register the events for the resizer and the collapser\n        $(document).on('mousedown', '#pma_navigation_resizer', { 'resize_handler': this }, this.mousedown);\n        $(document).on('click', '#pma_navigation_collapser', { 'resize_handler': this }, this.collapse);\n\n        // Add the correct arrow symbol to the collapser\n        $('#pma_navigation_collapser').html(this.getSymbol($('#pma_navigation').width()));\n        // Fix navigation tree height\n        $(window).on('resize', this.treeResize);\n        // need to call this now and then, browser might decide\n        // to show/hide horizontal scrollbars depending on page content width\n        setInterval(this.treeResize, 2000);\n        this.treeResize();\n        const callbackSuccessGetConfigValue = (data) => {\n            this.setWidth(data);\n            $('#topmenu').menuResizer('resize');\n        };\n        // Skip mobile\n        if (isLoadedOnMobile === false) {\n            // Make an init using the default found value\n            const initialResizeValue = $('#pma_navigation').data('config-navigation-width');\n            callbackSuccessGetConfigValue(initialResizeValue);\n        }\n        Functions.configGet('NavigationWidth', false, callbackSuccessGetConfigValue);\n    };\n    this.treeInit();\n};\n\n/**\n * @var {object} FastFilter Handles the functionality that allows filtering\n *                          of the items in a branch of the navigation tree\n */\nNavigation.FastFilter = {\n    /**\n     * Construct for the asynchronous fast filter functionality\n     *\n     * @param {object} $this        A jQuery object pointing to the list container\n     *                              which is the nearest parent of the fast filter\n     * @param {string} searchClause The query string for the filter\n     *\n     * @return {void}\n     */\n    Filter: function ($this, searchClause) {\n        /**\n         * @var {object} $this A jQuery object pointing to the list container\n         *                     which is the nearest parent of the fast filter\n         */\n        this.$this = $this;\n        /**\n         * @var {boolean} searchClause The query string for the filter\n         */\n        this.searchClause = searchClause;\n        /**\n         * @var {object} $clone A clone of the original contents\n         *                      of the navigation branch before\n         *                      the fast filter was applied\n         */\n        this.$clone = $this.clone();\n        /**\n         * @var {object} xhr A reference to the ajax request that is currently running\n         * @type {JQuery.jqXHR<any> | null}\n         */\n        this.xhr = null;\n        /**\n         * @var {number} timeout Used to delay the request for asynchronous search\n         */\n        this.timeout = null;\n\n        var $filterInput = $this.find('li.fast_filter input.searchClause');\n        if ($filterInput.length !== 0 &&\n            $filterInput.val() !== '' &&\n            $filterInput.val() !== $filterInput[0].defaultValue\n        ) {\n            this.request();\n        }\n    },\n    /**\n     * Gets the query string from the database fast filter form\n     *\n     * @return {string}\n     */\n    getSearchClause: function () {\n        var retval = '';\n        var $input = $('#pma_navigation_tree')\n            .find('li.fast_filter.db_fast_filter input.searchClause');\n        if ($input.length && $input.val() !== $input[0].defaultValue) {\n            retval = $input.val();\n        }\n        return retval;\n    },\n    /**\n     * Gets the query string from a second level item's fast filter form\n     * The retrieval is done by traversing the navigation tree backwards\n     *\n     * @param $this\n     *\n     * @return {string}\n     */\n    getSearchClause2: function ($this) {\n        var $filterContainer = $this.closest('div.list_container');\n        var $filterInput = $([]);\n        if ($filterContainer\n            .find('li.fast_filter:not(.db_fast_filter) input.searchClause')\n            .length !== 0) {\n            $filterInput = $filterContainer\n                .find('li.fast_filter:not(.db_fast_filter) input.searchClause');\n        }\n        var searchClause2 = '';\n        if ($filterInput.length !== 0 &&\n            $filterInput.first().val() !== $filterInput[0].defaultValue\n        ) {\n            searchClause2 = $filterInput.val();\n        }\n        return searchClause2;\n    },\n    /**\n     * @var hash events A list of functions that are bound to DOM events\n     *                  at the top of this file\n     */\n    events: {\n        focus: function () {\n            var $obj = $(this).closest('div.list_container');\n            if (! $obj.data('fastFilter')) {\n                $obj.data(\n                    'fastFilter',\n                    new Navigation.FastFilter.Filter($obj, $(this).val())\n                );\n            }\n            if ($(this).val() === this.defaultValue) {\n                $(this).val('');\n            } else {\n                $(this).trigger('select');\n            }\n        },\n        blur: function () {\n            if ($(this).val() === '') {\n                $(this).val(this.defaultValue);\n            }\n            var $obj = $(this).closest('div.list_container');\n            if ($(this).val() === this.defaultValue && $obj.data('fastFilter')) {\n                $obj.data('fastFilter').restore();\n            }\n        },\n        keyup: function (event) {\n            var $obj = $(this).closest('div.list_container');\n            var str = '';\n            if ($(this).val() !== this.defaultValue && $(this).val() !== '') {\n                $obj.find('div.pageselector').hide();\n                str = $(this).val();\n            }\n\n            /**\n             * FIXME at the server level a value match is done while on\n             * the client side it is a regex match. These two should be aligned\n             */\n\n            // regex used for filtering.\n            var regex;\n            try {\n                regex = new RegExp(str, 'i');\n            } catch (err) {\n                return;\n            }\n\n            // this is the div that houses the items to be filtered by this filter.\n            var outerContainer;\n            if ($(this).closest('li.fast_filter').is('.db_fast_filter')) {\n                outerContainer = $('#pma_navigation_tree_content');\n            } else {\n                outerContainer = $obj;\n            }\n\n            // filters items that are directly under the div as well as grouped in\n            // groups. Does not filter child items (i.e. a database search does\n            // not filter tables)\n            var itemFilter = function ($curr) {\n                $curr.children('ul').children('li.navGroup').each(function () {\n                    $(this).children('div.list_container').each(function () {\n                        itemFilter($(this)); // recursive\n                    });\n                });\n                $curr.children('ul').children('li').children('a').not('.container').each(function () {\n                    if (regex.test($(this).text())) {\n                        $(this).parent().show().removeClass('hidden');\n                    } else {\n                        $(this).parent().hide().addClass('hidden');\n                    }\n                });\n            };\n            itemFilter(outerContainer);\n\n            // hides containers that does not have any visible children\n            var containerFilter = function ($curr) {\n                $curr.children('ul').children('li.navGroup').each(function () {\n                    var $group = $(this);\n                    $group.children('div.list_container').each(function () {\n                        containerFilter($(this)); // recursive\n                    });\n                    $group.show().removeClass('hidden');\n                    if ($group.children('div.list_container').children('ul')\n                        .children('li').not('.hidden').length === 0) {\n                        $group.hide().addClass('hidden');\n                    }\n                });\n            };\n            containerFilter(outerContainer);\n\n            if ($(this).val() !== this.defaultValue && $(this).val() !== '') {\n                if (! $obj.data('fastFilter')) {\n                    $obj.data(\n                        'fastFilter',\n                        new Navigation.FastFilter.Filter($obj, $(this).val())\n                    );\n                } else {\n                    if (event.keyCode === 13) {\n                        $obj.data('fastFilter').update($(this).val());\n                    }\n                }\n            } else if ($obj.data('fastFilter')) {\n                $obj.data('fastFilter').restore(true);\n            }\n            // update filter state\n            var filterName;\n            if ($(this).attr('name') === 'searchClause2') {\n                filterName = $(this).siblings('input[name=aPath]').val();\n            } else {\n                filterName = 'dbFilter';\n            }\n            Navigation.filterStateUpdate(filterName, $(this).val());\n        },\n        clear: function (event) {\n            event.stopPropagation();\n            // Clear the input and apply the fast filter with empty input\n            var filter = $(this).closest('div.list_container').data('fastFilter');\n            if (filter) {\n                filter.restore();\n            }\n            var value = $(this).prev()[0].defaultValue;\n            $(this).prev().val(value).trigger('keyup');\n        }\n    }\n};\n/**\n * Handles a change in the search clause\n *\n * @param {string} searchClause The query string for the filter\n *\n * @return {void}\n */\nNavigation.FastFilter.Filter.prototype.update = function (searchClause) {\n    if (this.searchClause !== searchClause) {\n        this.searchClause = searchClause;\n        this.request();\n    }\n};\n/**\n * After a delay of 250mS, initiates a request to retrieve search results\n * Multiple calls to this function will always abort the previous request\n *\n * @return {void}\n */\nNavigation.FastFilter.Filter.prototype.request = function () {\n    var self = this;\n    if (self.$this.find('li.fast_filter').find('img.throbber').length === 0) {\n        self.$this.find('li.fast_filter').append(\n            $('<div class=\"throbber\"></div>').append(\n                $('#pma_navigation_content')\n                    .find('img.throbber')\n                    .clone()\n                    .css({ visibility: 'visible', display: 'block' })\n            )\n        );\n    }\n    if (self.xhr) {\n        self.xhr.abort();\n    }\n    var params = self.$this.find('> ul > li > form.fast_filter').first().serialize();\n\n    if (self.$this.find('> ul > li > form.fast_filter').first().find('input[name=searchClause]').length === 0) {\n        var $input = $('#pma_navigation_tree').find('li.fast_filter.db_fast_filter input.searchClause');\n        if ($input.length && $input.val() !== $input[0].defaultValue) {\n            params += CommonParams.get('arg_separator') + 'searchClause=' + encodeURIComponent($input.val());\n        }\n    }\n    self.xhr = $.ajax({\n        url: 'index.php?route=/navigation&ajax_request=1&server=' + CommonParams.get('server'),\n        type: 'post',\n        dataType: 'json',\n        data: params,\n        complete: function (jqXHR, status) {\n            if (status !== 'abort') {\n                var data = JSON.parse(jqXHR.responseText);\n                self.$this.find('li.fast_filter').find('div.throbber').remove();\n                if (data && data.results) {\n                    self.swap.apply(self, [data.message]);\n                }\n            }\n        }\n    });\n};\n/**\n * Replaces the contents of the navigation branch with the search results\n *\n * @param {string} list The search results\n *\n * @return {void}\n */\nNavigation.FastFilter.Filter.prototype.swap = function (list) {\n    this.$this\n        .html($(list).html())\n        .children()\n        .show()\n        .end()\n        .find('li.fast_filter input.searchClause')\n        .val(this.searchClause);\n    this.$this.data('fastFilter', this);\n};\n/**\n * Restores the navigation to the original state after the fast filter is cleared\n *\n * @param {boolean} focus Whether to also focus the input box of the fast filter\n *\n * @return {void}\n */\nNavigation.FastFilter.Filter.prototype.restore = function (focus) {\n    if (this.$this.children('ul').first().hasClass('search_results')) {\n        this.$this.html(this.$clone.html()).children().show();\n        this.$this.data('fastFilter', this);\n        if (focus) {\n            this.$this.find('li.fast_filter input.searchClause').trigger('focus');\n        }\n    }\n    this.searchClause = '';\n    this.$this.find('div.pageselector').show();\n    this.$this.find('div.throbber').remove();\n};\n\n/**\n * Show full name when cursor hover and name not shown completely\n *\n * @param {object} $containerELem Container element\n *\n * @return {void}\n */\nNavigation.showFullName = function ($containerELem) {\n    $containerELem.find('.hover_show_full').on('mouseenter', function () {\n        /** mouseenter */\n        var $this = $(this);\n        var thisOffset = $this.offset();\n        if ($this.text() === '') {\n            return;\n        }\n        var $parent = $this.parent();\n        if (($parent.offset().left + $parent.outerWidth())\n           < (thisOffset.left + $this.outerWidth())) {\n            var $fullNameLayer = $('#full_name_layer');\n            if ($fullNameLayer.length === 0) {\n                $('body').append('<div id=\"full_name_layer\" class=\"hide\"></div>');\n                $('#full_name_layer').on('mouseleave', function () {\n                    /** mouseleave */\n                    $(this).addClass('hide')\n                        .removeClass('hovering');\n                }).on('mouseenter', function () {\n                    /** mouseenter */\n                    $(this).addClass('hovering');\n                });\n                $fullNameLayer = $('#full_name_layer');\n            }\n            $fullNameLayer.removeClass('hide');\n            $fullNameLayer.css({ left: thisOffset.left, top: thisOffset.top });\n            $fullNameLayer.html($this.clone());\n            setTimeout(function () {\n                if (! $fullNameLayer.hasClass('hovering')) {\n                    $fullNameLayer.trigger('mouseleave');\n                }\n            }, 200);\n        }\n    });\n};\n"],"names":["Navigation","treeStateUpdate","isStorageSupported","storage","window","sessionStorage","setItem","JSON","stringify","traverseForPaths","CommonParams","get","error","removeItem","filterStateUpdate","filterName","filterValue","currentFilter","$","extend","parse","getItem","filter","filterStateRestore","navTreeSearchFilters","searchClauses","Object","keys","length","hasOwnProperty","dbFilter","$obj","data","FastFilter","Filter","find","val","trigger","$tableFilters","children","each","closest","siblings","is","loadChildNodes","isNode","$expandElem","callback","$destination","params","hasClass","pos2Name","pathsNav","attr","searchClause","getSearchClause","searchClause2","getSearchClause2","post","success","remove","append","message","addClass","html","first","css","border","margin","padding","slideDown","errors","$errors","replaceWith","redirect_flag","location","href","indexOf","reload","$throbber","hide","$icon","show","Functions","ajaxShowMessage","collapseTreeNode","$children","removeClass","slideUp","promise","done","pos","count","pos2Nav","parent","last","pos3Nav","document","on","event","preventDefault","ResizeHandler","stopImmediatePropagation","expandTreeNode","$iconThrobberSrc","hideNav","set","synced","$img","Messages","linkWithMain","unlinkWithMain","showCurrent","events","clear","focus","blur","keyup","treePagination","url","substring","title","strAddIndex","indexEditorDialog","strEditIndex","createViewModal","argSep","getPostData","ajax","type","$msg","ajaxRemoveMessage","modal","$tr","parents","$hiddenTableCount","$hideDialogBox","$self","anchorId","$dataFavTargets","hasLocalStorage","localStorage","favoriteTables","cache","changes","list","anchor","tooltip","navTreePaths","server","token","call","clone","visibility","display","insertBefore","showFullName","scrollToView","$element","$forceToTop","$container","elemTop","offset","top","textHeight","scrollPadding","stop","animate","scrollTop","height","db","table","autoexpand","$dbItem","findLoadedItem","selectCurrentDatabase","text","handleTableOrDb","fullExpand","dbItemName","name","trim","$expander","loadAndHighlightTableOrView","$tableContainer","clazz","doSelect","ret","$li","$childRet","$cont","itemName","$whichItem","isItemInContainer","$relatedContainer","showTableOrView","$subContainers","$containers","index","loadAndShowTableOrView","$items","disableSettings","ensureSettings","selflink","getNaviSettings","setupRestoreField","setupValidation","paths","pathsLocal","requestNaviReload","$naviDbSelect","$this","$msgbox","isDbSelector","tagName","serialize","encodeURIComponent","$parent","handleRedirectAndReload","panelWidth","left","setWidth","position","$resizer","resizerWidth","width","$collapser","windowWidth","setTimeout","outerHeight","getSymbol","prop","strShowPanel","strHidePanel","getPos","pageX","windowScroll","scrollLeft","mousedown","resize_handler","throttle","mousemove","mouseup","configSet","menuResizer","off","collapse","treeResize","$nav","$navTree","$navHeader","$navTreeContent","treeInit","isLoadedOnMobile","setInterval","callbackSuccessGetConfigValue","initialResizeValue","configGet","$clone","xhr","timeout","$filterInput","defaultValue","request","retval","$input","$filterContainer","restore","str","regex","RegExp","err","outerContainer","itemFilter","$curr","not","test","containerFilter","$group","keyCode","update","stopPropagation","value","prev","prototype","self","abort","dataType","complete","jqXHR","status","responseText","results","swap","apply","end","$containerELem","thisOffset","outerWidth","$fullNameLayer"],"sourceRoot":""}