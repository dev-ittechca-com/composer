{"version":3,"file":"console.js","mappings":";;;;;;;;;;;;;;;;;AAAA;AACA;AAEAA,6CAAC,CAAC,YAAY;EACVC,mEAAA;AACH,CAFA,CAAD;;;;;;;ACHA;;;;;;;;;;;;;;;ACAA;AACA;AACA;AAEA;;AAEA;AACA;AACA;;AACA,IAAIA,OAAO,GAAG;EACV;AACJ;AACA;AACA;EACII,eAAe,EAAE,IALP;;EAMV;AACJ;AACA;AACA;AACA;EACIC,mBAAmB,EAAE,IAXX;;EAYV;AACJ;AACA;AACA;EACIC,eAAe,EAAE,IAhBP;;EAiBV;AACJ;AACA;AACA;EACIC,iBAAiB,EAAE,IArBT;;EAsBV;AACJ;AACA;AACA;EACIC,YAAY,EAAE,IA1BJ;;EA2BV;AACJ;AACA;AACA;EACIC,SAAS,EAAE,KA/BD;;EAgCV;AACJ;AACA;AACA;EACIC,aAAa,EAAE,KApCL;;EAsCV;AACJ;AACA;EACIC,YAAY,EAAE,IAzCJ;;EA2CV;AACJ;AACA;AACA;AACA;EACIV,UAAU,EAAE,YAAY;IACpB,IAAIF,6CAAC,CAAC,cAAD,CAAD,CAAkBa,MAAlB,KAA6B,CAAjC,EAAoC;MAChC;IACH;;IAEDC,SAAS,CAACC,SAAV,CAAoB,SAApB,EAA+B,KAA/B,EAAuCC,IAAD,IAAU;MAC5CZ,2DAAA,CAAYY,IAAZ;MACAf,OAAO,CAACiB,cAAR;IACH,CAHD;EAIH,CAzDS;;EA2DV;AACJ;AACA;EACIA,cAAc,EAAE,YAAY;IACxBjB,OAAO,CAACS,SAAR,GAAoB,IAApB,CADwB,CAGxB;;IACAT,OAAO,CAACM,eAAR,GAA0BP,6CAAC,CAAC,cAAD,CAAD,CAAkBmB,IAAlB,CAAuB,WAAvB,CAA1B;IACAlB,OAAO,CAACI,eAAR,GAA0BL,6CAAC,CAAC,cAAD,CAAD,CAAkBmB,IAAlB,CAAuB,WAAvB,CAA1B;IACAlB,OAAO,CAACK,mBAAR,GAA8BN,6CAAC,CAAC,cAAD,CAAD,CAAkBmB,IAAlB,CAAuB,UAAvB,CAA9B;IACAlB,OAAO,CAACO,iBAAR,GAA4BR,6CAAC,CAAC,cAAD,CAAD,CAAkBmB,IAAlB,CAAuB,aAAvB,CAA5B,CAPwB,CASxB;;IACAlB,OAAO,CAACQ,YAAR,GAAuBT,6CAAC,CAAC,0DACrB,0CADqB,GAErB,wCAFqB,GAGrB,6CAHqB,GAIrB,gCAJqB,GAKrB,4BALqB,GAMrB,+BANqB,GAOrB,+BAPqB,GAQrB,SARoB,CAAxB;IAUAC,OAAO,CAACQ,YAAR,CAAqBW,QAArB,CAA8B,cAA9B,EAA8CC,GAA9C,CAAkDC,MAAM,CAACC,YAAP,CAAoBC,GAApB,CAAwB,OAAxB,CAAlD;IACAvB,OAAO,CAACQ,YAAR,CAAqBgB,EAArB,CAAwB,QAAxB,EAAkCH,MAAM,CAACI,IAAP,CAAYC,cAA9C,EArBwB,CAuBxB;;IACA,IAAI1B,OAAO,CAACU,aAAR,KAA0B,KAA9B,EAAqC;MACjC;MACA,IAAIP,mEAAJ,EAAyB;QACrByB,QAAQ,CAACC,cAAT,CAAwB,oCAAxB,EAA8DC,OAA9D,GAAwE,IAAxE;MACH;;MACD,IAAI3B,mEAAJ,EAAyB;QACrByB,QAAQ,CAACC,cAAT,CAAwB,oCAAxB,EAA8DC,OAA9D,GAAwE,IAAxE;MACH;;MACD,IAAI3B,mEAAJ,EAAyB;QACrByB,QAAQ,CAACC,cAAT,CAAwB,oCAAxB,EAA8DC,OAA9D,GAAwE,IAAxE;MACH;;MACD,IAAI3B,oEAAJ,EAA0B;QACtByB,QAAQ,CAACC,cAAT,CAAwB,qCAAxB,EAA+DC,OAA/D,GAAyE,IAAzE;MACH;;MACD,IAAI3B,gEAAJ,EAAsB;QAClByB,QAAQ,CAACC,cAAT,CAAwB,iCAAxB,EAA2DC,OAA3D,GAAqE,IAArE;QACA/B,6CAAC,CAAC,cAAD,CAAD,CAAkBmB,IAAlB,CAAuB,WAAvB,EAAoCiB,QAApC,CAA6C,oBAA7C;MACH;;MAEDC,cAAc,CAACnC,UAAf;MACAoC,YAAY,CAACpC,UAAb;MACAqC,eAAe,CAACrC,UAAhB;MACAsC,gBAAgB,CAACtC,UAAjB;MACAuC,YAAY,CAACvC,UAAb;MAEAD,OAAO,CAACM,eAAR,CAAwBa,QAAxB,CAAiC,iBAAjC,EAAoDK,EAApD,CAAuD,OAAvD,EAAgExB,OAAO,CAACyC,MAAxE;MAEA1C,6CAAC,CAAC,cAAD,CAAD,CAAkBmB,IAAlB,CAAuB,UAAvB,EAAmCC,QAAnC,GAA8CK,EAA9C,CAAiD,WAAjD,EAA8D,UAAUkB,KAAV,EAAiB;QAC3EA,KAAK,CAACC,cAAN;QACAD,KAAK,CAACE,wBAAN;MACH,CAHD;MAKA7C,6CAAC,CAAC,cAAD,CAAD,CAAkBmB,IAAlB,CAAuB,eAAvB,EAAwCM,EAAxC,CAA2C,OAA3C,EAAoD,YAAY;QAC5Dc,eAAe,CAACO,KAAhB;MACH,CAFD;MAIA9C,6CAAC,CAAC,cAAD,CAAD,CAAkBmB,IAAlB,CAAuB,iBAAvB,EAA0CM,EAA1C,CAA6C,OAA7C,EAAsD,YAAY;QAC9Dc,eAAe,CAACQ,WAAhB;MACH,CAFD;MAIA/C,6CAAC,CAAC,cAAD,CAAD,CAAkBmB,IAAlB,CAAuB,iBAAvB,EAA0CM,EAA1C,CAA6C,OAA7C,EAAsD,YAAY;QAC9DxB,OAAO,CAAC+C,QAAR,CAAiB,sBAAjB;MACH,CAFD;MAIAhD,6CAAC,CAAC,cAAD,CAAD,CAAkBmB,IAAlB,CAAuB,eAAvB,EAAwCM,EAAxC,CAA2C,OAA3C,EAAoD,YAAY;QAC5DxB,OAAO,CAAC+C,QAAR,CAAiB,gBAAjB;MACH,CAFD;MAIA/C,OAAO,CAACI,eAAR,CAAwBoB,EAAxB,CAA2B,OAA3B,EAAoC,UAAUkB,KAAV,EAAiB;QACjD,IAAIA,KAAK,CAACM,MAAN,KAAiB,IAArB,EAA2B;UACvBX,YAAY,CAACY,KAAb;QACH;MACJ,CAJD;MAMAlD,6CAAC,CAAC,cAAD,CAAD,CAAkBmB,IAAlB,CAAuB,YAAvB,EAAqCM,EAArC,CAAwC,OAAxC,EAAiD,YAAY;QACzDxB,OAAO,CAACkD,QAAR,CAAiBnD,6CAAC,CAAC,IAAD,CAAD,CAAQoD,MAAR,GAAiBhC,QAAjB,CAA0B,OAA1B,CAAjB;MACH,CAFD;MAGApB,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,gBAAzB,EAA2CM,EAA3C,CAA8C,OAA9C,EAAuD,YAAY;QAC/DxB,OAAO,CAACkD,QAAR,CAAiBnD,6CAAC,CAAC,IAAD,CAAD,CAAQqD,OAAR,CAAgB,OAAhB,CAAjB;MACH,CAFD;MAGArD,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,gBAAzB,EAA2CM,EAA3C,CAA8C,OAA9C,EAAuD,YAAY;QAC/DxB,OAAO,CAACkD,QAAR,CAAiBnD,6CAAC,CAAC,IAAD,CAAD,CAAQqD,OAAR,CAAgB,OAAhB,CAAjB;MACH,CAFD;MAGArD,6CAAC,CAAC,sBAAD,CAAD,CAA0BmB,IAA1B,CAA+B,gBAA/B,EAAiDM,EAAjD,CAAoD,OAApD,EAA6D,YAAY;QACrExB,OAAO,CAACkD,QAAR,CAAiBnD,6CAAC,CAAC,IAAD,CAAD,CAAQqD,OAAR,CAAgB,OAAhB,CAAjB;MACH,CAFD;MAIArD,6CAAC,CAAC,sBAAD,CAAD,CAA0BmB,IAA1B,CAA+B,sBAA/B,EAAuDM,EAAvD,CAA0D,QAA1D,EAAoE,YAAY;QAC5ErB,6DAAA;MACH,CAFD;MAIAJ,6CAAC,CAAC,sBAAD,CAAD,CAA0BmB,IAA1B,CAA+B,iBAA/B,EAAkDM,EAAlD,CAAqD,OAArD,EAA8D,YAAY;QACtEI,QAAQ,CAACC,cAAT,CAAwB,oCAAxB,EAA8DC,OAA9D,GAAwE,KAAxE;QACAF,QAAQ,CAACC,cAAT,CAAwB,oCAAxB,EAA8DC,OAA9D,GAAwE,KAAxE;QACAF,QAAQ,CAACC,cAAT,CAAwB,oCAAxB,EAA8DC,OAA9D,GAAwE,IAAxE;QACAF,QAAQ,CAACC,cAAT,CAAwB,qCAAxB,EAA+DC,OAA/D,GAAyE,KAAzE;QACAF,QAAQ,CAACC,cAAT,CAAwB,iCAAxB,EAA2DC,OAA3D,GAAqE,KAArE;QACA3B,6DAAA;MACH,CAPD;MASAJ,6CAAC,CAAC,sCAAD,CAAD,CAA0CyB,EAA1C,CAA6C,QAA7C,EAAuD,YAAY;QAC/Dc,eAAe,CAACgB,gBAAhB,CAAiCnD,oEAAjC;MACH,CAFD;MAIAJ,6CAAC,CAAC6B,QAAD,CAAD,CAAYJ,EAAZ,CAAe,cAAf,EAA+B,UAAUkB,KAAV,EAAiBa,GAAjB,EAAsBC,WAAtB,EAAmC;QAC9D,IAAIA,WAAW,CAACC,QAAZ,IAAwBD,WAAW,CAACC,QAAZ,CAAqBC,OAArB,CAA6B,MAA7B,MAAyC,CAAC,CAAtE,EAAyE;UACrE;QACH;;QACD,IAAIH,GAAG,CAACI,MAAJ,KAAe,GAAnB,EAAwB;UACpB;QACH;;QACD,IAAI;UACA,IAAI5C,IAAI,GAAG6C,IAAI,CAACC,KAAL,CAAWN,GAAG,CAACO,YAAf,CAAX;UACA9D,OAAO,CAAC+D,YAAR,CAAqBhD,IAArB;QACH,CAHD,CAGE,OAAOiD,CAAP,EAAU;UACR;UACAC,OAAO,CAACC,KAAR,GAFQ,CAGR;;UACAD,OAAO,CAACE,GAAR,CAAY,2BAA2BH,CAAC,CAACI,OAAzC;QACH;MACJ,CAhBD;MAkBApE,OAAO,CAACU,aAAR,GAAwB,IAAxB;IACH,CA/HuB,CAiIxB;;;IACA,QAAQP,2DAAR;MACA,KAAK,UAAL;QACIH,OAAO,CAACsE,QAAR;QACA;;MACJ,KAAK,MAAL;QACItE,OAAO,CAACuE,IAAR;QACA;;MACJ,KAAK,MAAL;QACIvE,OAAO,CAACwE,IAAR,CAAa,IAAb;QACAxE,OAAO,CAACyE,YAAR;QACA;;MACJ;QACItE,0DAAA,CAAW,MAAX,EAAmB,MAAnB;QACAH,OAAO,CAACuE,IAAR;IAbJ;EAeH,CA/MS;;EAiNV;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;EACII,OAAO,EAAE,UAAUC,WAAV,EAAuBC,OAAvB,EAAgC;IACrC,IAAI,OAAOD,WAAP,KAAwB,QAAxB,IAAoC,CAAE,cAAcE,IAAd,CAAmBF,WAAnB,CAA1C,EAA2E;MACvE;IACH;;IACD5E,OAAO,CAACQ,YAAR,CAAqBW,QAArB,CAA8B,UAA9B,EAA0CC,GAA1C,CAA8CwD,WAA9C;IACA5E,OAAO,CAACQ,YAAR,CAAqBW,QAArB,CAA8B,eAA9B,EAA+C4D,IAA/C,CAAoD,OAApD,EAA6D1D,MAAM,CAACC,YAAP,CAAoBC,GAApB,CAAwB,QAAxB,CAA7D;;IACA,IAAIsD,OAAO,IAAIA,OAAO,CAACG,EAAvB,EAA2B;MACvBhF,OAAO,CAACQ,YAAR,CAAqBW,QAArB,CAA8B,WAA9B,EAA2CC,GAA3C,CAA+CyD,OAAO,CAACG,EAAvD;;MACA,IAAIH,OAAO,CAACI,KAAZ,EAAmB;QACfjF,OAAO,CAACQ,YAAR,CAAqBW,QAArB,CAA8B,cAA9B,EAA8CC,GAA9C,CAAkDyD,OAAO,CAACI,KAA1D;MACH,CAFD,MAEO;QACHjF,OAAO,CAACQ,YAAR,CAAqBW,QAArB,CAA8B,cAA9B,EAA8CC,GAA9C,CAAkD,EAAlD;MACH;IACJ,CAPD,MAOO;MACHpB,OAAO,CAACQ,YAAR,CAAqBW,QAArB,CAA8B,WAA9B,EAA2CC,GAA3C,CACKC,MAAM,CAACC,YAAP,CAAoBC,GAApB,CAAwB,IAAxB,EAA8BX,MAA9B,GAAuC,CAAvC,GAA2CS,MAAM,CAACC,YAAP,CAAoBC,GAApB,CAAwB,IAAxB,CAA3C,GAA2E,EADhF;IAEH;;IACDvB,OAAO,CAACQ,YAAR,CAAqBU,IAArB,CAA0B,kBAA1B,EAA8CgE,MAA9C;;IACA,IAAIL,OAAO,IAAIA,OAAO,CAACM,SAAR,KAAsB,IAArC,EAA2C;MACvCnF,OAAO,CAACQ,YAAR,CAAqB4E,MAArB,CAA4B,qCAA5B;IACH;;IACD,IAAI,CAAEvE,SAAS,CAACwE,YAAV,CAAuBrF,OAAO,CAACQ,YAAR,CAAqB,CAArB,CAAvB,EAAgDR,OAAO,CAACQ,YAAR,CAAqBW,QAArB,CAA8B,UAA9B,EAA0C,CAA1C,EAA6CmE,KAA7F,CAAN,EAA2G;MACvG;IACH;;IACDtF,OAAO,CAACQ,YAAR,CAAqBW,QAArB,CAA8B,2BAA9B,EACKC,GADL,CACSkB,eAAe,CAACiD,WAAhB,CAA4B;MAAE,aAAaX;IAAf,CAA5B,EAA0DY,UADnE;IAEAxF,OAAO,CAACQ,YAAR,CAAqBiF,OAArB,CAA6B,QAA7B;IACApD,YAAY,CAACQ,KAAb;IACA6C,UAAU,CAACC,MAAX;EACH,CAtPS;EAuPV5B,YAAY,EAAE,UAAUhD,IAAV,EAAgB;IAC1B,IAAIA,IAAI,IAAIA,IAAI,CAAC6E,kBAAjB,EAAqC;MACjCtD,eAAe,CAACuD,WAAhB,CAA4B9E,IAAI,CAAC6E,kBAAjC,EAAqD7E,IAAI,CAAC+E,OAA1D,EACK/E,IAAI,CAACgF,iBAAL,GAAyBhF,IAAI,CAACgF,iBAA9B,GAAkD,KADvD;IAEH,CAHD,MAGO,IAAIhF,IAAI,IAAIA,IAAI,CAACgF,iBAAjB,EAAoC;MACvC,IAAIhF,IAAI,CAACgF,iBAAL,CAAuBC,SAAvB,CAAiCpF,MAAjC,GAA0C,CAA9C,EAAiD;QAC7C0B,eAAe,CAACiD,WAAhB,CAA4BxE,IAAI,CAACgF,iBAAjC,EAAoD,WAApD,EACKE,QADL,CACc9D,QADd,CACuBhC,mEAAA,GAAsB,EAAtB,GAA2B,MADlD;MAEH;IACJ;EACJ,CAjQS;;EAkQV;AACJ;AACA;AACA;AACA;EACImE,QAAQ,EAAE,YAAY;IAClBnE,0DAAA,CAAW,MAAX,EAAmB,UAAnB;IACA,IAAI+F,gBAAgB,GAAGC,IAAI,CAACC,GAAL,CAAS,EAAT,EAAajG,6DAAb,CAAvB;IAEAH,OAAO,CAACM,eAAR,CAAwB6B,QAAxB,CAAiC,WAAjC;IACAnC,OAAO,CAACK,mBAAR,CAA4BiG,MAA5B,CAAmCJ,gBAAnC;IACAlG,OAAO,CAACI,eAAR,CAAwBmG,IAAxB;IACAvG,OAAO,CAACI,eAAR,CAAwBoG,OAAxB,CAAgC;MAAE,iBAAiB,CAAC,CAAD,GAAKxG,OAAO,CAACI,eAAR,CAAwBqG,WAAxB,EAAL,GAA6C;IAAhE,CAAhC,EACI,MADJ,EACY,cADZ,EAC4B,YAAY;MAChCzG,OAAO,CAACI,eAAR,CAAwBsG,GAAxB,CAA4B;QAAEC,OAAO,EAAC;MAAV,CAA5B;MACA5G,6CAAC,CAACsB,MAAD,CAAD,CAAUoE,OAAV,CAAkB,QAAlB;IACH,CAJL;IAKAzF,OAAO,CAACkD,QAAR;EACH,CApRS;;EAqRV;AACJ;AACA;AACA;AACA;AACA;EACIsB,IAAI,EAAE,UAAUoC,UAAV,EAAsB;IACxBzG,0DAAA,CAAW,MAAX,EAAmB,MAAnB;IAEA,IAAI+F,gBAAgB,GAAGC,IAAI,CAACC,GAAL,CAAS,EAAT,EAAajG,6DAAb,CAAvB,CAHwB,CAIxB;;IACA+F,gBAAgB,GAAGC,IAAI,CAACU,GAAL,CAAS1G,6DAAT,EAAwB,CAACkB,MAAM,CAACyF,WAAP,IAAsBlF,QAAQ,CAACmF,eAAT,CAAyBC,YAA/C,IAA+DpF,QAAQ,CAACqF,IAAT,CAAcD,YAA9E,IAA8F,EAAtH,CAAnB;IACAhH,OAAO,CAACI,eAAR,CAAwBsG,GAAxB,CAA4B;MAAEC,OAAO,EAAC;IAAV,CAA5B;;IACA,IAAI3G,OAAO,CAACM,eAAR,CAAwB4G,QAAxB,CAAiC,WAAjC,CAAJ,EAAmD;MAC/ClH,OAAO,CAACM,eAAR,CAAwB6G,WAAxB,CAAoC,WAApC;IACH;;IACDnH,OAAO,CAACK,mBAAR,CAA4BiG,MAA5B,CAAmCJ,gBAAnC;IACAlG,OAAO,CAACI,eAAR,CAAwBmG,IAAxB;IACAvG,OAAO,CAACI,eAAR,CAAwBoG,OAAxB,CAAgC;MAAE,iBAAiB;IAAnB,CAAhC,EACI,MADJ,EACY,cADZ,EAC4B,YAAY;MAChCzG,6CAAC,CAACsB,MAAD,CAAD,CAAUoE,OAAV,CAAkB,QAAlB;;MACA,IAAImB,UAAJ,EAAgB;QACZvE,YAAY,CAACY,KAAb;MACH;IACJ,CANL;EAOH,CA9SS;;EA+SV;AACJ;AACA;AACA;AACA;AACA;AACA;EACIsB,IAAI,EAAE,YAAY;IACd;IACAvE,OAAO,CAACsE,QAAR;EACH,CAzTS;;EA0TV;AACJ;AACA;AACA;AACA;AACA;EACI7B,MAAM,EAAE,YAAY;IAChB,IAAItC,2DAAA,KAAgB,MAApB,EAA4B;MACxBH,OAAO,CAACsE,QAAR;IACH,CAFD,MAEO;MACHtE,OAAO,CAACwE,IAAR,CAAa,IAAb;IACH;EACJ,CAtUS;;EAuUV;AACJ;AACA;AACA;AACA;EACIC,YAAY,EAAE,YAAY;IACtBzE,OAAO,CAACI,eAAR,CAAwBgH,SAAxB,CAAkCpH,OAAO,CAACI,eAAR,CAAwBiH,IAAxB,CAA6B,cAA7B,CAAlC;EACH,CA9US;;EA+UV;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;EACItE,QAAQ,EAAE,UAAUuE,YAAV,EAAwB;IAC9B,IAAIC,KAAK,GAAG,IAAZ;;IACA,IAAI,OAAOD,YAAP,KAAyB,QAA7B,EAAuC;MACnC,IAAIA,YAAY,CAAC1G,MAAb,GAAsB,CAA1B,EAA6B;QACzB2G,KAAK,GAAGD,YAAR;MACH,CAFD,MAEO;QACH;MACH;IACJ,CAND,MAMO;MACHC,KAAK,GAAGxH,6CAAC,CAAC,kBAAkBuH,YAAnB,CAAT;IACH;;IACD,IAAIC,KAAK,CAAC3G,MAAN,KAAiB,CAArB,EAAwB;MACpB;IACH;;IACD2G,KAAK,CAACpE,MAAN,GAAehC,QAAf,CAAwB,YAAxB,EAAsCqD,IAAtC,GAA6CgD,MAA7C,CAAoD,CAApD,EAAuD,IAAvD;IACAD,KAAK,CAACpF,QAAN,CAAe,MAAf;IACAE,YAAY,CAACoF,IAAb;;IACA,IAAIF,KAAK,CAACG,OAAN,CAAc,OAAd,EAAuB9G,MAAvB,GAAgC,CAApC,EAAuC;MACnCZ,OAAO,CAAC+C,QAAR,CAAiBwE,KAAK,CAACG,OAAN,CAAc,OAAd,CAAjB;IACH;EACJ,CA3WS;;EA4WV;AACJ;AACA;AACA;AACA;AACA;EACIxE,QAAQ,EAAE,UAAUyE,WAAV,EAAuB;IAC7B,IAAI,CAAEA,WAAN,EAAmB;MACf5H,6CAAC,CAAC,cAAD,CAAD,CAAkBmB,IAAlB,CAAuB,YAAvB,EAAqC0G,OAArC,CAA6C,GAA7C;MACA7H,6CAAC,CAAC,cAAD,CAAD,CAAkBmB,IAAlB,CAAuB,OAAvB,EAAgCiG,WAAhC,CAA4C,MAA5C;IACH,CAHD,MAGO,IAAIQ,WAAW,CAAC/G,MAAZ,GAAqB,CAAzB,EAA4B;MAC/B+G,WAAW,CAACxE,MAAZ,GAAqBjC,IAArB,CAA0B,YAA1B,EAAwC0G,OAAxC,CAAgD,GAAhD;MACAD,WAAW,CAACzG,IAAZ,CAAiB,OAAjB,EAA0BiG,WAA1B,CAAsC,MAAtC;MACAQ,WAAW,CAACR,WAAZ,CAAwB,MAAxB;IACH;EACJ,CA3XS;EA4XVU,QAAQ,EAAE,UAAUjD,WAAV,EAAuB;IAC7B,IAAIkD,MAAM,GAAG,aAAb;IACA,OAAOA,MAAM,CAAChD,IAAP,CAAYF,WAAZ,CAAP;EACH;AA/XS,CAAd;AAkYA;AACA;AACA;AACA;AACA;;AACA,IAAIxC,cAAc,GAAG;EACjB2F,IAAI,EAAE,CADW;EAEjBzB,MAAM,EAAE,CAFS;EAGjB0B,YAAY,EAAE,CAHG;;EAIjB;AACJ;AACA;AACA;AACA;AACA;AACA;EACIC,SAAS,EAAE,UAAUvF,KAAV,EAAiB;IACxB,IAAIvC,2DAAA,KAAgB,MAApB,EAA4B;MACxB;IACH;;IACDiC,cAAc,CAAC2F,IAAf,GAAsBrF,KAAK,CAACwF,KAA5B;IACA9F,cAAc,CAACkE,MAAf,GAAwBtG,OAAO,CAACI,eAAR,CAAwBkG,MAAxB,EAAxB;IACAvG,6CAAC,CAAC6B,QAAD,CAAD,CAAYJ,EAAZ,CAAe,WAAf,EAA4BY,cAAc,CAAC+F,SAA3C;IACApI,6CAAC,CAAC6B,QAAD,CAAD,CAAYJ,EAAZ,CAAe,SAAf,EAA0BY,cAAc,CAACgG,OAAzC,EAPwB,CAQxB;;IACArI,6CAAC,CAAC6B,QAAD,CAAD,CAAYJ,EAAZ,CAAe,aAAf,EAA8B,YAAY;MACtC,OAAO,KAAP;IACH,CAFD;EAGH,CAvBgB;;EAwBjB;AACJ;AACA;AACA;AACA;AACA;AACA;EACI2G,SAAS,EAAE,UAAUzF,KAAV,EAAiB;IACxB,IAAIA,KAAK,CAACwF,KAAN,GAAc,EAAlB,EAAsB;MAClBxF,KAAK,CAACwF,KAAN,GAAc,EAAd;IACH;;IACD9F,cAAc,CAAC4F,YAAf,GAA8B5F,cAAc,CAACkE,MAAf,IAAyBlE,cAAc,CAAC2F,IAAf,GAAsBrF,KAAK,CAACwF,KAArD,CAA9B,CAJwB,CAKxB;;IACA,IAAI9F,cAAc,CAAC4F,YAAf,IAA+B,EAAnC,EAAuC;MACnChI,OAAO,CAACK,mBAAR,CAA4BiG,MAA5B,CAAmC,EAAnC;MACAtG,OAAO,CAACI,eAAR,CAAwBsG,GAAxB,CAA4B,eAA5B,EAA6CtE,cAAc,CAAC4F,YAAf,GAA8B,EAA3E;IACH,CAHD,MAGO;MACH;MACA,IAAIhI,OAAO,CAACI,eAAR,CAAwBgH,SAAxB,KAAsCpH,OAAO,CAACI,eAAR,CAAwB0G,WAAxB,EAAtC,GAA8E,EAA9E,IACG9G,OAAO,CAACI,eAAR,CAAwBiH,IAAxB,CAA6B,cAA7B,CADP,EACqD;QACjDrH,OAAO,CAACK,mBAAR,CAA4BiG,MAA5B,CAAmClE,cAAc,CAAC4F,YAAlD;QACAhI,OAAO,CAACyE,YAAR;MACH,CAJD,MAIO;QACHzE,OAAO,CAACK,mBAAR,CAA4BiG,MAA5B,CAAmClE,cAAc,CAAC4F,YAAlD;MACH;IACJ;EACJ,CAlDgB;;EAmDjB;AACJ;AACA;AACA;AACA;EACII,OAAO,EAAE,YAAY;IACjBjI,0DAAA,CAAW,QAAX,EAAqBiC,cAAc,CAAC4F,YAApC;IACAhI,OAAO,CAACwE,IAAR;IACAzE,6CAAC,CAAC6B,QAAD,CAAD,CAAYyG,GAAZ,CAAgB,WAAhB;IACAtI,6CAAC,CAAC6B,QAAD,CAAD,CAAYyG,GAAZ,CAAgB,SAAhB;IACAtI,6CAAC,CAAC6B,QAAD,CAAD,CAAYyG,GAAZ,CAAgB,aAAhB;EACH,CA9DgB;;EA+DjB;AACJ;AACA;AACA;AACA;EACIpI,UAAU,EAAE,YAAY;IACpBF,6CAAC,CAAC,cAAD,CAAD,CAAkBmB,IAAlB,CAAuB,UAAvB,EAAmCmH,GAAnC,CAAuC,WAAvC;IACAtI,6CAAC,CAAC,cAAD,CAAD,CAAkBmB,IAAlB,CAAuB,UAAvB,EAAmCM,EAAnC,CAAsC,WAAtC,EAAmDY,cAAc,CAAC6F,SAAlE;EACH;AAvEgB,CAArB;AA0EA;AACA;AACA;;AACA,IAAI5F,YAAY,GAAG;EACf;AACJ;AACA;AACA;EACIiG,MAAM,EAAE,IALO;;EAMf;AACJ;AACA;AACA;EACIC,UAAU,EAAE,KAVG;;EAWf;AACJ;AACA;AACA;EACIC,YAAY,EAAE,CAfC;;EAgBf;AACJ;AACA;AACA;EACIC,sBAAsB,EAAE,IApBT;;EAqBf;AACJ;AACA;AACA;AACA;EACIxI,UAAU,EAAE,YAAY;IACpB;IACA,IAAIoC,YAAY,CAACiG,MAAb,KAAwB,IAA5B,EAAkC;MAC9B;IACH;;IACD,IAAI,OAAOpI,mDAAP,KAAsB,WAA1B,EAAuC;MACnCmC,YAAY,CAACkG,UAAb,GAA0B,IAA1B;IACH;;IACDlG,YAAY,CAACiG,MAAb,GAAsB,EAAtB;;IACA,IAAIjG,YAAY,CAACkG,UAAjB,EAA6B;MACzB;MACAlG,YAAY,CAACiG,MAAb,CAAoBrE,OAApB,GAA8B/D,iDAAU,CAACH,6CAAC,CAAC,cAAD,CAAD,CAAkBmB,IAAlB,CAAuB,sBAAvB,EAA+C,CAA/C,CAAD,EAAoD;QACxFwH,KAAK,EAAE,KADiF;QAExFC,IAAI,EAAE,YAFkF;QAGxFC,YAAY,EAAE,IAH0E;QAIxFC,SAAS,EAAE;UAAE,cAAc;QAAhB,CAJ6E;QAKxFC,WAAW,EAAE;UAAE,kBAAkB,KAApB;UAA2B,yBAAyB;QAApD,CAL2E;QAMxFC,OAAO,EAAE,CAAC,yBAAD,CAN+E;QAOxFC,IAAI,EAAE;UACF,kBAAkB9I,2DADhB;UAEF,SAAS;QAFP;MAPkF,CAApD,CAAxC;MAYAmC,YAAY,CAACiG,MAAb,CAAoBrE,OAApB,CAA4BzC,EAA5B,CAA+B,WAA/B,EAA4CX,SAAS,CAACqI,iCAAtD;MACA7G,YAAY,CAACiG,MAAb,CAAoBrE,OAApB,CAA4BzC,EAA5B,CAA+B,SAA/B,EAA0C,UAAU2H,QAAV,EAAoBzG,KAApB,EAA2B;QACjEL,YAAY,CAAC+G,eAAb,CAA6B1G,KAA7B;MACH,CAFD;;MAGA,IAAI3C,6CAAC,CAAC,gBAAD,CAAD,CAAoBa,MAApB,KAA+B,CAAnC,EAAsC;QAClC;QACAyB,YAAY,CAACiG,MAAb,CAAoBe,QAApB,GAA+BnJ,iDAAU,CAACH,6CAAC,CAAC,cAAD,CAAD,CAAkBmB,IAAlB,CAAuB,qBAAvB,EAA8C,CAA9C,CAAD,EAAmD;UACxFwH,KAAK,EAAE,KADiF;UAExFC,IAAI,EAAE,YAFkF;UAGxFC,YAAY,EAAE,IAH0E;UAIxFC,SAAS,EAAE;YAAE,cAAc;UAAhB,CAJ6E;UAKxFC,WAAW,EAAE;YAAE,kBAAkB,KAApB;YAA2B,yBAAyB;UAApD,CAL2E;UAMxFC,OAAO,EAAE,CAAC,yBAAD,CAN+E;UAOxFC,IAAI,EAAE;YACF,kBAAkB9I,2DADhB;YAEF,SAAS;UAFP;QAPkF,CAAnD,CAAzC;QAYAmC,YAAY,CAACiG,MAAb,CAAoBe,QAApB,CAA6B7H,EAA7B,CAAgC,WAAhC,EAA6CX,SAAS,CAACqI,iCAAvD;MACH;IACJ,CAlCD,MAkCO;MACH7G,YAAY,CAACiG,MAAb,CAAoBrE,OAApB,GACIlE,6CAAC,CAAC,YAAD,CAAD,CAAgBuJ,QAAhB,CAAyB,mCAAzB,EACK9H,EADL,CACQ,SADR,EACmBa,YAAY,CAAC+G,eADhC,CADJ;;MAGA,IAAIrJ,6CAAC,CAAC,gBAAD,CAAD,CAAoBa,MAApB,KAA+B,CAAnC,EAAsC;QAClCyB,YAAY,CAACiG,MAAb,CAAoBe,QAApB,GACItJ,6CAAC,CAAC,YAAD,CAAD,CAAgBuJ,QAAhB,CAAyB,kCAAzB,CADJ;MAEH;IACJ;;IACDvJ,6CAAC,CAAC,cAAD,CAAD,CAAkBmB,IAAlB,CAAuB,sBAAvB,EAA+CM,EAA/C,CAAkD,SAAlD,EAA6Da,YAAY,CAACkH,OAA1E;EACH,CA/Ec;;EAiFf;AACJ;AACA;EACIH,eAAe,EAAE,UAAU1G,KAAV,EAAiB;IAC9B,IAAIA,KAAK,CAAC8G,OAAN,KAAkB,EAAlB,IAAwB9G,KAAK,CAAC8G,OAAN,KAAkB,EAA9C,EAAkD;MAC9C,IAAIC,WAAW,GAAG,KAAlB;MACA,IAAIC,aAAa,GAAG,KAApB;MACA,IAAIC,MAAM,GAAGtH,YAAY,CAACiG,MAAb,CAAoBrE,OAAjC;MACA,IAAI2F,UAAJ;MACA,IAAIC,SAAJ;;MACA,IAAIxH,YAAY,CAACkG,UAAjB,EAA6B;QACzBqB,UAAU,GAAGD,MAAM,CAACG,SAAP,GAAmBC,IAAhC;QACAF,SAAS,GAAGF,MAAM,CAACK,SAAP,EAAZ;MACH,CAHD,MAGO;QACH;QACA,IAAIC,IAAI,GAAG5H,YAAY,CAAC6H,OAAb,EAAX;QACAN,UAAU,GAAGK,IAAI,CAACE,SAAL,CAAe,CAAf,EAAkBR,MAAM,CAACtC,IAAP,CAAY,gBAAZ,CAAlB,EAAiD+C,KAAjD,CAAuD,IAAvD,EAA6DxJ,MAA7D,GAAsE,CAAnF;QACAiJ,SAAS,GAAGI,IAAI,CAACG,KAAL,CAAW,OAAX,EAAoBxJ,MAAhC;MACH;;MACD,IAAIgJ,UAAU,KAAK,CAAnB,EAAsB;QAClBH,WAAW,GAAG,IAAd;MACH;;MACD,IAAIG,UAAU,KAAKC,SAAS,GAAG,CAA/B,EAAkC;QAC9BH,aAAa,GAAG,IAAhB;MACH;;MACD,IAAIW,SAAJ;MACA,IAAIzF,WAAW,GAAG,KAAlB;;MACA,IAAI6E,WAAW,IAAI/G,KAAK,CAAC8G,OAAN,KAAkB,EAArC,EAAyC;QACrC;QACA,IAAInH,YAAY,CAACmG,YAAb,KAA8B,CAAlC,EAAqC;UACjCnG,YAAY,CAACoG,sBAAb,GAAsCpG,YAAY,CAAC6H,OAAb,EAAtC;QACH;;QACDG,SAAS,GAAGhI,YAAY,CAACmG,YAAb,GAA4B,CAAxC;QACA5D,WAAW,GAAGtC,eAAe,CAACgI,UAAhB,CAA2BD,SAA3B,CAAd;MACH,CAPD,MAOO,IAAIX,aAAa,IAAIhH,KAAK,CAAC8G,OAAN,KAAkB,EAAvC,EAA2C;QAC9C;QACA,IAAInH,YAAY,CAACmG,YAAb,KAA8B,CAAlC,EAAqC;UACjC;QACH;;QACD6B,SAAS,GAAGhI,YAAY,CAACmG,YAAb,GAA4B,CAAxC;;QACA,IAAI6B,SAAS,KAAK,CAAlB,EAAqB;UACjBzF,WAAW,GAAGvC,YAAY,CAACoG,sBAA3B;QACH,CAFD,MAEO;UACH7D,WAAW,GAAGtC,eAAe,CAACgI,UAAhB,CAA2BD,SAA3B,CAAd;QACH;MACJ;;MACD,IAAIzF,WAAW,KAAK,KAApB,EAA2B;QACvBvC,YAAY,CAACmG,YAAb,GAA4B6B,SAA5B;QACAhI,YAAY,CAACkI,OAAb,CAAqB3F,WAArB,EAAkC,SAAlC;;QACA,IAAIvC,YAAY,CAACkG,UAAjB,EAA6B;UACzBoB,MAAM,CAACa,SAAP,CAAiBb,MAAM,CAACK,SAAP,EAAjB,EAAqC,CAArC;QACH;;QACDtH,KAAK,CAACC,cAAN;MACH;IACJ;EACJ,CAxIc;;EAyIf;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACI4G,OAAO,EAAE,UAAU7G,KAAV,EAAiB;IACtB;IACA,IAAIvC,oEAAJ,EAA0B;MACtB;MACA,IAAI,CAACuC,KAAK,CAAC+H,QAAP,IAAmB/H,KAAK,CAAC8G,OAAN,KAAkB,EAAzC,EAA6C;QACzCnH,YAAY,CAACsC,OAAb;MACH;IACJ,CALD,MAKO;MACH;MACA,IAAIjC,KAAK,CAACgI,OAAN,IAAiBhI,KAAK,CAAC8G,OAAN,KAAkB,EAAvC,EAA2C;QACvCnH,YAAY,CAACsC,OAAb;MACH;IACJ,CAZqB,CAatB;;;IACA,IAAIjC,KAAK,CAACgI,OAAN,IAAiBhI,KAAK,CAAC8G,OAAN,KAAkB,EAAvC,EAA2C;MACvCnH,YAAY,CAACQ,KAAb;IACH,CAhBqB,CAiBtB;;;IACA,IAAIH,KAAK,CAACgI,OAAN,IAAiBhI,KAAK,CAAC8G,OAAN,KAAkB,EAAvC,EAA2C;MACvClH,eAAe,CAACO,KAAhB;IACH;EACJ,CAvKc;;EAwKf;AACJ;AACA;AACA;AACA;EACI8B,OAAO,EAAE,YAAY;IACjB,IAAItC,YAAY,CAACkG,UAAjB,EAA6B;MACzBvI,OAAO,CAAC2E,OAAR,CAAgBtC,YAAY,CAACiG,MAAb,CAAoBrE,OAApB,CAA4B0G,QAA5B,EAAhB;IACH,CAFD,MAEO;MACH3K,OAAO,CAAC2E,OAAR,CAAgBtC,YAAY,CAACiG,MAAb,CAAoBrE,OAApB,CAA4B7C,GAA5B,EAAhB;IACH;EACJ,CAnLc;;EAoLf;AACJ;AACA;AACA;AACA;AACA;EACIyB,KAAK,EAAE,UAAUG,MAAV,EAAkB;IACrBX,YAAY,CAACkI,OAAb,CAAqB,EAArB,EAAyBvH,MAAzB;EACH,CA5Lc;;EA6Lf;AACJ;AACA;AACA;AACA;EACIC,KAAK,EAAE,YAAY;IACfZ,YAAY,CAACiG,MAAb,CAAoBrE,OAApB,CAA4BhB,KAA5B;EACH,CApMc;;EAqMf;AACJ;AACA;AACA;AACA;EACIwE,IAAI,EAAE,YAAY;IACd,IAAIpF,YAAY,CAACkG,UAAjB,EAA6B;MACzBlG,YAAY,CAACiG,MAAb,CAAoBrE,OAApB,CAA4B2G,aAA5B,GAA4CnD,IAA5C;IACH,CAFD,MAEO;MACHpF,YAAY,CAACiG,MAAb,CAAoBrE,OAApB,CAA4BwD,IAA5B;IACH;EACJ,CAhNc;;EAiNf;AACJ;AACA;AACA;AACA;AACA;AACA;EACI8C,OAAO,EAAE,UAAUN,IAAV,EAAgBjH,MAAhB,EAAwB;IAC7B,IAAIX,YAAY,CAACkG,UAAjB,EAA6B;MACzB,QAAQvF,MAAR;QACA,KAAK,UAAL;UACIhD,OAAO,CAAC2E,OAAR,CAAgBtC,YAAY,CAACiG,MAAb,CAAoBe,QAApB,CAA6BwB,QAA7B,CAAsCZ,IAAtC,CAAhB;UACA;;QACJ;QACA,KAAK,SAAL;UACIjK,OAAO,CAAC2E,OAAR,CAAgBtC,YAAY,CAACiG,MAAb,CAAoBrE,OAApB,CAA4B4G,QAA5B,CAAqCZ,IAArC,CAAhB;MANJ;IAQH,CATD,MASO;MACH,QAAQjH,MAAR;QACA,KAAK,UAAL;UACIhD,OAAO,CAAC2E,OAAR,CAAgBtC,YAAY,CAACiG,MAAb,CAAoBe,QAApB,CAA6BjI,GAA7B,CAAiC6I,IAAjC,CAAhB;UACA;;QACJ;QACA,KAAK,SAAL;UACIjK,OAAO,CAAC2E,OAAR,CAAgBtC,YAAY,CAACiG,MAAb,CAAoBrE,OAApB,CAA4B7C,GAA5B,CAAgC6I,IAAhC,CAAhB;MANJ;IAQH;EACJ,CA5Oc;;EA6Of;AACJ;AACA;AACA;EACIC,OAAO,EAAE,UAAUlH,MAAV,EAAkB;IACvB,IAAIX,YAAY,CAACkG,UAAjB,EAA6B;MACzB,QAAQvF,MAAR;QACA,KAAK,UAAL;UACI,OAAOX,YAAY,CAACiG,MAAb,CAAoBe,QAApB,CAA6BsB,QAA7B,EAAP;;QACJ;QACA,KAAK,SAAL;UACI,OAAOtI,YAAY,CAACiG,MAAb,CAAoBrE,OAApB,CAA4B0G,QAA5B,EAAP;MALJ;IAOH,CARD,MAQO;MACH,QAAQ3H,MAAR;QACA,KAAK,UAAL;UACI,OAAOX,YAAY,CAACiG,MAAb,CAAoBe,QAApB,CAA6BjI,GAA7B,EAAP;;QACJ;QACA,KAAK,SAAL;UACI,OAAOiB,YAAY,CAACiG,MAAb,CAAoBrE,OAApB,CAA4B7C,GAA5B,EAAP;MALJ;IAOH;EACJ;AAnQc,CAAnB;AAuQA;AACA;AACA;;AACA,IAAIkB,eAAe,GAAG;EAClB;AACJ;AACA;AACA;AACA;EACIO,KAAK,EAAE,YAAY;IACf9C,6CAAC,CAAC,cAAD,CAAD,CAAkBmB,IAAlB,CAAuB,4DAAvB,EAAqFiB,QAArF,CAA8F,MAA9F;IACApC,6CAAC,CAAC,cAAD,CAAD,CAAkBmB,IAAlB,CAAuB,qDAAvB,EAA8EgE,MAA9E;IACAnF,6CAAC,CAAC,cAAD,CAAD,CAAkBmB,IAAlB,CAAuB,uDAAvB,EAAgFA,IAAhF,CAAqF,kBAArF,EAAyGuE,OAAzG,CAAiH,OAAjH;EACH,CAViB;;EAWlB;AACJ;AACA;AACA;AACA;EACI3C,WAAW,EAAE,YAAY;IACrB/C,6CAAC,CAAC,cAAD,CAAD,CAAkBmB,IAAlB,CAAuB,mDAAvB,EAA4EiG,WAA5E,CAAwF,MAAxF;EACH,CAlBiB;;EAmBlB;AACJ;AACA;AACA;AACA;AACA;EACImD,UAAU,EAAE,UAAUQ,OAAV,EAAmB;IAC3B,IAAIC,QAAQ,GAAGhL,6CAAC,CAAC,cAAD,CAAD,CAAkBmB,IAAlB,CAAuB,4CAAvB,CAAf;IACA,IAAIN,MAAM,GAAGmK,QAAQ,CAACnK,MAAtB;IACA,IAAIoK,MAAM,GAAGD,QAAQ,CAACE,EAAT,CAAYrK,MAAM,GAAGkK,OAArB,CAAb;;IACA,IAAI,CAACE,MAAD,IAAYpK,MAAM,GAAGkK,OAAV,GAAqB,CAApC,EAAuC;MACnC,OAAO,KAAP;IACH,CAFD,MAEO;MACH,OAAOE,MAAM,CAACf,IAAP,EAAP;IACH;EACJ,CAlCiB;;EAmClB;AACJ;AACA;AACA;AACA;AACA;AACA;EACI3G,gBAAgB,EAAE,UAAU4H,aAAV,EAAyB;IACvC,IAAIC,KAAK,GAAG,CAACD,aAAD,IAAkB,CAA9B,CADuC,CACN;;IACjC,IAAIE,WAAW,GAAGrL,6CAAC,CAAC,cAAD,CAAD,CAAkBmB,IAAlB,CAAuB,2DAAvB,CAAlB;IACAkK,WAAW,CAACjK,QAAZ,CAAqB,oBAArB,EAA2CkK,IAA3C;IACAD,WAAW,CAACjK,QAAZ,CAAqB,mBAAmBgK,KAAxC,EAA+C3G,IAA/C;EACH,CA/CiB;;EAgDlB;AACJ;AACA;AACA;AACA;AACA;AACA;EACIY,MAAM,EAAE,UAAUkG,SAAV,EAAqBC,OAArB,EAA8B;IAClC,IAAI,OAAOD,SAAP,KAAsB,QAA1B,EAAoC;MAChC,OAAO,KAAP;IACH,CAHiC,CAIlC;;;IACA,IAAIE,KAAK,GAAGrF,IAAI,CAACsF,KAAL,CAAWtF,IAAI,CAACuF,MAAL,KAAiB,YAAjB,GAAiC,YAA5C,CAAZ;IACA,IAAIC,GAAG,GAAG,IAAIC,IAAJ,EAAV;IACA,IAAIC,WAAW,GACX9L,6CAAC,CAAC,0BACGI,mEAAA,GAAsB,UAAtB,GAAmC,WADtC,IAEE,WAFF,GAEgBqL,KAFhB,GAEwB,4CAFzB,CADL;;IAIA,QAAQD,OAAR;MACA,KAAK,OAAL;QACIM,WAAW,CAACzG,MAAZ,CAAmB,uCAAnB;;QACA,IAAI/C,YAAY,CAACkG,UAAjB,EAA6B;UACzBrI,yDAAA,CAAmBoL,SAAnB,EACI,YADJ,EACkBO,WAAW,CAAC1K,QAAZ,CAAqB,QAArB,EAA+B,CAA/B,CADlB;QAEH,CAHD,MAGO;UACH0K,WAAW,CAAC1K,QAAZ,CAAqB,QAArB,EAA+B8I,IAA/B,CAAoCqB,SAApC;QACH;;QACDO,WAAW,CAAC1K,QAAZ,CAAqB,iBAArB,EACKiE,MADL,CACYpF,OAAO,CAACO,iBAAR,CAA0BY,QAA1B,CAAmC,gBAAnC,EAAqD4K,IAArD,EADZ;QAEA;;MACJ;MACA,KAAK,QAAL;QACIF,WAAW,CAACzG,MAAZ,CAAmB,UAAUkG,SAAV,GAAsB,QAAzC;IAdJ;;IAgBAhJ,eAAe,CAAC0J,iBAAhB,CAAkCH,WAAlC;IACAA,WAAW,CAAC3K,IAAZ,CAAiB,2BAAjB,EACK+I,IADL,CACU0B,GAAG,CAACM,QAAJ,KAAiB,GAAjB,GAAuBN,GAAG,CAACO,UAAJ,EAAvB,GAA0C,GAA1C,GAAgDP,GAAG,CAACQ,UAAJ,EAD1D,EAEKhJ,MAFL,GAEc4B,IAFd,CAEmB,OAFnB,EAE4B4G,GAF5B;IAGA,OAAO;MACH,cAAcH,KADX;MAEHvF,QAAQ,EAAE4F,WAAW,CAACvC,QAAZ,CAAqB,kDAArB;IAFP,CAAP;EAIH,CA1FiB;;EA2FlB;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;EACI/D,WAAW,EAAE,UAAU6G,SAAV,EAAqBC,KAArB,EAA4B;IACrC,IAAIC,aAAa,GAAGhK,eAAe,CAAC8C,MAAhB,CAAuBgH,SAAS,CAACpG,SAAjC,EAA4C,OAA5C,CAApB;;IACA,IAAI,CAAEsG,aAAN,EAAqB;MACjB,OAAO,KAAP;IACH;;IACD,IAAIF,SAAS,CAACpH,EAAV,IAAgBoH,SAAS,CAACnH,KAA9B,EAAqC;MACjCqH,aAAa,CAACrG,QAAd,CAAuBlB,IAAvB,CAA4B,UAA5B,EAAwCqH,SAAS,CAACpH,EAAlD;MACAsH,aAAa,CAACrG,QAAd,CAAuBlB,IAAvB,CAA4B,aAA5B,EAA2CqH,SAAS,CAACnH,KAArD;MACAqH,aAAa,CAACrG,QAAd,CAAuB/E,IAAvB,CAA4B,qBAA5B,EAAmD+I,IAAnD,CAAwDmC,SAAS,CAACpH,EAAlE;IACH;;IACD,IAAIhF,OAAO,CAAC6H,QAAR,CAAiBuE,SAAS,CAACpG,SAA3B,CAAJ,EAA2C;MACvCsG,aAAa,CAACrG,QAAd,CAAuB9D,QAAvB,CAAgC,QAAhC;IACH;;IACD,QAAQkK,KAAR;MACA,KAAK,QAAL;QACIC,aAAa,CAACrG,QAAd,CAAuB9D,QAAvB,CAAgC,QAAhC;QACA;;MACJ,KAAK,WAAL;QACImK,aAAa,CAACrG,QAAd,CAAuB9D,QAAvB,CAAgC,WAAhC;QACA;;MACJ;MACA,KAAK,SAAL;QACImK,aAAa,CAACrG,QAAd,CAAuB9D,QAAvB,CAAgC,SAAhC;IATJ;;IAWA,OAAOmK,aAAP;EACH,CA5HiB;EA6HlBN,iBAAiB,EAAE,UAAUO,OAAV,EAAmB;IAClC;IACA,IAAIC,cAAc,GAAGD,OAAO,CAACE,MAAR,CAAe,eAAf,CAArB;;IACA,IAAID,cAAc,CAAC5L,MAAf,KAA0B,CAA9B,EAAiC;MAC7B;IACH;;IACD4L,cAAc,CAACrK,QAAf,CAAwB,QAAxB;IAEAqK,cAAc,CAACtL,IAAf,CAAoB,gBAApB,EAAsCM,EAAtC,CAAyC,OAAzC,EAAkD,YAAY;MAC1DzB,6CAAC,CAAC,IAAD,CAAD,CAAQqD,OAAR,CAAgB,UAAhB,EAA4B+D,WAA5B,CAAwC,WAAxC;MACApH,6CAAC,CAAC,IAAD,CAAD,CAAQqD,OAAR,CAAgB,UAAhB,EAA4BjB,QAA5B,CAAqC,UAArC;IACH,CAHD;IAIAqK,cAAc,CAACtL,IAAf,CAAoB,kBAApB,EAAwCM,EAAxC,CAA2C,OAA3C,EAAoD,YAAY;MAC5DzB,6CAAC,CAAC,IAAD,CAAD,CAAQqD,OAAR,CAAgB,UAAhB,EAA4BjB,QAA5B,CAAqC,WAArC;MACApC,6CAAC,CAAC,IAAD,CAAD,CAAQqD,OAAR,CAAgB,UAAhB,EAA4B+D,WAA5B,CAAwC,UAAxC;IACH,CAHD;IAIAqF,cAAc,CAACtL,IAAf,CAAoB,cAApB,EAAoCM,EAApC,CAAuC,OAAvC,EAAgD,YAAY;MACxDa,YAAY,CAACkI,OAAb,CAAqBxK,6CAAC,CAAC,IAAD,CAAD,CAAQoD,MAAR,GAAiBuJ,QAAjB,CAA0B,QAA1B,EAAoCzC,IAApC,EAArB;MACA5H,YAAY,CAACY,KAAb;IACH,CAHD;IAIAuJ,cAAc,CAACtL,IAAf,CAAoB,iBAApB,EAAuCM,EAAvC,CAA0C,OAA1C,EAAmD,YAAY;MAC3D,IAAImL,KAAK,GAAG5M,6CAAC,CAAC,IAAD,CAAD,CAAQoD,MAAR,GAAiBuJ,QAAjB,CAA0B,QAA1B,EAAoCzC,IAApC,EAAZ;MACA,IAAIhE,QAAQ,GAAGlG,6CAAC,CAAC,IAAD,CAAD,CAAQqD,OAAR,CAAgB,UAAhB,CAAf;;MACA,IAAIwJ,OAAO,CAACvL,MAAM,CAACwL,QAAP,CAAgBC,wBAAhB,GAA2C,IAA3C,IACPH,KAAK,CAAC/L,MAAN,GAAe,GAAf,GAAqB+L,KAArB,GAA6BA,KAAK,CAACI,KAAN,CAAY,CAAZ,EAAe,GAAf,IAAsB,KAD5C,CAAD,CAAX,EAEE;QACE/M,OAAO,CAAC2E,OAAR,CAAgBgI,KAAhB,EAAuB;UAAE3H,EAAE,EAAEiB,QAAQ,CAAClB,IAAT,CAAc,UAAd,CAAN;UAAiCE,KAAK,EAAEgB,QAAQ,CAAClB,IAAT,CAAc,aAAd;QAAxC,CAAvB;MACH;IACJ,CARD;IASAyH,cAAc,CAACtL,IAAf,CAAoB,kBAApB,EAAwCM,EAAxC,CAA2C,OAA3C,EAAoD,YAAY;MAC5D,IAAImL,KAAK,GAAG5M,6CAAC,CAAC,IAAD,CAAD,CAAQoD,MAAR,GAAiBuJ,QAAjB,CAA0B,QAA1B,EAAoCzC,IAApC,EAAZ;MACA,IAAIhE,QAAQ,GAAGlG,6CAAC,CAAC,IAAD,CAAD,CAAQqD,OAAR,CAAgB,UAAhB,CAAf;MACAb,gBAAgB,CAACyK,WAAjB,CAA6BL,KAA7B,EAAoC1G,QAAQ,CAAClB,IAAT,CAAc,UAAd,CAApC;MACA/E,OAAO,CAAC+C,QAAR,CAAiB,0BAAjB;IACH,CALD;IAMAyJ,cAAc,CAACtL,IAAf,CAAoB,uBAApB,EAA6CM,EAA7C,CAAgD,OAAhD,EAAyD,YAAY;MACjE,IAAImL,KAAK,GAAG5M,6CAAC,CAAC,IAAD,CAAD,CAAQoD,MAAR,GAAiBuJ,QAAjB,CAA0B,QAA1B,EAAoCzC,IAApC,EAAZ;MACA,IAAIhE,QAAQ,GAAGlG,6CAAC,CAAC,IAAD,CAAD,CAAQqD,OAAR,CAAgB,UAAhB,CAAf;MACA,IAAI6J,QAAQ,GAAGhH,QAAQ,CAAC/E,IAAT,CAAc,qBAAd,EAAqCgG,QAArC,CAA8C,QAA9C,CAAf;MACA,IAAIgG,KAAK,GAAGjH,QAAQ,CAAC/E,IAAT,CAAc,qBAAd,EAAqC+I,IAArC,EAAZ;MACA1H,gBAAgB,CAACyK,WAAjB,CAA6BL,KAA7B,EAAoC1G,QAAQ,CAAClB,IAAT,CAAc,UAAd,CAApC,EAA+DmI,KAA/D,EAAsED,QAAtE;MACAjN,OAAO,CAAC+C,QAAR,CAAiB,0BAAjB;IACH,CAPD;IAQAyJ,cAAc,CAACtL,IAAf,CAAoB,yBAApB,EAA+CM,EAA/C,CAAkD,OAAlD,EAA2D,YAAY;MACnE,IAAIyE,QAAQ,GAAGlG,6CAAC,CAAC,IAAD,CAAD,CAAQqD,OAAR,CAAgB,UAAhB,CAAf;;MACA,IAAIwJ,OAAO,CAACvL,MAAM,CAACwL,QAAP,CAAgBM,+BAAhB,GAAkD,IAAlD,GAAyDlH,QAAQ,CAAC/E,IAAT,CAAc,iBAAd,EAAiC+I,IAAjC,EAA1D,CAAX,EAA+G;QAC3GlK,kDAAA,CAAO,yBAAP,EACI;UACI,UAAUsB,MAAM,CAACC,YAAP,CAAoBC,GAApB,CAAwB,QAAxB,CADd;UAEI,mBAAmB,CAFvB;UAGI,gBAAgB,IAHpB;UAII,eAAe0E,QAAQ,CAAClB,IAAT,CAAc,YAAd;QAJnB,CADJ,EAOI,YAAY;UACRxC,gBAAgB,CAAC8K,OAAjB;QACH,CATL;MAUH;IACJ,CAdD;IAeAb,cAAc,CAACtL,IAAf,CAAoB,mBAApB,EAAyCM,EAAzC,CAA4C,OAA5C,EAAqD,YAAY;MAC7D,IAAIyE,QAAQ,GAAGlG,6CAAC,CAAC,IAAD,CAAD,CAAQqD,OAAR,CAAgB,UAAhB,CAAf;MACApD,OAAO,CAAC2E,OAAR,CAAgB5E,6CAAC,CAAC,IAAD,CAAD,CAAQoD,MAAR,GAAiBuJ,QAAjB,CAA0B,QAA1B,EAAoCzC,IAApC,EAAhB,EACI;QAAEjF,EAAE,EAAEiB,QAAQ,CAAClB,IAAT,CAAc,UAAd,CAAN;QACIE,KAAK,EAAEgB,QAAQ,CAAClB,IAAT,CAAc,aAAd,CADX;QAEII,SAAS,EAAE;MAFf,CADJ;IAIH,CAND;IAOAqH,cAAc,CAACtL,IAAf,CAAoB,iBAApB,EAAuCM,EAAvC,CAA0C,OAA1C,EAAmD,YAAY;MAC3D,IAAIyE,QAAQ,GAAGlG,6CAAC,CAAC,IAAD,CAAD,CAAQqD,OAAR,CAAgB,UAAhB,CAAf;MACApD,OAAO,CAAC2E,OAAR,CAAgB,aAAa5E,6CAAC,CAAC,IAAD,CAAD,CAAQoD,MAAR,GAAiBuJ,QAAjB,CAA0B,QAA1B,EAAoCzC,IAApC,EAA7B,EACI;QAAEjF,EAAE,EAAEiB,QAAQ,CAAClB,IAAT,CAAc,UAAd,CAAN;QACIE,KAAK,EAAEgB,QAAQ,CAAClB,IAAT,CAAc,aAAd;MADX,CADJ;IAGH,CALD;IAMAyH,cAAc,CAACtL,IAAf,CAAoB,wBAApB,EAA8CM,EAA9C,CAAiD,OAAjD,EAA0D,YAAY;MAClE,IAAIyE,QAAQ,GAAGlG,6CAAC,CAAC,IAAD,CAAD,CAAQqD,OAAR,CAAgB,UAAhB,CAAf;;MACA,IAAI,CAAC6C,QAAQ,CAAC/E,IAAT,CAAc,QAAd,EAAwBN,MAA7B,EAAqC;QACjC4B,YAAY,CAAC8K,eAAb,CACIrH,QAAQ,CAAClF,IAAT,CAAc,WAAd,CADJ,EAEIkF,QAAQ,CAAClF,IAAT,CAAc,WAAd,CAFJ,EAGIkF,QAHJ;QAKA3D,eAAe,CAAC0J,iBAAhB,CAAkC/F,QAAQ,CAAC/E,IAAT,CAAc,uBAAd,CAAlC;MACH;;MACD+E,QAAQ,CAAC9D,QAAT,CAAkB,YAAlB;MACA8D,QAAQ,CAACkB,WAAT,CAAqB,YAArB;IACH,CAZD;IAaAqF,cAAc,CAACtL,IAAf,CAAoB,wBAApB,EAA8CM,EAA9C,CAAiD,OAAjD,EAA0D,YAAY;MAClE,IAAIyE,QAAQ,GAAGlG,6CAAC,CAAC,IAAD,CAAD,CAAQqD,OAAR,CAAgB,UAAhB,CAAf;MACA6C,QAAQ,CAAC9D,QAAT,CAAkB,YAAlB;MACA8D,QAAQ,CAACkB,WAAT,CAAqB,YAArB;IACH,CAJD;IAKAqF,cAAc,CAACtL,IAAf,CAAoB,uBAApB,EAA6CM,EAA7C,CAAgD,OAAhD,EAAyD,YAAY;MACjE,IAAIyE,QAAQ,GAAGlG,6CAAC,CAAC,IAAD,CAAD,CAAQqD,OAAR,CAAgB,UAAhB,CAAf;MACA6C,QAAQ,CAAC9D,QAAT,CAAkB,oBAAlB;MACA8D,QAAQ,CAACkB,WAAT,CAAqB,qBAArB;IACH,CAJD;IAKAqF,cAAc,CAACtL,IAAf,CAAoB,uBAApB,EAA6CM,EAA7C,CAAgD,OAAhD,EAAyD,YAAY;MACjE,IAAIyE,QAAQ,GAAGlG,6CAAC,CAAC,IAAD,CAAD,CAAQqD,OAAR,CAAgB,UAAhB,CAAf;MACA6C,QAAQ,CAAC9D,QAAT,CAAkB,qBAAlB;MACA8D,QAAQ,CAACkB,WAAT,CAAqB,oBAArB;IACH,CAJD;;IAKA,IAAI9E,YAAY,CAACkG,UAAjB,EAA6B;MACzBiE,cAAc,CAACtL,IAAf,CAAoB,0BAApB,EAAgDqM,IAAhD,CAAqD,UAAUC,KAAV,EAAiBC,IAAjB,EAAuB;QACxEvN,yDAAA,CAAmBH,6CAAC,CAAC0N,IAAD,CAAD,CAAQxD,IAAR,EAAnB,EACI,YADJ,EACkBwD,IADlB;QAEA1N,6CAAC,CAAC,IAAD,CAAD,CAAQoC,QAAR,CAAiB,aAAjB;MACH,CAJD;IAKH;EACJ,CAvOiB;EAwOlBuL,SAAS,EAAE,UAAUlC,KAAV,EAAiBF,SAAjB,EAA4B;IACnC,IAAIkB,cAAc,GAAGzM,6CAAC,CAAC,cAAD,CAAD,CAAkBmB,IAAlB,CAAuB,wDAAwDsK,KAAxD,GAAgE,GAAvF,CAArB;;IACA,IAAIgB,cAAc,CAAC5L,MAAf,KAA0B,CAA1B,IAA+B+M,KAAK,CAACC,QAAQ,CAACpC,KAAD,CAAT,CAApC,IAAyD,OAAOF,SAAP,KAAsB,QAAnF,EAA6F;MACzF,OAAO,KAAP;IACH;;IACDkB,cAAc,CAACpH,MAAf,CAAsB,UAAUkG,SAAV,GAAsB,QAA5C;EACH,CA9OiB;EA+OlBzF,WAAW,EAAE,UAAU2F,KAAV,EAAiBqC,WAAjB,EAA8BzB,SAA9B,EAAyC;IAClD,IAAII,cAAc,GAAGzM,6CAAC,CAAC,cAAD,CAAD,CAAkBmB,IAAlB,CAAuB,+CAA+C0M,QAAQ,CAACpC,KAAD,CAAvD,GAAiE,GAAxF,CAArB;;IACA,IAAIgB,cAAc,CAAC5L,MAAf,KAA0B,CAA1B,IAA+B+M,KAAK,CAACC,QAAQ,CAACpC,KAAD,CAAT,CAAxC,EAA2D;MACvD,OAAO,KAAP;IACH;;IACDgB,cAAc,CAACrF,WAAf,CAA2B,0BAA3B;;IACA,IAAI0G,WAAJ,EAAiB;MACbrB,cAAc,CAACrK,QAAf,CAAwB,WAAxB;;MACA,IAAIiK,SAAJ,EAAe;QACXI,cAAc,CAACrL,QAAf,CAAwB,QAAxB,EAAkC8I,IAAlC,CAAuC,EAAvC;QACAuC,cAAc,CAACrF,WAAf,CAA2B,QAA3B;;QACA,IAAInH,OAAO,CAAC6H,QAAR,CAAiBuE,SAAS,CAACpG,SAA3B,CAAJ,EAA2C;UACvCwG,cAAc,CAACrK,QAAf,CAAwB,QAAxB;QACH;;QACD,IAAIE,YAAY,CAACkG,UAAjB,EAA6B;UACzBrI,yDAAA,CAAmBkM,SAAS,CAACpG,SAA7B,EAAwC,YAAxC,EAAsDwG,cAAc,CAACrL,QAAf,CAAwB,QAAxB,EAAkC,CAAlC,CAAtD;QACH,CAFD,MAEO;UACHqL,cAAc,CAACrL,QAAf,CAAwB,QAAxB,EAAkC8I,IAAlC,CAAuCmC,SAAS,CAACpG,SAAjD;QACH;;QACDwG,cAAc,CAACzH,IAAf,CAAoB,UAApB,EAAgCqH,SAAS,CAACpH,EAA1C;QACAwH,cAAc,CAACzH,IAAf,CAAoB,aAApB,EAAmCqH,SAAS,CAACnH,KAA7C;QACAuH,cAAc,CAACtL,IAAf,CAAoB,qBAApB,EAA2C+I,IAA3C,CAAgDmC,SAAS,CAACpH,EAA1D;MACH;IACJ,CAjBD,MAiBO;MACHwH,cAAc,CAACrK,QAAf,CAAwB,QAAxB;IACH;EACJ,CAzQiB;;EA0QlB;AACJ;AACA;AACA;AACA;EACIlC,UAAU,EAAE,YAAY;IACpBqC,eAAe,CAAC0J,iBAAhB,CAAkCjM,6CAAC,CAAC,cAAD,CAAD,CAAkBmB,IAAlB,CAAuB,uBAAvB,CAAlC;;IACA,IAAIf,mEAAJ,EAAyB;MACrBmC,eAAe,CAACQ,WAAhB;IACH;;IACDR,eAAe,CAACgB,gBAAhB,CAAiCnD,oEAAjC;EACH;AArRiB,CAAtB;AAwRA;AACA;AACA;;AACA,IAAIoC,gBAAgB,GAAG;EACnBuL,SAAS,EAAE,EADQ;EAEnBd,WAAW,EAAE,UAAUpI,WAAV,EAAuBmJ,QAAvB,EAAiCb,KAAjC,EAAwCD,QAAxC,EAAkD;IAC3DlN,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,oBAAzB,EAA+CmG,IAA/C,CAAoD,SAApD,EAA+D,KAA/D;IACAtH,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,mBAAzB,EAA8CE,GAA9C,CAAkD,EAAlD;IACArB,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,sBAAzB,EAAiDE,GAAjD,CAAqD,EAArD;IACArB,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,yBAAzB,EAAoDE,GAApD,CAAwD,EAAxD;IACAiB,YAAY,CAACkI,OAAb,CAAqB,EAArB,EAAyB,UAAzB;;IAEA,IAAI,OAAO3F,WAAP,KAAuB,WAA3B,EAAwC;MACpCvC,YAAY,CAACkI,OAAb,CAAqB3F,WAArB,EAAkC,UAAlC;IACH;;IACD,IAAI,OAAOmJ,QAAP,KAAoB,WAAxB,EAAqC;MACjChO,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,sBAAzB,EAAiDE,GAAjD,CAAqD2M,QAArD;IACH;;IACD,IAAI,OAAOb,KAAP,KAAiB,WAArB,EAAkC;MAC9BnN,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,mBAAzB,EAA8CE,GAA9C,CAAkD8L,KAAlD;IACH;;IACD,IAAI,OAAOD,QAAP,KAAoB,WAAxB,EAAqC;MACjClN,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,oBAAzB,EAA+CmG,IAA/C,CAAoD,SAApD,EAA+D4F,QAA/D;IACH;EACJ,CArBkB;EAsBnBI,OAAO,EAAE,YAAY;IACjBtN,iDAAA,CAAM,yBAAN,EACI;MACI,gBAAgB,IADpB;MAEI,UAAUsB,MAAM,CAACC,YAAP,CAAoBC,GAApB,CAAwB,QAAxB,CAFd;MAGI,4BAA4B;IAHhC,CADJ,EAMI,UAAUR,IAAV,EAAgB;MACZ,IAAIA,IAAI,CAACiN,wBAAT,EAAmC;QAC/BjO,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,mBAAzB,EAA8C6K,IAA9C,CAAmDhL,IAAI,CAACiN,wBAAxD;QACA1L,eAAe,CAAC0J,iBAAhB,CAAkCjM,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,uBAAzB,CAAlC;MACH;IACJ,CAXL;EAYH,CAnCkB;;EAoCnB;AACJ;AACA;AACA;AACA;AACA;EACIjB,UAAU,EAAE,YAAY;IACpB,IAAIF,6CAAC,CAAC,gBAAD,CAAD,CAAoBa,MAApB,KAA+B,CAAnC,EAAsC;MAClC;IACH;;IACDb,6CAAC,CAAC,cAAD,CAAD,CAAkBmB,IAAlB,CAAuB,mBAAvB,EAA4CM,EAA5C,CAA+C,OAA/C,EAAwD,YAAY;MAChExB,OAAO,CAAC+C,QAAR,CAAiB,gBAAjB;IACH,CAFD;IAGAhD,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,aAAzB,EAAwCM,EAAxC,CAA2C,OAA3C,EAAoD,YAAY;MAC5DxB,OAAO,CAAC+C,QAAR,CAAiB,0BAAjB;IACH,CAFD;IAGAhD,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,yBAAzB,EAAoDM,EAApD,CAAuD,OAAvD,EAAgE,YAAY;MACxE,IAAIzB,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,wBAAzB,EAAmDE,GAAnD,GAAyDR,MAAzD,KAAoE,CAApE,IACGyB,YAAY,CAAC6H,OAAb,CAAqB,UAArB,EAAiCtJ,MAAjC,KAA4C,CADnD,EACsD;QAClDqN,KAAK,CAAC5M,MAAM,CAACwL,QAAP,CAAgBqB,YAAjB,CAAL;QACA;MACH;;MACDnO,6CAAC,CAAC,IAAD,CAAD,CAAQsH,IAAR,CAAa,UAAb,EAAyB,IAAzB;MACAtH,kDAAA,CAAO,yBAAP,EACI;QACI,gBAAgB,IADpB;QAEI,wBAAwB,MAF5B;QAGI,SAASA,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,wBAAzB,EAAmDE,GAAnD,EAHb;QAII,UAAUC,MAAM,CAACC,YAAP,CAAoBC,GAApB,CAAwB,QAAxB,CAJd;QAKI,MAAMxB,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,2BAAzB,EAAsDE,GAAtD,EALV;QAMI,kBAAkBiB,YAAY,CAAC6H,OAAb,CAAqB,UAArB,CANtB;QAOI,UAAUnK,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,yBAAzB,EAAoDmG,IAApD,CAAyD,SAAzD;MAPd,CADJ,EAUI,YAAY;QACR9E,gBAAgB,CAAC8K,OAAjB;QACAtN,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,yBAAzB,EAAoDmG,IAApD,CAAyD,UAAzD,EAAqE,KAArE;QACArH,OAAO,CAACkD,QAAR,CAAiBnD,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,WAAzB,CAAjB;MACH,CAdL;IAeH,CAtBD;IAuBAnB,6CAAC,CAAC,cAAD,CAAD,CAAkBmB,IAAlB,CAAuB,iBAAvB,EAA0CM,EAA1C,CAA6C,OAA7C,EAAsD,YAAY;MAC9De,gBAAgB,CAAC8K,OAAjB;IACH,CAFD;EAGH;AA9EkB,CAAvB;AAiFA,IAAI7K,YAAY,GAAG;EACf2L,aAAa,EAAE;IACXC,SAAS,EAAE,IADA;IAEXC,GAAG,EAAE;EAFM,CADA;EAKfpO,UAAU,EAAE,YAAY;IACpB;IACAF,6CAAC,CAAC6B,QAAD,CAAD,CAAYJ,EAAZ,CAAe,aAAf,EAA8B,UAAUkB,KAAV,EAAiBa,GAAjB,EAAsB+K,QAAtB,EAAgCvN,IAAhC,EAAsC;MAChE,IAAIA,IAAI,CAACwN,KAAT,EAAgB;QACZ/L,YAAY,CAACgM,OAAb,CAAqBzN,IAAI,CAACwN,KAA1B,EAAiCD,QAAQ,CAACD,GAA1C;MACH;IACJ,CAJD;;IAMA,IAAIlO,mEAAJ,EAAyB;MACrBJ,6CAAC,CAAC,gBAAD,CAAD,CAAoBoC,QAApB,CAA6B,SAA7B;IACH,CAFD,MAEO;MACHpC,6CAAC,CAAC,gBAAD,CAAD,CAAoBoC,QAApB,CAA6B,WAA7B;;MACA,IAAIhC,8DAAA,KAAmB,OAAvB,EAAgC;QAC5BJ,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,4BAAzB,EAAuDiB,QAAvD,CAAgE,QAAhE;MACH;IACJ;;IACD,IAAIwM,OAAO,GAAGxO,8DAAd;IACA,IAAIyO,KAAK,GAAGzO,4DAAZ;IACAJ,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,2BAA2ByN,OAApD,EAA6DxM,QAA7D,CAAsE,QAAtE;IACApC,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,yBAAyB0N,KAAlD,EAAyDzM,QAAzD,CAAkE,QAAlE,EAnBoB,CAqBpB;;IACApC,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,uBAAzB,EAAkDM,EAAlD,CAAqD,OAArD,EAA8D,YAAY;MACtEzB,6CAAC,CAAC,gBAAD,CAAD,CAAoBoC,QAApB,CAA6B,SAA7B;MACApC,6CAAC,CAAC,gBAAD,CAAD,CAAoBoH,WAApB,CAAgC,WAAhC;MACAhH,0DAAA,CAAW,cAAX,EAA2B,IAA3B;MACAqC,YAAY,CAAC6K,OAAb;;MACA,IAAIlN,8DAAA,KAAmB,OAAvB,EAAgC;QAC5BJ,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,4BAAzB,EAAuDiG,WAAvD,CAAmE,QAAnE;MACH;IACJ,CARD;IASApH,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,yBAAzB,EAAoDM,EAApD,CAAuD,OAAvD,EAAgE,YAAY;MACxEzB,6CAAC,CAAC,gBAAD,CAAD,CAAoBoC,QAApB,CAA6B,WAA7B;MACApC,6CAAC,CAAC,gBAAD,CAAD,CAAoBoH,WAApB,CAAgC,SAAhC;MACAhH,0DAAA,CAAW,cAAX,EAA2B,KAA3B;MACAqC,YAAY,CAAC6K,OAAb;;MACA,IAAIlN,8DAAA,KAAmB,OAAvB,EAAgC;QAC5BJ,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,4BAAzB,EAAuDiB,QAAvD,CAAgE,QAAhE;MACH;IACJ,CARD;IASApC,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,kBAAzB,EAA6CM,EAA7C,CAAgD,OAAhD,EAAyD,YAAY;MACjE,IAAIsN,KAAK,GAAG/O,6CAAC,CAAC,IAAD,CAAb;MACAA,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,kBAAzB,EAA6CiG,WAA7C,CAAyD,QAAzD;MACA2H,KAAK,CAAC3M,QAAN,CAAe,QAAf;;MACA,IAAI2M,KAAK,CAAC5H,QAAN,CAAe,WAAf,CAAJ,EAAiC;QAC7B/G,0DAAA,CAAW,SAAX,EAAsB,MAAtB;MACH,CAFD,MAEO,IAAI2O,KAAK,CAAC5H,QAAN,CAAe,WAAf,CAAJ,EAAiC;QACpC/G,0DAAA,CAAW,SAAX,EAAsB,MAAtB;MACH,CAFM,MAEA,IAAI2O,KAAK,CAAC5H,QAAN,CAAe,YAAf,CAAJ,EAAkC;QACrC/G,0DAAA,CAAW,SAAX,EAAsB,OAAtB;MACH;;MACDqC,YAAY,CAAC6K,OAAb;IACH,CAZD;IAaAtN,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,eAAzB,EAA0CM,EAA1C,CAA6C,OAA7C,EAAsD,YAAY;MAC9D,IAAIsN,KAAK,GAAG/O,6CAAC,CAAC,IAAD,CAAb;MACAA,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,eAAzB,EAA0CiG,WAA1C,CAAsD,QAAtD;MACA2H,KAAK,CAAC3M,QAAN,CAAe,QAAf;;MACA,IAAI2M,KAAK,CAAC5H,QAAN,CAAe,WAAf,CAAJ,EAAiC;QAC7B/G,0DAAA,CAAW,OAAX,EAAoB,KAApB;MACH,CAFD,MAEO,IAAI2O,KAAK,CAAC5H,QAAN,CAAe,YAAf,CAAJ,EAAkC;QACrC/G,0DAAA,CAAW,OAAX,EAAoB,MAApB;MACH;;MACDqC,YAAY,CAAC6K,OAAb;IACH,CAVD,EArDoB,CAiEpB;;IACA,IAAIrN,OAAO,CAACW,YAAR,KAAyB,IAA7B,EAAmC;MAC/B;IACH;;IAEDZ,6CAAC,CAAC,cAAD,CAAD,CAAkBmB,IAAlB,CAAuB,eAAvB,EAAwCiG,WAAxC,CAAoD,MAApD;IACA3E,YAAY,CAACgM,OAAb,CAAqBxO,OAAO,CAACW,YAA7B;EACH,CA7Ec;EA8EfoO,kBAAkB,EAAE,UAAUC,OAAV,EAAmB;IACnC,IAAIC,YAAY,GAAG,EAAnB;;IACA,IAAI,WAAWD,OAAf,EAAwB;MACpBC,YAAY,IAAID,OAAO,CAACE,KAAxB;MACAD,YAAY,IAAID,OAAO,CAACG,IAAxB;IACH;;IACDF,YAAY,IAAID,OAAO,CAACI,QAAxB;;IACA,IAAIJ,OAAO,CAACK,IAAR,IAAgBL,OAAO,CAACK,IAAR,CAAazO,MAAjC,EAAyC;MACrCqO,YAAY,IAAI,OAAhB;IACH,CAFD,MAEO;MACHA,YAAY,IAAI,IAAhB;IACH;;IACD,OAAOA,YAAP;EACH,CA3Fc;EA4FfK,kBAAkB,EAAE,UAAUN,OAAV,EAAmB;IACnC,IAAIO,KAAK,GAAGxP,6CAAC,CAAC,OAAD,CAAb;;IACA,IAAIiP,OAAO,CAACK,IAAR,CAAazO,MAAjB,EAAyB;MACrB2O,KAAK,CAACnK,MAAN,CAAa,+BAAb,EACKA,MADL,CAEQrF,6CAAC,CAAC,+BAAD,CAAD,CACKkK,IADL,CAEQpJ,SAAS,CAAC2O,OAAV,CACInO,MAAM,CAACwL,QAAP,CAAgB4C,0BADpB,EAEIT,OAAO,CAACK,IAAR,CAAazO,MAFjB,CAFR,CAFR;;MAUA,KAAK,IAAI8O,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGV,OAAO,CAACK,IAAR,CAAazO,MAAjC,EAAyC8O,CAAC,EAA1C,EAA8C;QAC1CH,KAAK,CAACnK,MAAN,CACIrF,6CAAC,CAAC,uBAAD,CAAD,CACKgM,IADL,CAEQ,UACJlL,SAAS,CAAC8O,UAAV,CAAqB/L,IAAI,CAACgM,SAAL,CAAeZ,OAAO,CAACK,IAAR,CAAaK,CAAb,CAAf,EAAgC,IAAhC,EAAsC,IAAtC,CAArB,CADI,GAEJ,QAJJ,CADJ;MAQH;IACJ;;IACD,OAAOH,KAAP;EACH,CArHc;EAsHfM,cAAc,EAAE,UAAUb,OAAV,EAAmB;IAC/B,IAAIc,QAAQ,GAAG,EAAf;;IACA,IAAI,UAAUd,OAAd,EAAuB;MACnBc,QAAQ,IAAId,OAAO,CAACe,IAApB;MACAD,QAAQ,IAAI,MAAMd,OAAO,CAACjF,IAA1B;IACH;;IACD,OAAO+F,QAAP;EACH,CA7Hc;EA8HfE,eAAe,EAAE,UAAUC,QAAV,EAAoB;IACjC,IAAIC,UAAU,GAAGnQ,6CAAC,CAAC,qBAAD,CAAlB;IACAmQ,UAAU,CAAC9K,MAAX,CACIrF,6CAAC,CAAC,+BAAD,CADL;IAGA,IAAIoQ,IAAJ;IACA,IAAIC,SAAJ;;IACA,KAAK,IAAIC,MAAT,IAAmBJ,QAAnB,EAA6B;MACzB,IAAIA,QAAQ,CAACK,cAAT,CAAwBD,MAAxB,CAAJ,EAAqC;QACjCF,IAAI,GAAGF,QAAQ,CAACI,MAAD,CAAf;;QACA,IAAI,CAACE,KAAK,CAACC,OAAN,CAAcL,IAAd,CAAD,IAAwB,OAAOA,IAAP,KAAgB,QAA5C,EAAsD;UAClDC,SAAS,GACLrQ,6CAAC,CAAC,qDAAD,CAAD,CACKqF,MADL,CAEQrF,6CAAC,CAAC,QAAD,CAAD,CAAYkK,IAAZ,CAAiBkG,IAAjB,CAFR,CADJ;QAKH,CAND,MAMO;UACH,IAAI,OAAOA,IAAI,CAACd,IAAZ,KAAqB,QAArB,IAAiCc,IAAI,CAACd,IAA1C,EAAgD;YAC5Cc,IAAI,CAACd,IAAL,GAAY,CAACc,IAAI,CAACd,IAAN,CAAZ;UACH;;UACDe,SAAS,GACLrQ,6CAAC,CAAC,qDAAD,CAAD,CACKqF,MADL,CAEQrF,6CAAC,CAAC,yBAAD,CAAD,CAA6BkK,IAA7B,CAAkC,KAAK8E,kBAAL,CAAwBoB,IAAxB,CAAlC,CAFR,EAIK/K,MAJL,CAKQrF,6CAAC,CAAC,qBAAD,CAAD,CAAyBkK,IAAzB,CAA8B,KAAK4F,cAAL,CAAoBM,IAApB,CAA9B,CALR,CADJ;;UAQA,IAAIA,IAAI,CAACd,IAAL,IAAac,IAAI,CAACd,IAAL,CAAUzO,MAA3B,EAAmC;YAC/BwP,SAAS,CACJhL,MADL,CAEQrF,6CAAC,CAAC,qBAAD,CAAD,CAAyBgM,IAAzB,CAA8B,KAAKuD,kBAAL,CAAwBa,IAAxB,CAA9B,CAFR,EAIKM,OAJL,CAKQ1Q,6CAAC,CAAC,8BAAD,CAAD,CACKqF,MADL,CAEQ,wCACR/D,MAAM,CAACwL,QAAP,CAAgB6D,uBADR,GAER,UAJA,EAMKtL,MANL,CAOQ,wCACR/D,MAAM,CAACwL,QAAP,CAAgB8D,uBADR,GAER,UATA,CALR;UAiBH;QACJ;;QACDT,UAAU,CAAC9K,MAAX,CAAkBgL,SAAlB;MACH;IACJ;;IACD,OAAOF,UAAP;EACH,CAlLc;EAmLfU,kBAAkB,EAAE,UAAUC,SAAV,EAAqBC,SAArB,EAAgC;IAChD,IAAIC,OAAJ;IACA,IAAIC,SAAJ;IACA,IAAIC,SAAJ;IACA,IAAIC,KAAJ;IACA,IAAIxB,CAAJ;;IACA,IAAIa,KAAK,CAACC,OAAN,CAAcK,SAAd,CAAJ,EAA8B;MAC1B;MACAE,OAAO,GAAG,IAAV;MAEAC,SAAS,GAAGH,SAAS,CAAC,CAAD,CAAT,CAAalE,KAAzB;MAEAsE,SAAS,GAAG,CAAZ;;MACA,KAAKvB,CAAL,IAAUmB,SAAV,EAAqB;QACjBI,SAAS,IAAIJ,SAAS,CAACnB,CAAD,CAAT,CAAayB,IAA1B;MACH;;MAEDD,KAAK,GAAGL,SAAS,CAACjQ,MAAlB;IACH,CAZD,MAYO;MACHoQ,SAAS,GAAGH,SAAS,CAAClE,KAAtB;MACAsE,SAAS,GAAGJ,SAAS,CAACM,IAAtB;IACH;;IAED,IAAInG,MAAM,GAAGjL,6CAAC,CAAC,4CAAD,CAAD,CACRqF,MADQ,CAELrF,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,yBAAzB,EAAoDkQ,KAApD,EAFK,EAIRhM,MAJQ,CAKLrF,6CAAC,CAAC,qBAAD,CAAD,CACKkK,IADL,CACU+G,SADV,CALK,EAQRjQ,IARQ,CAQH,WARG,EAQU8P,SARV,EASR9P,IATQ,CASH,WATG,EASU+P,SATV,CAAb;;IAUA,IAAIC,OAAJ,EAAa;MACT/F,MAAM,CAAC9J,IAAP,CAAY,aAAZ,EAA2BiG,WAA3B,CAAuC,MAAvC;MACA6D,MAAM,CAAC9J,IAAP,CAAY,kBAAZ,EAAgC+I,IAAhC,CAAqCiH,KAArC;IACH;;IACDlG,MAAM,CAAC9J,IAAP,CAAY,iBAAZ,EAA+B+I,IAA/B,CAAoCgH,SAAS,GAAG,KAAZ,GAAoB,CAAEA,SAAS,GAAG,GAAb,GAAoBH,SAArB,EAAgCO,OAAhC,CAAwC,CAAxC,CAApB,GAAiE,IAArG;IAEA,OAAOrG,MAAP;EACH,CA3Nc;EA4NfsG,oBAAoB,EAAE,UAAU3E,KAAV,EAAiB4E,KAAjB,EAAwB;IAC1C,IAAI,WAAW5E,KAAf,EAAsB;MAClB4E,KAAK,CAACnM,MAAN,CACIrF,6CAAC,CAAC,OAAD,CAAD,CAAWgM,IAAX,CAAgBY,KAAK,CAAC6E,KAAtB,CADJ;IAGH;;IACDD,KAAK,CAACnM,MAAN,CAAa,KAAK4K,eAAL,CAAqBrD,KAAK,CAACzI,KAA3B,CAAb;EACH,CAnOc;EAoOfoJ,eAAe,EAAE,UAAUuD,SAAV,EAAqBC,SAArB,EAAgC9F,MAAhC,EAAwC;IACrD,IAAIuF,KAAK,CAACC,OAAN,CAAcK,SAAd,CAAJ,EAA8B;MAC1B,IAAIY,YAAJ;;MACA,KAAK,IAAI/B,CAAT,IAAcmB,SAAd,EAAyB;QACrBY,YAAY,GAAG1R,6CAAC,CAAC,qCAAD,CAAD,CACVkK,IADU,CACJ2D,QAAQ,CAAC8B,CAAD,CAAR,GAAc,CAAf,GAAoB,GADf,EAEVtK,MAFU,CAGPrF,6CAAC,CAAC,qBAAD,CAAD,CAAyBkK,IAAzB,CACI5I,MAAM,CAACwL,QAAP,CAAgB6E,wBAAhB,GACJ,GADI,GACEb,SAAS,CAACnB,CAAD,CAAT,CAAayB,IADf,GACsB,GADtB,GAEJ,IAFI,GAEG,CAAEN,SAAS,CAACnB,CAAD,CAAT,CAAayB,IAAb,GAAoB,GAArB,GAA4BL,SAA7B,EAAwCO,OAAxC,CAAgD,CAAhD,CAFH,GAEwD,IAH5D,CAHO,CAAf;QASA,KAAKC,oBAAL,CAA0BT,SAAS,CAACnB,CAAD,CAAnC,EAAwC+B,YAAxC;QACAzG,MAAM,CACD5F,MADL,CACY,qCADZ,EAEKA,MAFL,CAEYqM,YAFZ;MAGH;IACJ,CAjBD,MAiBO;MACH,KAAKH,oBAAL,CAA0BT,SAA1B,EAAqC7F,MAArC;IACH;EACJ,CAzPc;EA0PfwD,OAAO,EAAE,UAAUJ,SAAV,EAAqBC,GAArB,EAA0B;IAC/B,KAAKF,aAAL,CAAmBC,SAAnB,GAA+BA,SAA/B;IACA,KAAKD,aAAL,CAAmBE,GAAnB,GAAyBA,GAAzB;IAEAtO,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,WAAzB,EAAsCyQ,KAAtC;IACA5R,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,iBAAzB,EAA4CyQ,KAA5C;IAEA,IAAIC,SAAS,GAAG,KAAhB;IACA,IAAIlC,CAAJ;;IACA,IAAI,OAAOtB,SAAP,KAAqB,QAArB,IAAiC,aAAaA,SAAlD,EAA6D;MACzD;MACA,IAAI,EAAE,aAAaA,SAAf,CAAJ,EAA+B;QAC3BwD,SAAS,GAAG,KAAZ;MACH,CAFD,MAEO;QACHA,SAAS,GAAG;UAAEC,OAAO,EAAE;QAAX,CAAZ;;QACA,KAAKnC,CAAL,IAAUtB,SAAS,CAACyD,OAApB,EAA6B;UACzBD,SAAS,CAACC,OAAV,CAAkBnC,CAAlB,IAAuBtB,SAAS,CAACyD,OAAV,CAAkBnC,CAAlB,CAAvB;QACH;MACJ;IACJ,CAVD,MAUO,IAAI,OAAOtB,SAAP,KAAqB,QAAzB,EAAmC;MACtC,IAAI;QACAwD,SAAS,GAAGhO,IAAI,CAACC,KAAL,CAAWuK,SAAX,CAAZ;MACH,CAFD,CAEE,OAAOpK,CAAP,EAAU;QACR4N,SAAS,GAAG,KAAZ;MACH;;MACD,IAAIA,SAAS,IAAI,EAAE,aAAaA,SAAf,CAAjB,EAA4C;QACxCA,SAAS,GAAG,KAAZ;MACH;IACJ;;IACD,IAAIA,SAAS,KAAK,KAAlB,EAAyB;MACrB7R,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,iBAAzB,EAA4C+I,IAA5C,CACI5I,MAAM,CAACwL,QAAP,CAAgBiF,oBADpB;MAGA;IACH;;IACD,IAAIC,UAAU,GAAGH,SAAS,CAACC,OAA3B;IACA,IAAIG,aAAa,GAAG,EAApB;IAEA,IAAIC,SAAS,GAAGF,UAAU,CAACnR,MAA3B,CAtC+B,CAwC/B;;IACA,IAAIkQ,SAAS,GAAG,CAAhB;;IACA,KAAKpB,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGuC,SAAhB,EAA2B,EAAEvC,CAA7B,EAAgC;MAC5BoB,SAAS,IAAIiB,UAAU,CAACrC,CAAD,CAAV,CAAcyB,IAA3B;;MACA,IAAI,EAAEY,UAAU,CAACrC,CAAD,CAAV,CAAcwC,IAAd,IAAsBF,aAAxB,CAAJ,EAA4C;QACxCA,aAAa,CAACD,UAAU,CAACrC,CAAD,CAAV,CAAcwC,IAAf,CAAb,GAAoC,EAApC;MACH;;MACDF,aAAa,CAACD,UAAU,CAACrC,CAAD,CAAV,CAAcwC,IAAf,CAAb,CAAkCC,IAAlC,CAAuCJ,UAAU,CAACrC,CAAD,CAAjD;IACH,CAhD8B,CAiD/B;;;IACA,IAAI0C,WAAW,GAAG,CAAlB;IACA,IAAIC,WAAW,GAAG,EAAlB;;IACA,KAAK,IAAIH,IAAT,IAAiBF,aAAjB,EAAgC;MAC5B,IAAIA,aAAa,CAAC1B,cAAd,CAA6B4B,IAA7B,CAAJ,EAAwC;QACpC,EAAEE,WAAF;QACAC,WAAW,CAACF,IAAZ,CAAiBH,aAAa,CAACE,IAAD,CAA9B;MACH;IACJ;;IACDF,aAAa,GAAGK,WAAhB,CA1D+B,CA2D/B;;IACAtS,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,iBAAzB,EAA4CkE,MAA5C,CACIrF,6CAAC,CAAC,8BAAD,CAAD,CAAkCkK,IAAlC,CACIpJ,SAAS,CAAC2O,OAAV,CACInO,MAAM,CAACwL,QAAP,CAAgByF,sBADpB,EAEIF,WAFJ,EAGIH,SAHJ,EAIInB,SAJJ,CADJ,CADJ;;IAUA,IAAIzC,GAAJ,EAAS;MACLtO,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,iBAAzB,EAA4CkE,MAA5C,CACIrF,6CAAC,CAAC,4BAAD,CAAD,CAAgCkK,IAAhC,CAAqCoE,GAAG,CAACjE,KAAJ,CAAU,GAAV,EAAe,CAAf,CAArC,CADJ;IAGH,CA1E8B,CA4E/B;;;IACA,SAASmI,UAAT,CAAqBC,CAArB,EAAwBC,CAAxB,EAA2B;MACvB,IAAI7D,KAAK,GAAGzO,4DAAA,KAAiB,KAAjB,GAAyB,CAAzB,GAA6B,CAAC,CAA1C;;MACA,IAAIoQ,KAAK,CAACC,OAAN,CAAcgC,CAAd,KAAoBjC,KAAK,CAACC,OAAN,CAAciC,CAAd,CAAxB,EAA0C;QACtC;QACA,IAAIC,KAAK,GAAG,CAAZ;QACA,IAAIC,KAAK,GAAG,CAAZ;QACA,IAAIjD,CAAJ;;QACA,KAAKA,CAAL,IAAU8C,CAAV,EAAa;UACTE,KAAK,IAAIF,CAAC,CAAC9C,CAAD,CAAD,CAAKyB,IAAd;QACH;;QACD,KAAKzB,CAAL,IAAU+C,CAAV,EAAa;UACTE,KAAK,IAAIF,CAAC,CAAC/C,CAAD,CAAD,CAAKyB,IAAd;QACH;;QACD,OAAO,CAACuB,KAAK,GAAGC,KAAT,IAAkB/D,KAAzB;MACH,CAZD,MAYO;QACH,OAAO,CAAC4D,CAAC,CAACrB,IAAF,GAASsB,CAAC,CAACtB,IAAZ,IAAoBvC,KAA3B;MACH;IACJ;;IAED,SAASgE,WAAT,CAAsBJ,CAAtB,EAAyBC,CAAzB,EAA4B;MACxB,IAAI7D,KAAK,GAAGzO,4DAAA,KAAiB,KAAjB,GAAyB,CAAzB,GAA6B,CAAC,CAA1C;MACA,OAAO,CAACqS,CAAC,CAAC5R,MAAF,GAAW6R,CAAC,CAAC7R,MAAd,IAAwBgO,KAA/B;IACH;;IAED,IAAID,OAAO,GAAGxO,8DAAd;IACA,IAAIyO,KAAK,GAAGzO,4DAAZ;;IAEA,IAAIA,mEAAJ,EAAyB;MACrB;MACA,IAAIwO,OAAO,KAAK,MAAhB,EAAwB;QACpBqD,aAAa,CAACa,IAAd,CAAmBN,UAAnB;MACH,CAFD,MAEO,IAAI5D,OAAO,KAAK,OAAhB,EAAyB;QAC5BqD,aAAa,CAACa,IAAd,CAAmBD,WAAnB;MACH,CAFM,MAEA,IAAIjE,OAAO,KAAK,MAAZ,IAAsBC,KAAK,KAAK,MAApC,EAA4C;QAC/CoD,aAAa,CAACc,OAAd;MACH;;MACD,KAAKpD,CAAL,IAAUsC,aAAV,EAAyB;QACrB,IAAIrD,OAAO,KAAK,MAAhB,EAAwB;UACpBqD,aAAa,CAACtC,CAAD,CAAb,CAAiBmD,IAAjB,CAAsBN,UAAtB;QACH,CAFD,MAEO,IAAI5D,OAAO,KAAK,MAAZ,IAAsBC,KAAK,KAAK,MAApC,EAA4C;UAC/CoD,aAAa,CAACtC,CAAD,CAAb,CAAiBoD,OAAjB;QACH;;QACD/S,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,WAAzB,EAAsCkE,MAAtC,CAA6C,KAAKwL,kBAAL,CAAwBoB,aAAa,CAACtC,CAAD,CAArC,EAA0CoB,SAA1C,CAA7C;MACH;IACJ,CAjBD,MAiBO;MACH,IAAInC,OAAO,KAAK,MAAhB,EAAwB;QACpBoD,UAAU,CAACc,IAAX,CAAgBN,UAAhB;MACH,CAFD,MAEO,IAAI3D,KAAK,KAAK,MAAd,EAAsB;QACzBmD,UAAU,CAACe,OAAX;MACH;;MACD,KAAKpD,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGuC,SAAhB,EAA2B,EAAEvC,CAA7B,EAAgC;QAC5B3P,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,WAAzB,EAAsCkE,MAAtC,CAA6C,KAAKwL,kBAAL,CAAwBmB,UAAU,CAACrC,CAAD,CAAlC,EAAuCoB,SAAvC,CAA7C;MACH;IACJ;;IAEDxO,eAAe,CAAC0J,iBAAhB,CAAkCjM,6CAAC,CAAC,gBAAD,CAAD,CAAoBmB,IAApB,CAAyB,uBAAzB,CAAlC;EACH,CA/Xc;EAgYfmM,OAAO,EAAE,YAAY;IACjB,IAAI0F,IAAI,GAAG,KAAK5E,aAAhB;IACA3L,YAAY,CAACgM,OAAb,CAAqBuE,IAAI,CAAC3E,SAA1B,EAAqC2E,IAAI,CAAC1E,GAA1C;EACH;AAnYc,CAAnB;;;;;;;ACnlCA;;;;;;;;;;ACAA;;AAEA;AACA;AACA;AACO,MAAMlO,MAAM,GAAG;EAClB;AACJ;AACA;EACI4B,YAAY,EAAE,KAJI;;EAKlB;AACJ;AACA;EACIJ,YAAY,EAAE,KARI;;EASlB;AACJ;AACA;EACIK,YAAY,EAAE,IAZI;;EAalB;AACJ;AACA;EACIC,aAAa,EAAE,KAhBG;;EAiBlB;AACJ;AACA;EACIC,SAAS,EAAE,KApBO;;EAqBlB;AACJ;AACA;EACImC,IAAI,EAAE,MAxBY;;EAyBlB;AACJ;AACA;EACIgC,MAAM,EAAE,EA5BU;;EA6BlB;AACJ;AACA;EACIoI,YAAY,EAAE,KAhCI;;EAiClB;AACJ;AACA;EACIC,OAAO,EAAE,MApCS;;EAqClB;AACJ;AACA;EACIG,KAAK,EAAE,KAxCW;;EA0ClB;AACJ;AACA;AACA;EACI7N,IAAI,EAAE,UAAUD,IAAV,EAAgB;IAClB,KAAKgB,YAAL,GAAoB,CAAC,CAAChB,IAAI,CAACgB,YAA3B;IACA,KAAKJ,YAAL,GAAoB,CAAC,CAACZ,IAAI,CAACY,YAA3B;IACA,KAAKK,YAAL,GAAoBjB,IAAI,CAACiB,YAAL,KAAsBgR,SAAtB,GAAkC,CAAC,CAACjS,IAAI,CAACiB,YAAzC,GAAwD,IAA5E;IACA,KAAKC,aAAL,GAAqB,CAAC,CAAClB,IAAI,CAACkB,aAA5B;IACA,KAAKC,SAAL,GAAiB,CAAC,CAACnB,IAAI,CAACmB,SAAxB;IACA,KAAKmC,IAAL,GAAYtD,IAAI,CAACsD,IAAL,KAAc,MAAd,IAAwBtD,IAAI,CAACsD,IAAL,KAAc,UAAtC,GAAmDtD,IAAI,CAACsD,IAAxD,GAA+D,MAA3E;IACA,KAAKgC,MAAL,GAActF,IAAI,CAACsF,MAAL,GAAc,CAAd,GAAkB4M,MAAM,CAAClS,IAAI,CAACsF,MAAN,CAAxB,GAAwC,EAAtD;IACA,KAAKoI,YAAL,GAAoB,CAAC,CAAC1N,IAAI,CAAC0N,YAA3B;IACA,KAAKC,OAAL,GAAe3N,IAAI,CAAC2N,OAAL,KAAiB,MAAjB,IAA2B3N,IAAI,CAAC2N,OAAL,KAAiB,OAA5C,GAAsD3N,IAAI,CAAC2N,OAA3D,GAAqE,MAApF;IACA,KAAKG,KAAL,GAAa9N,IAAI,CAAC8N,KAAL,KAAe,MAAf,GAAwB,MAAxB,GAAiC,KAA9C;EACH,CAzDiB;;EA2DlB;AACJ;AACA;AACA;AACA;EACInK,GAAG,EAAE,UAAUwO,GAAV,EAAe5N,KAAf,EAAsB;IACvB,KAAK4N,GAAL,IAAY5N,KAAZ;IACAzE,SAAS,CAACsS,SAAV,CAAoB,aAAaD,GAAjC,EAAsC5N,KAAtC;EACH,CAnEiB;;EAqElB;AACJ;AACA;AACA;AACA;EACIjC,MAAM,EAAE,YAAY;IAChB,KAAKqB,GAAL,CAAS,cAAT,EAAyB,CAAC,CAAC9C,QAAQ,CAACC,cAAT,CAAwB,oCAAxB,EAA8DC,OAAzF;IACA,KAAK4C,GAAL,CAAS,cAAT,EAAyB,CAAC,CAAC9C,QAAQ,CAACC,cAAT,CAAwB,oCAAxB,EAA8DC,OAAzF;IACA,KAAK4C,GAAL,CAAS,cAAT,EAAyB,CAAC,CAAC9C,QAAQ,CAACC,cAAT,CAAwB,oCAAxB,EAA8DC,OAAzF;IACA,KAAK4C,GAAL,CAAS,eAAT,EAA0B,CAAC,CAAC9C,QAAQ,CAACC,cAAT,CAAwB,qCAAxB,EAA+DC,OAA3F;IACA,KAAK4C,GAAL,CAAS,WAAT,EAAsB,CAAC,CAAC9C,QAAQ,CAACC,cAAT,CAAwB,iCAAxB,EAA2DC,OAAnF;IACA;;IACA,MAAMsR,cAAc,GAAGxR,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCwR,aAAvC,CAAqD,UAArD,CAAvB;;IACA,IAAI,KAAKnR,SAAT,EAAoB;MAChBkR,cAAc,CAACE,SAAf,CAAyBC,GAAzB,CAA6B,oBAA7B;IACH,CAFD,MAEO;MACHH,cAAc,CAACE,SAAf,CAAyBpO,MAAzB,CAAgC,oBAAhC;IACH;EACJ;AAvFiB,CAAf","sources":["webpack://phpmyadmin/./js/src/console.js","webpack://phpmyadmin/external var \"jQuery\"","webpack://phpmyadmin/./js/src/modules/console.js","webpack://phpmyadmin/external var \"CodeMirror\"","webpack://phpmyadmin/./js/src/modules/console/config.js"],"sourcesContent":["import $ from 'jquery';\nimport { Console } from './modules/console.js';\n\n$(function () {\n    Console.initialize();\n});\n\nexport { Console };\n","module.exports = jQuery;","import $ from 'jquery';\nimport CodeMirror from 'codemirror';\nimport { Config } from './console/config.js';\n\n/* global Functions, Navigation */\n\n/**\n * Console object\n */\nvar Console = {\n    /**\n     * @var {JQuery}, jQuery object, selector is '#pma_console>.content'\n     * @access private\n     */\n    $consoleContent: null,\n    /**\n     * @var {Jquery}, jQuery object, selector is '#pma_console .content',\n     *  used for resizer\n     * @access private\n     */\n    $consoleAllContents: null,\n    /**\n     * @var {JQuery}, jQuery object, selector is '#pma_console .toolbar'\n     * @access private\n     */\n    $consoleToolbar: null,\n    /**\n     * @var {JQuery}, jQuery object, selector is '#pma_console .template'\n     * @access private\n     */\n    $consoleTemplates: null,\n    /**\n     * @var {JQuery}, jQuery object, form for submit\n     * @access private\n     */\n    $requestForm: null,\n    /**\n     * @var {boolean}, if console element exist, it'll be true\n     * @access public\n     */\n    isEnabled: false,\n    /**\n     * @var {boolean}, make sure console events bind only once\n     * @access private\n     */\n    isInitialized: false,\n\n    /**\n     * @type {Object|string|null}\n     */\n    debugSqlInfo: null,\n\n    /**\n     * Used for console initialize, reinit is ok, just some variable assignment\n     *\n     * @return {void}\n     */\n    initialize: function () {\n        if ($('#pma_console').length === 0) {\n            return;\n        }\n\n        Functions.configGet('Console', false, (data) => {\n            Config.init(data);\n            Console.setupAfterInit();\n        });\n    },\n\n    /**\n     * Setup the console after the config has been set at initialize stage\n     */\n    setupAfterInit: function () {\n        Console.isEnabled = true;\n\n        // Vars init\n        Console.$consoleToolbar = $('#pma_console').find('>.toolbar');\n        Console.$consoleContent = $('#pma_console').find('>.content');\n        Console.$consoleAllContents = $('#pma_console').find('.content');\n        Console.$consoleTemplates = $('#pma_console').find('>.templates');\n\n        // Generate a form for post\n        Console.$requestForm = $('<form method=\"post\" action=\"index.php?route=/import\">' +\n            '<input name=\"is_js_confirmed\" value=\"0\">' +\n            '<textarea name=\"sql_query\"></textarea>' +\n            '<input name=\"console_message_id\" value=\"0\">' +\n            '<input name=\"server\" value=\"\">' +\n            '<input name=\"db\" value=\"\">' +\n            '<input name=\"table\" value=\"\">' +\n            '<input name=\"token\" value=\"\">' +\n            '</form>'\n        );\n        Console.$requestForm.children('[name=token]').val(window.CommonParams.get('token'));\n        Console.$requestForm.on('submit', window.AJAX.requestHandler);\n\n        // Event binds shouldn't run again\n        if (Console.isInitialized === false) {\n            // Load config first\n            if (Config.AlwaysExpand) {\n                document.getElementById('consoleOptionsAlwaysExpandCheckbox').checked = true;\n            }\n            if (Config.StartHistory) {\n                document.getElementById('consoleOptionsStartHistoryCheckbox').checked = true;\n            }\n            if (Config.CurrentQuery) {\n                document.getElementById('consoleOptionsCurrentQueryCheckbox').checked = true;\n            }\n            if (Config.EnterExecutes) {\n                document.getElementById('consoleOptionsEnterExecutesCheckbox').checked = true;\n            }\n            if (Config.DarkTheme) {\n                document.getElementById('consoleOptionsDarkThemeCheckbox').checked = true;\n                $('#pma_console').find('>.content').addClass('console_dark_theme');\n            }\n\n            ConsoleResizer.initialize();\n            ConsoleInput.initialize();\n            ConsoleMessages.initialize();\n            ConsoleBookmarks.initialize();\n            ConsoleDebug.initialize();\n\n            Console.$consoleToolbar.children('.console_switch').on('click', Console.toggle);\n\n            $('#pma_console').find('.toolbar').children().on('mousedown', function (event) {\n                event.preventDefault();\n                event.stopImmediatePropagation();\n            });\n\n            $('#pma_console').find('.button.clear').on('click', function () {\n                ConsoleMessages.clear();\n            });\n\n            $('#pma_console').find('.button.history').on('click', function () {\n                ConsoleMessages.showHistory();\n            });\n\n            $('#pma_console').find('.button.options').on('click', function () {\n                Console.showCard('#pma_console_options');\n            });\n\n            $('#pma_console').find('.button.debug').on('click', function () {\n                Console.showCard('#debug_console');\n            });\n\n            Console.$consoleContent.on('click', function (event) {\n                if (event.target === this) {\n                    ConsoleInput.focus();\n                }\n            });\n\n            $('#pma_console').find('.mid_layer').on('click', function () {\n                Console.hideCard($(this).parent().children('.card'));\n            });\n            $('#debug_console').find('.switch_button').on('click', function () {\n                Console.hideCard($(this).closest('.card'));\n            });\n            $('#pma_bookmarks').find('.switch_button').on('click', function () {\n                Console.hideCard($(this).closest('.card'));\n            });\n            $('#pma_console_options').find('.switch_button').on('click', function () {\n                Console.hideCard($(this).closest('.card'));\n            });\n\n            $('#pma_console_options').find('input[type=checkbox]').on('change', function () {\n                Config.update();\n            });\n\n            $('#pma_console_options').find('.button.default').on('click', function () {\n                document.getElementById('consoleOptionsAlwaysExpandCheckbox').checked = false;\n                document.getElementById('consoleOptionsStartHistoryCheckbox').checked = false;\n                document.getElementById('consoleOptionsCurrentQueryCheckbox').checked = true;\n                document.getElementById('consoleOptionsEnterExecutesCheckbox').checked = false;\n                document.getElementById('consoleOptionsDarkThemeCheckbox').checked = false;\n                Config.update();\n            });\n\n            $('#consoleOptionsEnterExecutesCheckbox').on('change', function () {\n                ConsoleMessages.showInstructions(Config.EnterExecutes);\n            });\n\n            $(document).on('ajaxComplete', function (event, xhr, ajaxOptions) {\n                if (ajaxOptions.dataType && ajaxOptions.dataType.indexOf('json') !== -1) {\n                    return;\n                }\n                if (xhr.status !== 200) {\n                    return;\n                }\n                try {\n                    var data = JSON.parse(xhr.responseText);\n                    Console.ajaxCallback(data);\n                } catch (e) {\n                    // eslint-disable-next-line no-console, compat/compat\n                    console.trace();\n                    // eslint-disable-next-line no-console\n                    console.log('Failed to parse JSON: ' + e.message);\n                }\n            });\n\n            Console.isInitialized = true;\n        }\n\n        // Change console mode from cookie\n        switch (Config.Mode) {\n        case 'collapse':\n            Console.collapse();\n            break;\n        case 'info':\n            Console.info();\n            break;\n        case 'show':\n            Console.show(true);\n            Console.scrollBottom();\n            break;\n        default:\n            Config.set('Mode', 'info');\n            Console.info();\n        }\n    },\n\n    /**\n     * Execute query and show results in console\n     *\n     * @param {string} queryString\n     * @param {object} options\n     *\n     * @return {void}\n     */\n    execute: function (queryString, options) {\n        if (typeof(queryString) !== 'string' || ! /[a-z]|[A-Z]/.test(queryString)) {\n            return;\n        }\n        Console.$requestForm.children('textarea').val(queryString);\n        Console.$requestForm.children('[name=server]').attr('value', window.CommonParams.get('server'));\n        if (options && options.db) {\n            Console.$requestForm.children('[name=db]').val(options.db);\n            if (options.table) {\n                Console.$requestForm.children('[name=table]').val(options.table);\n            } else {\n                Console.$requestForm.children('[name=table]').val('');\n            }\n        } else {\n            Console.$requestForm.children('[name=db]').val(\n                (window.CommonParams.get('db').length > 0 ? window.CommonParams.get('db') : ''));\n        }\n        Console.$requestForm.find('[name=profiling]').remove();\n        if (options && options.profiling === true) {\n            Console.$requestForm.append('<input name=\"profiling\" value=\"on\">');\n        }\n        if (! Functions.confirmQuery(Console.$requestForm[0], Console.$requestForm.children('textarea')[0].value)) {\n            return;\n        }\n        Console.$requestForm.children('[name=console_message_id]')\n            .val(ConsoleMessages.appendQuery({ 'sql_query': queryString }).message_id);\n        Console.$requestForm.trigger('submit');\n        ConsoleInput.clear();\n        Navigation.reload();\n    },\n    ajaxCallback: function (data) {\n        if (data && data.console_message_id) {\n            ConsoleMessages.updateQuery(data.console_message_id, data.success,\n                (data.reloadQuerywindow ? data.reloadQuerywindow : false));\n        } else if (data && data.reloadQuerywindow) {\n            if (data.reloadQuerywindow.sql_query.length > 0) {\n                ConsoleMessages.appendQuery(data.reloadQuerywindow, 'successed')\n                    .$message.addClass(Config.CurrentQuery ? '' : 'hide');\n            }\n        }\n    },\n    /**\n     * Change console to collapse mode\n     *\n     * @return {void}\n     */\n    collapse: function () {\n        Config.set('Mode', 'collapse');\n        var pmaConsoleHeight = Math.max(92, Config.Height);\n\n        Console.$consoleToolbar.addClass('collapsed');\n        Console.$consoleAllContents.height(pmaConsoleHeight);\n        Console.$consoleContent.stop();\n        Console.$consoleContent.animate({ 'margin-bottom': -1 * Console.$consoleContent.outerHeight() + 'px' },\n            'fast', 'easeOutQuart', function () {\n                Console.$consoleContent.css({ display:'none' });\n                $(window).trigger('resize');\n            });\n        Console.hideCard();\n    },\n    /**\n     * Show console\n     *\n     * @param {boolean} inputFocus If true, focus the input line after show()\n     * @return {void}\n     */\n    show: function (inputFocus) {\n        Config.set('Mode', 'show');\n\n        var pmaConsoleHeight = Math.max(92, Config.Height);\n        // eslint-disable-next-line compat/compat\n        pmaConsoleHeight = Math.min(Config.Height, (window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight) - 25);\n        Console.$consoleContent.css({ display:'block' });\n        if (Console.$consoleToolbar.hasClass('collapsed')) {\n            Console.$consoleToolbar.removeClass('collapsed');\n        }\n        Console.$consoleAllContents.height(pmaConsoleHeight);\n        Console.$consoleContent.stop();\n        Console.$consoleContent.animate({ 'margin-bottom': 0 },\n            'fast', 'easeOutQuart', function () {\n                $(window).trigger('resize');\n                if (inputFocus) {\n                    ConsoleInput.focus();\n                }\n            });\n    },\n    /**\n     * Change console to SQL information mode\n     * this mode shows current SQL query\n     * This mode is the default mode\n     *\n     * @return {void}\n     */\n    info: function () {\n        // Under construction\n        Console.collapse();\n    },\n    /**\n     * Toggle console mode between collapse/show\n     * Used for toggle buttons and shortcuts\n     *\n     * @return {void}\n     */\n    toggle: function () {\n        if (Config.Mode === 'show') {\n            Console.collapse();\n        } else {\n            Console.show(true);\n        }\n    },\n    /**\n     * Scroll console to bottom\n     *\n     * @return {void}\n     */\n    scrollBottom: function () {\n        Console.$consoleContent.scrollTop(Console.$consoleContent.prop('scrollHeight'));\n    },\n    /**\n     * Show card\n     *\n     * @param {string | JQuery<Element>} cardSelector Selector, select string will be \"#pma_console \" + cardSelector\n     * this param also can be JQuery object, if you need.\n     *\n     * @return {void}\n     */\n    showCard: function (cardSelector) {\n        var $card = null;\n        if (typeof(cardSelector) !== 'string') {\n            if (cardSelector.length > 0) {\n                $card = cardSelector;\n            } else {\n                return;\n            }\n        } else {\n            $card = $('#pma_console ' + cardSelector);\n        }\n        if ($card.length === 0) {\n            return;\n        }\n        $card.parent().children('.mid_layer').show().fadeTo(0, 0.15);\n        $card.addClass('show');\n        ConsoleInput.blur();\n        if ($card.parents('.card').length > 0) {\n            Console.showCard($card.parents('.card'));\n        }\n    },\n    /**\n     * Scroll console to bottom\n     *\n     * @param {object} $targetCard Target card JQuery object, if it's empty, function will hide all cards\n     * @return {void}\n     */\n    hideCard: function ($targetCard) {\n        if (! $targetCard) {\n            $('#pma_console').find('.mid_layer').fadeOut(140);\n            $('#pma_console').find('.card').removeClass('show');\n        } else if ($targetCard.length > 0) {\n            $targetCard.parent().find('.mid_layer').fadeOut(140);\n            $targetCard.find('.card').removeClass('show');\n            $targetCard.removeClass('show');\n        }\n    },\n    isSelect: function (queryString) {\n        var regExp = /^SELECT\\s+/i;\n        return regExp.test(queryString);\n    }\n};\n\n/**\n * Resizer object\n * Careful: this object UI logics highly related with functions under Console\n * Resizing min-height is 32, if small than it, console will collapse\n */\nvar ConsoleResizer = {\n    posY: 0,\n    height: 0,\n    resultHeight: 0,\n    /**\n     * Mousedown event handler for bind to resizer\n     *\n     * @param {MouseEvent} event\n     *\n     * @return {void}\n     */\n    mouseDown: function (event) {\n        if (Config.Mode !== 'show') {\n            return;\n        }\n        ConsoleResizer.posY = event.pageY;\n        ConsoleResizer.height = Console.$consoleContent.height();\n        $(document).on('mousemove', ConsoleResizer.mouseMove);\n        $(document).on('mouseup', ConsoleResizer.mouseUp);\n        // Disable text selection while resizing\n        $(document).on('selectstart', function () {\n            return false;\n        });\n    },\n    /**\n     * Mousemove event handler for bind to resizer\n     *\n     * @param {MouseEvent} event\n     *\n     * @return {void}\n     */\n    mouseMove: function (event) {\n        if (event.pageY < 35) {\n            event.pageY = 35;\n        }\n        ConsoleResizer.resultHeight = ConsoleResizer.height + (ConsoleResizer.posY - event.pageY);\n        // Content min-height is 32, if adjusting height small than it we'll move it out of the page\n        if (ConsoleResizer.resultHeight <= 32) {\n            Console.$consoleAllContents.height(32);\n            Console.$consoleContent.css('margin-bottom', ConsoleResizer.resultHeight - 32);\n        } else {\n            // Logic below makes viewable area always at bottom when adjusting height and content already at bottom\n            if (Console.$consoleContent.scrollTop() + Console.$consoleContent.innerHeight() + 16\n                >= Console.$consoleContent.prop('scrollHeight')) {\n                Console.$consoleAllContents.height(ConsoleResizer.resultHeight);\n                Console.scrollBottom();\n            } else {\n                Console.$consoleAllContents.height(ConsoleResizer.resultHeight);\n            }\n        }\n    },\n    /**\n     * Mouseup event handler for bind to resizer\n     *\n     * @return {void}\n     */\n    mouseUp: function () {\n        Config.set('Height', ConsoleResizer.resultHeight);\n        Console.show();\n        $(document).off('mousemove');\n        $(document).off('mouseup');\n        $(document).off('selectstart');\n    },\n    /**\n     * Used for console resizer initialize\n     *\n     * @return {void}\n     */\n    initialize: function () {\n        $('#pma_console').find('.toolbar').off('mousedown');\n        $('#pma_console').find('.toolbar').on('mousedown', ConsoleResizer.mouseDown);\n    }\n};\n\n/**\n * Console input object\n */\nvar ConsoleInput = {\n    /**\n     * @var array, contains Codemirror objects or input jQuery objects\n     * @access private\n     */\n    inputs: null,\n    /**\n     * @var {boolean}, if codemirror enabled\n     * @access private\n     */\n    codeMirror: false,\n    /**\n     * @var {number}, count for history navigation, 0 for current input\n     * @access private\n     */\n    historyCount: 0,\n    /**\n     * @var {string}, current input when navigating through history\n     * @access private\n     */\n    historyPreserveCurrent: null,\n    /**\n     * Used for console input initialize\n     *\n     * @return {void}\n     */\n    initialize: function () {\n        // _cm object can't be reinitialize\n        if (ConsoleInput.inputs !== null) {\n            return;\n        }\n        if (typeof CodeMirror !== 'undefined') {\n            ConsoleInput.codeMirror = true;\n        }\n        ConsoleInput.inputs = [];\n        if (ConsoleInput.codeMirror) {\n            // eslint-disable-next-line new-cap\n            ConsoleInput.inputs.console = CodeMirror($('#pma_console').find('.console_query_input')[0], {\n                theme: 'pma',\n                mode: 'text/x-sql',\n                lineWrapping: true,\n                extraKeys: { 'Ctrl-Space': 'autocomplete' },\n                hintOptions: { 'completeSingle': false, 'completeOnSingleClick': true },\n                gutters: ['CodeMirror-lint-markers'],\n                lint: {\n                    'getAnnotations': CodeMirror.sqlLint,\n                    'async': true,\n                }\n            });\n            ConsoleInput.inputs.console.on('inputRead', Functions.codeMirrorAutoCompleteOnInputRead);\n            ConsoleInput.inputs.console.on('keydown', function (instance, event) {\n                ConsoleInput.historyNavigate(event);\n            });\n            if ($('#pma_bookmarks').length !== 0) {\n                // eslint-disable-next-line new-cap\n                ConsoleInput.inputs.bookmark = CodeMirror($('#pma_console').find('.bookmark_add_input')[0], {\n                    theme: 'pma',\n                    mode: 'text/x-sql',\n                    lineWrapping: true,\n                    extraKeys: { 'Ctrl-Space': 'autocomplete' },\n                    hintOptions: { 'completeSingle': false, 'completeOnSingleClick': true },\n                    gutters: ['CodeMirror-lint-markers'],\n                    lint: {\n                        'getAnnotations': CodeMirror.sqlLint,\n                        'async': true,\n                    }\n                });\n                ConsoleInput.inputs.bookmark.on('inputRead', Functions.codeMirrorAutoCompleteOnInputRead);\n            }\n        } else {\n            ConsoleInput.inputs.console =\n                $('<textarea>').appendTo('#pma_console .console_query_input')\n                    .on('keydown', ConsoleInput.historyNavigate);\n            if ($('#pma_bookmarks').length !== 0) {\n                ConsoleInput.inputs.bookmark =\n                    $('<textarea>').appendTo('#pma_console .bookmark_add_input');\n            }\n        }\n        $('#pma_console').find('.console_query_input').on('keydown', ConsoleInput.keyDown);\n    },\n\n    /**\n     * @param {KeyboardEvent} event\n     */\n    historyNavigate: function (event) {\n        if (event.keyCode === 38 || event.keyCode === 40) {\n            var upPermitted = false;\n            var downPermitted = false;\n            var editor = ConsoleInput.inputs.console;\n            var cursorLine;\n            var totalLine;\n            if (ConsoleInput.codeMirror) {\n                cursorLine = editor.getCursor().line;\n                totalLine = editor.lineCount();\n            } else {\n                // Get cursor position from textarea\n                var text = ConsoleInput.getText();\n                cursorLine = text.substring(0, editor.prop('selectionStart')).split('\\n').length - 1;\n                totalLine = text.split(/\\r*\\n/).length;\n            }\n            if (cursorLine === 0) {\n                upPermitted = true;\n            }\n            if (cursorLine === totalLine - 1) {\n                downPermitted = true;\n            }\n            var nextCount;\n            var queryString = false;\n            if (upPermitted && event.keyCode === 38) {\n                // Navigate up in history\n                if (ConsoleInput.historyCount === 0) {\n                    ConsoleInput.historyPreserveCurrent = ConsoleInput.getText();\n                }\n                nextCount = ConsoleInput.historyCount + 1;\n                queryString = ConsoleMessages.getHistory(nextCount);\n            } else if (downPermitted && event.keyCode === 40) {\n                // Navigate down in history\n                if (ConsoleInput.historyCount === 0) {\n                    return;\n                }\n                nextCount = ConsoleInput.historyCount - 1;\n                if (nextCount === 0) {\n                    queryString = ConsoleInput.historyPreserveCurrent;\n                } else {\n                    queryString = ConsoleMessages.getHistory(nextCount);\n                }\n            }\n            if (queryString !== false) {\n                ConsoleInput.historyCount = nextCount;\n                ConsoleInput.setText(queryString, 'console');\n                if (ConsoleInput.codeMirror) {\n                    editor.setCursor(editor.lineCount(), 0);\n                }\n                event.preventDefault();\n            }\n        }\n    },\n    /**\n     * Mousedown event handler for bind to input\n     * Shortcut is Ctrl+Enter key or just ENTER, depending on console's\n     * configuration.\n     *\n     * @param {KeyboardEvent} event\n     *\n     * @return {void}\n     */\n    keyDown: function (event) {\n        // Execute command\n        if (Config.EnterExecutes) {\n            // Enter, but not in combination with Shift (which writes a new line).\n            if (!event.shiftKey && event.keyCode === 13) {\n                ConsoleInput.execute();\n            }\n        } else {\n            // Ctrl+Enter\n            if (event.ctrlKey && event.keyCode === 13) {\n                ConsoleInput.execute();\n            }\n        }\n        // Clear line\n        if (event.ctrlKey && event.keyCode === 76) {\n            ConsoleInput.clear();\n        }\n        // Clear console\n        if (event.ctrlKey && event.keyCode === 85) {\n            ConsoleMessages.clear();\n        }\n    },\n    /**\n     * Used for send text to Console.execute()\n     *\n     * @return {void}\n     */\n    execute: function () {\n        if (ConsoleInput.codeMirror) {\n            Console.execute(ConsoleInput.inputs.console.getValue());\n        } else {\n            Console.execute(ConsoleInput.inputs.console.val());\n        }\n    },\n    /**\n     * Used for clear the input\n     *\n     * @param {string} target, default target is console input\n     * @return {void}\n     */\n    clear: function (target) {\n        ConsoleInput.setText('', target);\n    },\n    /**\n     * Used for set focus to input\n     *\n     * @return {void}\n     */\n    focus: function () {\n        ConsoleInput.inputs.console.focus();\n    },\n    /**\n     * Used for blur input\n     *\n     * @return {void}\n     */\n    blur: function () {\n        if (ConsoleInput.codeMirror) {\n            ConsoleInput.inputs.console.getInputField().blur();\n        } else {\n            ConsoleInput.inputs.console.blur();\n        }\n    },\n    /**\n     * Used for set text in input\n     *\n     * @param {string} text\n     * @param {string} target\n     * @return {void}\n     */\n    setText: function (text, target) {\n        if (ConsoleInput.codeMirror) {\n            switch (target) {\n            case 'bookmark':\n                Console.execute(ConsoleInput.inputs.bookmark.setValue(text));\n                break;\n            default:\n            case 'console':\n                Console.execute(ConsoleInput.inputs.console.setValue(text));\n            }\n        } else {\n            switch (target) {\n            case 'bookmark':\n                Console.execute(ConsoleInput.inputs.bookmark.val(text));\n                break;\n            default:\n            case 'console':\n                Console.execute(ConsoleInput.inputs.console.val(text));\n            }\n        }\n    },\n    /**\n     * @param {'bookmark'|'console'} target\n     * @return {string}\n     */\n    getText: function (target) {\n        if (ConsoleInput.codeMirror) {\n            switch (target) {\n            case 'bookmark':\n                return ConsoleInput.inputs.bookmark.getValue();\n            default:\n            case 'console':\n                return ConsoleInput.inputs.console.getValue();\n            }\n        } else {\n            switch (target) {\n            case 'bookmark':\n                return ConsoleInput.inputs.bookmark.val();\n            default:\n            case 'console':\n                return ConsoleInput.inputs.console.val();\n            }\n        }\n    }\n\n};\n\n/**\n * Console messages, and message items management object\n */\nvar ConsoleMessages = {\n    /**\n     * Used for clear the messages\n     *\n     * @return {void}\n     */\n    clear: function () {\n        $('#pma_console').find('.content .console_message_container .message:not(.welcome)').addClass('hide');\n        $('#pma_console').find('.content .console_message_container .message.failed').remove();\n        $('#pma_console').find('.content .console_message_container .message.expanded').find('.action.collapse').trigger('click');\n    },\n    /**\n     * Used for show history messages\n     *\n     * @return {void}\n     */\n    showHistory: function () {\n        $('#pma_console').find('.content .console_message_container .message.hide').removeClass('hide');\n    },\n    /**\n     * Used for getting a perticular history query\n     *\n     * @param {number} nthLast get nth query message from latest, i.e 1st is last\n     * @return {string | false} message\n     */\n    getHistory: function (nthLast) {\n        var $queries = $('#pma_console').find('.content .console_message_container .query');\n        var length = $queries.length;\n        var $query = $queries.eq(length - nthLast);\n        if (!$query || (length - nthLast) < 0) {\n            return false;\n        } else {\n            return $query.text();\n        }\n    },\n    /**\n     * Used to show the correct message depending on which key\n     * combination executes the query (Ctrl+Enter or Enter).\n     *\n     * @param {boolean} enterExecutes Only Enter has to be pressed to execute query.\n     * @return {void}\n     */\n    showInstructions: function (enterExecutes) {\n        var enter = +enterExecutes || 0; // conversion to int\n        var $welcomeMsg = $('#pma_console').find('.content .console_message_container .message.welcome span');\n        $welcomeMsg.children('[id^=instructions]').hide();\n        $welcomeMsg.children('#instructions-' + enter).show();\n    },\n    /**\n     * Used for log new message\n     *\n     * @param {string} msgString Message to show\n     * @param {string} msgType Message type\n     * @return {object | false}, {message_id, $message}\n     */\n    append: function (msgString, msgType) {\n        if (typeof(msgString) !== 'string') {\n            return false;\n        }\n        // Generate an ID for each message, we can find them later\n        var msgId = Math.round(Math.random() * (899999999999) + 100000000000);\n        var now = new Date();\n        var $newMessage =\n            $('<div class=\"message ' +\n                (Config.AlwaysExpand ? 'expanded' : 'collapsed') +\n                '\" msgid=\"' + msgId + '\"><div class=\"action_content\"></div></div>');\n        switch (msgType) {\n        case 'query':\n            $newMessage.append('<div class=\"query highlighted\"></div>');\n            if (ConsoleInput.codeMirror) {\n                CodeMirror.runMode(msgString,\n                    'text/x-sql', $newMessage.children('.query')[0]);\n            } else {\n                $newMessage.children('.query').text(msgString);\n            }\n            $newMessage.children('.action_content')\n                .append(Console.$consoleTemplates.children('.query_actions').html());\n            break;\n        default:\n        case 'normal':\n            $newMessage.append('<div>' + msgString + '</div>');\n        }\n        ConsoleMessages.messageEventBinds($newMessage);\n        $newMessage.find('span.text.query_time span')\n            .text(now.getHours() + ':' + now.getMinutes() + ':' + now.getSeconds())\n            .parent().attr('title', now);\n        return {\n            'message_id': msgId,\n            $message: $newMessage.appendTo('#pma_console .content .console_message_container')\n        };\n    },\n    /**\n     * Used for log new query\n     *\n     * @param {string} queryData Struct should be\n     * {sql_query: \"Query string\", db: \"Target DB\", table: \"Target Table\"}\n     * @param {string} state Message state\n     * @return {object}, {message_id: string message id, $message: JQuery object}\n     */\n    appendQuery: function (queryData, state) {\n        var targetMessage = ConsoleMessages.append(queryData.sql_query, 'query');\n        if (! targetMessage) {\n            return false;\n        }\n        if (queryData.db && queryData.table) {\n            targetMessage.$message.attr('targetdb', queryData.db);\n            targetMessage.$message.attr('targettable', queryData.table);\n            targetMessage.$message.find('.text.targetdb span').text(queryData.db);\n        }\n        if (Console.isSelect(queryData.sql_query)) {\n            targetMessage.$message.addClass('select');\n        }\n        switch (state) {\n        case 'failed':\n            targetMessage.$message.addClass('failed');\n            break;\n        case 'successed':\n            targetMessage.$message.addClass('successed');\n            break;\n        default:\n        case 'pending':\n            targetMessage.$message.addClass('pending');\n        }\n        return targetMessage;\n    },\n    messageEventBinds: function ($target) {\n        // Leave unbinded elements, remove binded.\n        var $targetMessage = $target.filter(':not(.binded)');\n        if ($targetMessage.length === 0) {\n            return;\n        }\n        $targetMessage.addClass('binded');\n\n        $targetMessage.find('.action.expand').on('click', function () {\n            $(this).closest('.message').removeClass('collapsed');\n            $(this).closest('.message').addClass('expanded');\n        });\n        $targetMessage.find('.action.collapse').on('click', function () {\n            $(this).closest('.message').addClass('collapsed');\n            $(this).closest('.message').removeClass('expanded');\n        });\n        $targetMessage.find('.action.edit').on('click', function () {\n            ConsoleInput.setText($(this).parent().siblings('.query').text());\n            ConsoleInput.focus();\n        });\n        $targetMessage.find('.action.requery').on('click', function () {\n            var query = $(this).parent().siblings('.query').text();\n            var $message = $(this).closest('.message');\n            if (confirm(window.Messages.strConsoleRequeryConfirm + '\\n' +\n                (query.length < 100 ? query : query.slice(0, 100) + '...'))\n            ) {\n                Console.execute(query, { db: $message.attr('targetdb'), table: $message.attr('targettable') });\n            }\n        });\n        $targetMessage.find('.action.bookmark').on('click', function () {\n            var query = $(this).parent().siblings('.query').text();\n            var $message = $(this).closest('.message');\n            ConsoleBookmarks.addBookmark(query, $message.attr('targetdb'));\n            Console.showCard('#pma_bookmarks .card.add');\n        });\n        $targetMessage.find('.action.edit_bookmark').on('click', function () {\n            var query = $(this).parent().siblings('.query').text();\n            var $message = $(this).closest('.message');\n            var isShared = $message.find('span.bookmark_label').hasClass('shared');\n            var label = $message.find('span.bookmark_label').text();\n            ConsoleBookmarks.addBookmark(query, $message.attr('targetdb'), label, isShared);\n            Console.showCard('#pma_bookmarks .card.add');\n        });\n        $targetMessage.find('.action.delete_bookmark').on('click', function () {\n            var $message = $(this).closest('.message');\n            if (confirm(window.Messages.strConsoleDeleteBookmarkConfirm + '\\n' + $message.find('.bookmark_label').text())) {\n                $.post('index.php?route=/import',\n                    {\n                        'server': window.CommonParams.get('server'),\n                        'action_bookmark': 2,\n                        'ajax_request': true,\n                        'id_bookmark': $message.attr('bookmarkid')\n                    },\n                    function () {\n                        ConsoleBookmarks.refresh();\n                    });\n            }\n        });\n        $targetMessage.find('.action.profiling').on('click', function () {\n            var $message = $(this).closest('.message');\n            Console.execute($(this).parent().siblings('.query').text(),\n                { db: $message.attr('targetdb'),\n                    table: $message.attr('targettable'),\n                    profiling: true });\n        });\n        $targetMessage.find('.action.explain').on('click', function () {\n            var $message = $(this).closest('.message');\n            Console.execute('EXPLAIN ' + $(this).parent().siblings('.query').text(),\n                { db: $message.attr('targetdb'),\n                    table: $message.attr('targettable') });\n        });\n        $targetMessage.find('.action.dbg_show_trace').on('click', function () {\n            var $message = $(this).closest('.message');\n            if (!$message.find('.trace').length) {\n                ConsoleDebug.getQueryDetails(\n                    $message.data('queryInfo'),\n                    $message.data('totalTime'),\n                    $message\n                );\n                ConsoleMessages.messageEventBinds($message.find('.message:not(.binded)'));\n            }\n            $message.addClass('show_trace');\n            $message.removeClass('hide_trace');\n        });\n        $targetMessage.find('.action.dbg_hide_trace').on('click', function () {\n            var $message = $(this).closest('.message');\n            $message.addClass('hide_trace');\n            $message.removeClass('show_trace');\n        });\n        $targetMessage.find('.action.dbg_show_args').on('click', function () {\n            var $message = $(this).closest('.message');\n            $message.addClass('show_args expanded');\n            $message.removeClass('hide_args collapsed');\n        });\n        $targetMessage.find('.action.dbg_hide_args').on('click', function () {\n            var $message = $(this).closest('.message');\n            $message.addClass('hide_args collapsed');\n            $message.removeClass('show_args expanded');\n        });\n        if (ConsoleInput.codeMirror) {\n            $targetMessage.find('.query:not(.highlighted)').each(function (index, elem) {\n                CodeMirror.runMode($(elem).text(),\n                    'text/x-sql', elem);\n                $(this).addClass('highlighted');\n            });\n        }\n    },\n    msgAppend: function (msgId, msgString) {\n        var $targetMessage = $('#pma_console').find('.content .console_message_container .message[msgid=' + msgId + ']');\n        if ($targetMessage.length === 0 || isNaN(parseInt(msgId)) || typeof(msgString) !== 'string') {\n            return false;\n        }\n        $targetMessage.append('<div>' + msgString + '</div>');\n    },\n    updateQuery: function (msgId, isSuccessed, queryData) {\n        var $targetMessage = $('#pma_console').find('.console_message_container .message[msgid=' + parseInt(msgId) + ']');\n        if ($targetMessage.length === 0 || isNaN(parseInt(msgId))) {\n            return false;\n        }\n        $targetMessage.removeClass('pending failed successed');\n        if (isSuccessed) {\n            $targetMessage.addClass('successed');\n            if (queryData) {\n                $targetMessage.children('.query').text('');\n                $targetMessage.removeClass('select');\n                if (Console.isSelect(queryData.sql_query)) {\n                    $targetMessage.addClass('select');\n                }\n                if (ConsoleInput.codeMirror) {\n                    CodeMirror.runMode(queryData.sql_query, 'text/x-sql', $targetMessage.children('.query')[0]);\n                } else {\n                    $targetMessage.children('.query').text(queryData.sql_query);\n                }\n                $targetMessage.attr('targetdb', queryData.db);\n                $targetMessage.attr('targettable', queryData.table);\n                $targetMessage.find('.text.targetdb span').text(queryData.db);\n            }\n        } else {\n            $targetMessage.addClass('failed');\n        }\n    },\n    /**\n     * Used for console messages initialize\n     *\n     * @return {void}\n     */\n    initialize: function () {\n        ConsoleMessages.messageEventBinds($('#pma_console').find('.message:not(.binded)'));\n        if (Config.StartHistory) {\n            ConsoleMessages.showHistory();\n        }\n        ConsoleMessages.showInstructions(Config.EnterExecutes);\n    }\n};\n\n/**\n * Console bookmarks card, and bookmarks items management object\n */\nvar ConsoleBookmarks = {\n    bookmarks: [],\n    addBookmark: function (queryString, targetDb, label, isShared) {\n        $('#pma_bookmarks').find('.add [name=shared]').prop('checked', false);\n        $('#pma_bookmarks').find('.add [name=label]').val('');\n        $('#pma_bookmarks').find('.add [name=targetdb]').val('');\n        $('#pma_bookmarks').find('.add [name=id_bookmark]').val('');\n        ConsoleInput.setText('', 'bookmark');\n\n        if (typeof queryString !== 'undefined') {\n            ConsoleInput.setText(queryString, 'bookmark');\n        }\n        if (typeof targetDb !== 'undefined') {\n            $('#pma_bookmarks').find('.add [name=targetdb]').val(targetDb);\n        }\n        if (typeof label !== 'undefined') {\n            $('#pma_bookmarks').find('.add [name=label]').val(label);\n        }\n        if (typeof isShared !== 'undefined') {\n            $('#pma_bookmarks').find('.add [name=shared]').prop('checked', isShared);\n        }\n    },\n    refresh: function () {\n        $.get('index.php?route=/import',\n            {\n                'ajax_request': true,\n                'server': window.CommonParams.get('server'),\n                'console_bookmark_refresh': 'refresh'\n            },\n            function (data) {\n                if (data.console_message_bookmark) {\n                    $('#pma_bookmarks').find('.content.bookmark').html(data.console_message_bookmark);\n                    ConsoleMessages.messageEventBinds($('#pma_bookmarks').find('.message:not(.binded)'));\n                }\n            });\n    },\n    /**\n     * Used for console bookmarks initialize\n     * message events are already binded by ConsoleMsg.messageEventBinds\n     *\n     * @return {void}\n     */\n    initialize: function () {\n        if ($('#pma_bookmarks').length === 0) {\n            return;\n        }\n        $('#pma_console').find('.button.bookmarks').on('click', function () {\n            Console.showCard('#pma_bookmarks');\n        });\n        $('#pma_bookmarks').find('.button.add').on('click', function () {\n            Console.showCard('#pma_bookmarks .card.add');\n        });\n        $('#pma_bookmarks').find('.card.add [name=submit]').on('click', function () {\n            if ($('#pma_bookmarks').find('.card.add [name=label]').val().length === 0\n                || ConsoleInput.getText('bookmark').length === 0) {\n                alert(window.Messages.strFormEmpty);\n                return;\n            }\n            $(this).prop('disabled', true);\n            $.post('index.php?route=/import',\n                {\n                    'ajax_request': true,\n                    'console_bookmark_add': 'true',\n                    'label': $('#pma_bookmarks').find('.card.add [name=label]').val(),\n                    'server': window.CommonParams.get('server'),\n                    'db': $('#pma_bookmarks').find('.card.add [name=targetdb]').val(),\n                    'bookmark_query': ConsoleInput.getText('bookmark'),\n                    'shared': $('#pma_bookmarks').find('.card.add [name=shared]').prop('checked')\n                },\n                function () {\n                    ConsoleBookmarks.refresh();\n                    $('#pma_bookmarks').find('.card.add [name=submit]').prop('disabled', false);\n                    Console.hideCard($('#pma_bookmarks').find('.card.add'));\n                });\n        });\n        $('#pma_console').find('.button.refresh').on('click', function () {\n            ConsoleBookmarks.refresh();\n        });\n    }\n};\n\nvar ConsoleDebug = {\n    lastDebugInfo: {\n        debugInfo: null,\n        url: null\n    },\n    initialize: function () {\n        // Try to get debug info after every AJAX request\n        $(document).on('ajaxSuccess', function (event, xhr, settings, data) {\n            if (data.debug) {\n                ConsoleDebug.showLog(data.debug, settings.url);\n            }\n        });\n\n        if (Config.GroupQueries) {\n            $('#debug_console').addClass('grouped');\n        } else {\n            $('#debug_console').addClass('ungrouped');\n            if (Config.OrderBy === 'count') {\n                $('#debug_console').find('.button.order_by.sort_exec').addClass('active');\n            }\n        }\n        var orderBy = Config.OrderBy;\n        var order = Config.Order;\n        $('#debug_console').find('.button.order_by.sort_' + orderBy).addClass('active');\n        $('#debug_console').find('.button.order.order_' + order).addClass('active');\n\n        // Initialize actions in toolbar\n        $('#debug_console').find('.button.group_queries').on('click', function () {\n            $('#debug_console').addClass('grouped');\n            $('#debug_console').removeClass('ungrouped');\n            Config.set('GroupQueries', true);\n            ConsoleDebug.refresh();\n            if (Config.OrderBy === 'count') {\n                $('#debug_console').find('.button.order_by.sort_exec').removeClass('active');\n            }\n        });\n        $('#debug_console').find('.button.ungroup_queries').on('click', function () {\n            $('#debug_console').addClass('ungrouped');\n            $('#debug_console').removeClass('grouped');\n            Config.set('GroupQueries', false);\n            ConsoleDebug.refresh();\n            if (Config.OrderBy === 'count') {\n                $('#debug_console').find('.button.order_by.sort_exec').addClass('active');\n            }\n        });\n        $('#debug_console').find('.button.order_by').on('click', function () {\n            var $this = $(this);\n            $('#debug_console').find('.button.order_by').removeClass('active');\n            $this.addClass('active');\n            if ($this.hasClass('sort_time')) {\n                Config.set('OrderBy', 'time');\n            } else if ($this.hasClass('sort_exec')) {\n                Config.set('OrderBy', 'exec');\n            } else if ($this.hasClass('sort_count')) {\n                Config.set('OrderBy', 'count');\n            }\n            ConsoleDebug.refresh();\n        });\n        $('#debug_console').find('.button.order').on('click', function () {\n            var $this = $(this);\n            $('#debug_console').find('.button.order').removeClass('active');\n            $this.addClass('active');\n            if ($this.hasClass('order_asc')) {\n                Config.set('Order', 'asc');\n            } else if ($this.hasClass('order_desc')) {\n                Config.set('Order', 'desc');\n            }\n            ConsoleDebug.refresh();\n        });\n\n        // Show SQL debug info for first page load\n        if (Console.debugSqlInfo === null) {\n            return;\n        }\n\n        $('#pma_console').find('.button.debug').removeClass('hide');\n        ConsoleDebug.showLog(Console.debugSqlInfo);\n    },\n    formatFunctionCall: function (dbgStep) {\n        var functionName = '';\n        if ('class' in dbgStep) {\n            functionName += dbgStep.class;\n            functionName += dbgStep.type;\n        }\n        functionName += dbgStep.function;\n        if (dbgStep.args && dbgStep.args.length) {\n            functionName += '(...)';\n        } else {\n            functionName += '()';\n        }\n        return functionName;\n    },\n    formatFunctionArgs: function (dbgStep) {\n        var $args = $('<div>');\n        if (dbgStep.args.length) {\n            $args.append('<div class=\"message welcome\">')\n                .append(\n                    $('<div class=\"message welcome\">')\n                        .text(\n                            Functions.sprintf(\n                                window.Messages.strConsoleDebugArgsSummary,\n                                dbgStep.args.length\n                            )\n                        )\n                );\n            for (var i = 0; i < dbgStep.args.length; i++) {\n                $args.append(\n                    $('<div class=\"message\">')\n                        .html(\n                            '<pre>' +\n                        Functions.escapeHtml(JSON.stringify(dbgStep.args[i], null, '  ')) +\n                        '</pre>'\n                        )\n                );\n            }\n        }\n        return $args;\n    },\n    formatFileName: function (dbgStep) {\n        var fileName = '';\n        if ('file' in dbgStep) {\n            fileName += dbgStep.file;\n            fileName += '#' + dbgStep.line;\n        }\n        return fileName;\n    },\n    formatBackTrace: function (dbgTrace) {\n        var $traceElem = $('<div class=\"trace\">');\n        $traceElem.append(\n            $('<div class=\"message welcome\">')\n        );\n        var step;\n        var $stepElem;\n        for (var stepId in dbgTrace) {\n            if (dbgTrace.hasOwnProperty(stepId)) {\n                step = dbgTrace[stepId];\n                if (!Array.isArray(step) && typeof step !== 'object') {\n                    $stepElem =\n                        $('<div class=\"message traceStep collapsed hide_args\">')\n                            .append(\n                                $('<span>').text(step)\n                            );\n                } else {\n                    if (typeof step.args === 'string' && step.args) {\n                        step.args = [step.args];\n                    }\n                    $stepElem =\n                        $('<div class=\"message traceStep collapsed hide_args\">')\n                            .append(\n                                $('<span class=\"function\">').text(this.formatFunctionCall(step))\n                            )\n                            .append(\n                                $('<span class=\"file\">').text(this.formatFileName(step))\n                            );\n                    if (step.args && step.args.length) {\n                        $stepElem\n                            .append(\n                                $('<span class=\"args\">').html(this.formatFunctionArgs(step))\n                            )\n                            .prepend(\n                                $('<div class=\"action_content\">')\n                                    .append(\n                                        '<span class=\"action dbg_show_args\">' +\n                                window.Messages.strConsoleDebugShowArgs +\n                                '</span> '\n                                    )\n                                    .append(\n                                        '<span class=\"action dbg_hide_args\">' +\n                                window.Messages.strConsoleDebugHideArgs +\n                                '</span> '\n                                    )\n                            );\n                    }\n                }\n                $traceElem.append($stepElem);\n            }\n        }\n        return $traceElem;\n    },\n    formatQueryOrGroup: function (queryInfo, totalTime) {\n        var grouped;\n        var queryText;\n        var queryTime;\n        var count;\n        var i;\n        if (Array.isArray(queryInfo)) {\n            // It is grouped\n            grouped = true;\n\n            queryText = queryInfo[0].query;\n\n            queryTime = 0;\n            for (i in queryInfo) {\n                queryTime += queryInfo[i].time;\n            }\n\n            count = queryInfo.length;\n        } else {\n            queryText = queryInfo.query;\n            queryTime = queryInfo.time;\n        }\n\n        var $query = $('<div class=\"message collapsed hide_trace\">')\n            .append(\n                $('#debug_console').find('.templates .debug_query').clone()\n            )\n            .append(\n                $('<div class=\"query\">')\n                    .text(queryText)\n            )\n            .data('queryInfo', queryInfo)\n            .data('totalTime', totalTime);\n        if (grouped) {\n            $query.find('.text.count').removeClass('hide');\n            $query.find('.text.count span').text(count);\n        }\n        $query.find('.text.time span').text(queryTime + 's (' + ((queryTime * 100) / totalTime).toFixed(3) + '%)');\n\n        return $query;\n    },\n    appendQueryExtraInfo: function (query, $elem) {\n        if ('error' in query) {\n            $elem.append(\n                $('<div>').html(query.error)\n            );\n        }\n        $elem.append(this.formatBackTrace(query.trace));\n    },\n    getQueryDetails: function (queryInfo, totalTime, $query) {\n        if (Array.isArray(queryInfo)) {\n            var $singleQuery;\n            for (var i in queryInfo) {\n                $singleQuery = $('<div class=\"message welcome trace\">')\n                    .text((parseInt(i) + 1) + '.')\n                    .append(\n                        $('<span class=\"time\">').text(\n                            window.Messages.strConsoleDebugTimeTaken +\n                        ' ' + queryInfo[i].time + 's' +\n                        ' (' + ((queryInfo[i].time * 100) / totalTime).toFixed(3) + '%)'\n                        )\n                    );\n                this.appendQueryExtraInfo(queryInfo[i], $singleQuery);\n                $query\n                    .append('<div class=\"message welcome trace\">')\n                    .append($singleQuery);\n            }\n        } else {\n            this.appendQueryExtraInfo(queryInfo, $query);\n        }\n    },\n    showLog: function (debugInfo, url) {\n        this.lastDebugInfo.debugInfo = debugInfo;\n        this.lastDebugInfo.url = url;\n\n        $('#debug_console').find('.debugLog').empty();\n        $('#debug_console').find('.debug>.welcome').empty();\n\n        var debugJson = false;\n        var i;\n        if (typeof debugInfo === 'object' && 'queries' in debugInfo) {\n            // Copy it to debugJson, so that it doesn't get changed\n            if (!('queries' in debugInfo)) {\n                debugJson = false;\n            } else {\n                debugJson = { queries: [] };\n                for (i in debugInfo.queries) {\n                    debugJson.queries[i] = debugInfo.queries[i];\n                }\n            }\n        } else if (typeof debugInfo === 'string') {\n            try {\n                debugJson = JSON.parse(debugInfo);\n            } catch (e) {\n                debugJson = false;\n            }\n            if (debugJson && !('queries' in debugJson)) {\n                debugJson = false;\n            }\n        }\n        if (debugJson === false) {\n            $('#debug_console').find('.debug>.welcome').text(\n                window.Messages.strConsoleDebugError\n            );\n            return;\n        }\n        var allQueries = debugJson.queries;\n        var uniqueQueries = {};\n\n        var totalExec = allQueries.length;\n\n        // Calculate total time and make unique query array\n        var totalTime = 0;\n        for (i = 0; i < totalExec; ++i) {\n            totalTime += allQueries[i].time;\n            if (!(allQueries[i].hash in uniqueQueries)) {\n                uniqueQueries[allQueries[i].hash] = [];\n            }\n            uniqueQueries[allQueries[i].hash].push(allQueries[i]);\n        }\n        // Count total unique queries, convert uniqueQueries to Array\n        var totalUnique = 0;\n        var uniqueArray = [];\n        for (var hash in uniqueQueries) {\n            if (uniqueQueries.hasOwnProperty(hash)) {\n                ++totalUnique;\n                uniqueArray.push(uniqueQueries[hash]);\n            }\n        }\n        uniqueQueries = uniqueArray;\n        // Show summary\n        $('#debug_console').find('.debug>.welcome').append(\n            $('<span class=\"debug_summary\">').text(\n                Functions.sprintf(\n                    window.Messages.strConsoleDebugSummary,\n                    totalUnique,\n                    totalExec,\n                    totalTime\n                )\n            )\n        );\n        if (url) {\n            $('#debug_console').find('.debug>.welcome').append(\n                $('<span class=\"script_name\">').text(url.split('?')[0])\n            );\n        }\n\n        // For sorting queries\n        function sortByTime (a, b) {\n            var order = Config.Order === 'asc' ? 1 : -1;\n            if (Array.isArray(a) && Array.isArray(b)) {\n                // It is grouped\n                var timeA = 0;\n                var timeB = 0;\n                var i;\n                for (i in a) {\n                    timeA += a[i].time;\n                }\n                for (i in b) {\n                    timeB += b[i].time;\n                }\n                return (timeA - timeB) * order;\n            } else {\n                return (a.time - b.time) * order;\n            }\n        }\n\n        function sortByCount (a, b) {\n            var order = Config.Order === 'asc' ? 1 : -1;\n            return (a.length - b.length) * order;\n        }\n\n        var orderBy = Config.OrderBy;\n        var order = Config.Order;\n\n        if (Config.GroupQueries) {\n            // Sort queries\n            if (orderBy === 'time') {\n                uniqueQueries.sort(sortByTime);\n            } else if (orderBy === 'count') {\n                uniqueQueries.sort(sortByCount);\n            } else if (orderBy === 'exec' && order === 'desc') {\n                uniqueQueries.reverse();\n            }\n            for (i in uniqueQueries) {\n                if (orderBy === 'time') {\n                    uniqueQueries[i].sort(sortByTime);\n                } else if (orderBy === 'exec' && order === 'desc') {\n                    uniqueQueries[i].reverse();\n                }\n                $('#debug_console').find('.debugLog').append(this.formatQueryOrGroup(uniqueQueries[i], totalTime));\n            }\n        } else {\n            if (orderBy === 'time') {\n                allQueries.sort(sortByTime);\n            } else if (order === 'desc') {\n                allQueries.reverse();\n            }\n            for (i = 0; i < totalExec; ++i) {\n                $('#debug_console').find('.debugLog').append(this.formatQueryOrGroup(allQueries[i], totalTime));\n            }\n        }\n\n        ConsoleMessages.messageEventBinds($('#debug_console').find('.message:not(.binded)'));\n    },\n    refresh: function () {\n        var last = this.lastDebugInfo;\n        ConsoleDebug.showLog(last.debugInfo, last.url);\n    }\n};\n\nexport { Console };\n","module.exports = CodeMirror;","/* global Functions */\n\n/**\n * @link https://docs.phpmyadmin.net/en/latest/config.html#console-settings\n */\nexport const Config = {\n    /**\n     * @type {boolean}\n     */\n    StartHistory: false,\n    /**\n     * @type {boolean}\n     */\n    AlwaysExpand: false,\n    /**\n     * @type {boolean}\n     */\n    CurrentQuery: true,\n    /**\n     * @type {boolean}\n     */\n    EnterExecutes: false,\n    /**\n     * @type {boolean}\n     */\n    DarkTheme: false,\n    /**\n     * @type {'info'|'show'|'collapse'}\n     */\n    Mode: 'info',\n    /**\n     * @type {number}\n     */\n    Height: 92,\n    /**\n     * @type {boolean}\n     */\n    GroupQueries: false,\n    /**\n     * @type {'exec'|'time'|'count'}\n     */\n    OrderBy: 'exec',\n    /**\n     * @type {'asc'|'desc'}\n     */\n    Order: 'asc',\n\n    /**\n     * @param {Object} data\n     * @return {void}\n     */\n    init: function (data) {\n        this.StartHistory = !!data.StartHistory;\n        this.AlwaysExpand = !!data.AlwaysExpand;\n        this.CurrentQuery = data.CurrentQuery !== undefined ? !!data.CurrentQuery : true;\n        this.EnterExecutes = !!data.EnterExecutes;\n        this.DarkTheme = !!data.DarkTheme;\n        this.Mode = data.Mode === 'show' || data.Mode === 'collapse' ? data.Mode : 'info';\n        this.Height = data.Height > 0 ? Number(data.Height) : 92;\n        this.GroupQueries = !!data.GroupQueries;\n        this.OrderBy = data.OrderBy === 'time' || data.OrderBy === 'count' ? data.OrderBy : 'exec';\n        this.Order = data.Order === 'desc' ? 'desc' : 'asc';\n    },\n\n    /**\n     * @param {'StartHistory'|'AlwaysExpand'|'CurrentQuery'|'EnterExecutes'|'DarkTheme'|'Mode'|'Height'|'GroupQueries'|'OrderBy'|'Order'} key\n     * @param {boolean|string|number} value\n     * @return {void}\n     */\n    set: function (key, value) {\n        this[key] = value;\n        Functions.configSet('Console/' + key, value);\n    },\n\n    /**\n     * Used for update console config\n     *\n     * @return {void}\n     */\n    update: function () {\n        this.set('AlwaysExpand', !!document.getElementById('consoleOptionsAlwaysExpandCheckbox').checked);\n        this.set('StartHistory', !!document.getElementById('consoleOptionsStartHistoryCheckbox').checked);\n        this.set('CurrentQuery', !!document.getElementById('consoleOptionsCurrentQueryCheckbox').checked);\n        this.set('EnterExecutes', !!document.getElementById('consoleOptionsEnterExecutesCheckbox').checked);\n        this.set('DarkTheme', !!document.getElementById('consoleOptionsDarkThemeCheckbox').checked);\n        /* Setting the dark theme of the console*/\n        const consoleContent = document.getElementById('pma_console').querySelector('.content');\n        if (this.DarkTheme) {\n            consoleContent.classList.add('console_dark_theme');\n        } else {\n            consoleContent.classList.remove('console_dark_theme');\n        }\n    }\n};\n"],"names":["$","Console","initialize","CodeMirror","Config","$consoleContent","$consoleAllContents","$consoleToolbar","$consoleTemplates","$requestForm","isEnabled","isInitialized","debugSqlInfo","length","Functions","configGet","data","init","setupAfterInit","find","children","val","window","CommonParams","get","on","AJAX","requestHandler","AlwaysExpand","document","getElementById","checked","StartHistory","CurrentQuery","EnterExecutes","DarkTheme","addClass","ConsoleResizer","ConsoleInput","ConsoleMessages","ConsoleBookmarks","ConsoleDebug","toggle","event","preventDefault","stopImmediatePropagation","clear","showHistory","showCard","target","focus","hideCard","parent","closest","update","showInstructions","xhr","ajaxOptions","dataType","indexOf","status","JSON","parse","responseText","ajaxCallback","e","console","trace","log","message","Mode","collapse","info","show","scrollBottom","set","execute","queryString","options","test","attr","db","table","remove","profiling","append","confirmQuery","value","appendQuery","message_id","trigger","Navigation","reload","console_message_id","updateQuery","success","reloadQuerywindow","sql_query","$message","pmaConsoleHeight","Math","max","Height","height","stop","animate","outerHeight","css","display","inputFocus","min","innerHeight","documentElement","clientHeight","body","hasClass","removeClass","scrollTop","prop","cardSelector","$card","fadeTo","blur","parents","$targetCard","fadeOut","isSelect","regExp","posY","resultHeight","mouseDown","pageY","mouseMove","mouseUp","off","inputs","codeMirror","historyCount","historyPreserveCurrent","theme","mode","lineWrapping","extraKeys","hintOptions","gutters","lint","sqlLint","codeMirrorAutoCompleteOnInputRead","instance","historyNavigate","bookmark","appendTo","keyDown","keyCode","upPermitted","downPermitted","editor","cursorLine","totalLine","getCursor","line","lineCount","text","getText","substring","split","nextCount","getHistory","setText","setCursor","shiftKey","ctrlKey","getValue","getInputField","setValue","nthLast","$queries","$query","eq","enterExecutes","enter","$welcomeMsg","hide","msgString","msgType","msgId","round","random","now","Date","$newMessage","runMode","html","messageEventBinds","getHours","getMinutes","getSeconds","queryData","state","targetMessage","$target","$targetMessage","filter","siblings","query","confirm","Messages","strConsoleRequeryConfirm","slice","addBookmark","isShared","label","strConsoleDeleteBookmarkConfirm","post","refresh","getQueryDetails","each","index","elem","msgAppend","isNaN","parseInt","isSuccessed","bookmarks","targetDb","console_message_bookmark","alert","strFormEmpty","lastDebugInfo","debugInfo","url","settings","debug","showLog","GroupQueries","OrderBy","orderBy","order","Order","$this","formatFunctionCall","dbgStep","functionName","class","type","function","args","formatFunctionArgs","$args","sprintf","strConsoleDebugArgsSummary","i","escapeHtml","stringify","formatFileName","fileName","file","formatBackTrace","dbgTrace","$traceElem","step","$stepElem","stepId","hasOwnProperty","Array","isArray","prepend","strConsoleDebugShowArgs","strConsoleDebugHideArgs","formatQueryOrGroup","queryInfo","totalTime","grouped","queryText","queryTime","count","time","clone","toFixed","appendQueryExtraInfo","$elem","error","$singleQuery","strConsoleDebugTimeTaken","empty","debugJson","queries","strConsoleDebugError","allQueries","uniqueQueries","totalExec","hash","push","totalUnique","uniqueArray","strConsoleDebugSummary","sortByTime","a","b","timeA","timeB","sortByCount","sort","reverse","last","undefined","Number","key","configSet","consoleContent","querySelector","classList","add"],"sourceRoot":""}