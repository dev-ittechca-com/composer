{"version":3,"file":"sql.js","mappings":"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","sources":["webpack://phpmyadmin/external var \"jQuery\"","webpack://phpmyadmin/./js/src/sql.js"],"sourcesContent":["module.exports = jQuery;","import $ from 'jquery';\nimport { AJAX } from './modules/ajax.js';\nimport { Functions } from './modules/functions.js';\nimport { Navigation } from './modules/navigation.js';\nimport { CommonParams } from './modules/common.js';\nimport highlightSql from './modules/sql-highlight.js';\nimport { ajaxRemoveMessage, ajaxShowMessage } from './modules/ajax-message.js';\nimport createProfilingChart from './modules/functions/createProfilingChart.js';\nimport { escapeHtml } from './modules/functions/escape.js';\nimport refreshMainContent from './modules/functions/refreshMainContent.js';\nimport isStorageSupported from './modules/functions/isStorageSupported.js';\n\n/**\n * @fileoverview    functions used wherever an sql query form is used\n *\n * @test-module Sql\n */\n\n/* global themeImagePath */ // templates/javascript/variables.twig\n\nvar Sql = {};\nwindow.Sql = Sql;\n\n/**\n * decode a string URL_encoded\n *\n * @param {string} str\n * @return {string} the URL-decoded string\n */\nSql.urlDecode = function (str) {\n    if (typeof str !== 'undefined') {\n        return decodeURIComponent(str.replace(/\\+/g, '%20'));\n    }\n};\n\n/**\n * encode a string URL_decoded\n *\n * @param {string} str\n * @return {string} the URL-encoded string\n */\nSql.urlEncode = function (str) {\n    if (typeof str !== 'undefined') {\n        return encodeURIComponent(str).replace(/%20/g, '+');\n    }\n};\n\n/**\n * Saves SQL query in local storage or cookie\n *\n * @param {string} query SQL query\n * @return {void}\n */\nSql.autoSave = function (query) {\n    if (query) {\n        var key = Sql.getAutoSavedKey();\n        if (isStorageSupported('localStorage')) {\n            window.localStorage.setItem(key, query);\n        } else {\n            window.Cookies.set(key, query, { path: CommonParams.get('rootPath') });\n        }\n    }\n};\n\n/**\n * Saves SQL query in local storage or cookie\n *\n * @param {string} db database name\n * @param {string} table table name\n * @param {string} query SQL query\n * @return {void}\n */\nSql.showThisQuery = function (db, table, query) {\n    var showThisQueryObject = {\n        'db': db,\n        'table': table,\n        'query': query\n    };\n    if (isStorageSupported('localStorage')) {\n        window.localStorage.showThisQuery = 1;\n        window.localStorage.showThisQueryObject = JSON.stringify(showThisQueryObject);\n    } else {\n        window.Cookies.set('showThisQuery', 1, { path: CommonParams.get('rootPath') });\n        window.Cookies.set('showThisQueryObject', JSON.stringify(showThisQueryObject), { path: CommonParams.get('rootPath') });\n    }\n};\n\n/**\n * Set query to codemirror if show this query is\n * checked and query for the db and table pair exists\n */\nSql.setShowThisQuery = function () {\n    var db = $('input[name=\"db\"]').val();\n    var table = $('input[name=\"table\"]').val();\n    if (isStorageSupported('localStorage')) {\n        if (window.localStorage.showThisQueryObject !== undefined) {\n            var storedDb = JSON.parse(window.localStorage.showThisQueryObject).db;\n            var storedTable = JSON.parse(window.localStorage.showThisQueryObject).table;\n            var storedQuery = JSON.parse(window.localStorage.showThisQueryObject).query;\n        }\n        if (window.localStorage.showThisQuery !== undefined\n            && window.localStorage.showThisQuery === '1') {\n            $('input[name=\"show_query\"]').prop('checked', true);\n            if (db === storedDb && table === storedTable) {\n                if (window.codeMirrorEditor) {\n                    window.codeMirrorEditor.setValue(storedQuery);\n                } else if (document.sqlform) {\n                    document.sqlform.sql_query.value = storedQuery;\n                }\n            }\n        } else {\n            $('input[name=\"show_query\"]').prop('checked', false);\n        }\n    }\n};\n\n/**\n * Saves SQL query with sort in local storage or cookie\n *\n * @param {string} query SQL query\n * @return {void}\n */\nSql.autoSaveWithSort = function (query) {\n    if (query) {\n        if (isStorageSupported('localStorage')) {\n            window.localStorage.setItem('autoSavedSqlSort', query);\n        } else {\n            window.Cookies.set('autoSavedSqlSort', query, { path: CommonParams.get('rootPath') });\n        }\n    }\n};\n\n/**\n * Clear saved SQL query with sort in local storage or cookie\n *\n * @return {void}\n */\nSql.clearAutoSavedSort = function () {\n    if (isStorageSupported('localStorage')) {\n        window.localStorage.removeItem('autoSavedSqlSort');\n    } else {\n        window.Cookies.set('autoSavedSqlSort', '', { path: CommonParams.get('rootPath') });\n    }\n};\n\n/**\n * Get the field name for the current field.  Required to construct the query\n * for grid editing\n *\n * @param $tableResults enclosing results table\n * @param $thisField    jQuery object that points to the current field's tr\n *\n * @return {string}\n */\nSql.getFieldName = function ($tableResults, $thisField) {\n    var thisFieldIndex = $thisField.index();\n    // ltr or rtl direction does not impact how the DOM was generated\n    // check if the action column in the left exist\n    var leftActionExist = ! $tableResults.find('th').first().hasClass('draggable');\n    // number of column span for checkbox and Actions\n    var leftActionSkip = leftActionExist ? $tableResults.find('th').first().attr('colspan') - 1 : 0;\n\n    // If this column was sorted, the text of the a element contains something\n    // like <small>1</small> that is useful to indicate the order in case\n    // of a sort on multiple columns; however, we dont want this as part\n    // of the column name so we strip it ( .clone() to .end() )\n    var fieldName = $tableResults\n        .find('thead')\n        .find('th')\n        .eq(thisFieldIndex - leftActionSkip)\n        .find('a')\n        .clone()    // clone the element\n        .children() // select all the children\n        .remove()   // remove all of them\n        .end()      // go back to the selected element\n        .text();    // grab the text\n    // happens when just one row (headings contain no a)\n    if (fieldName === '') {\n        var $heading = $tableResults.find('thead').find('th').eq(thisFieldIndex - leftActionSkip).children('span');\n        // may contain column comment enclosed in a span - detach it temporarily to read the column name\n        var $tempColComment = $heading.children().detach();\n        fieldName = $heading.text();\n        // re-attach the column comment\n        $heading.append($tempColComment);\n    }\n\n    fieldName = fieldName.trim();\n\n    return fieldName;\n};\n\n/**\n * @type {boolean} lock for the sqlbox textarea in the querybox\n */\nlet sqlBoxLocked = false;\n\n/**\n * @type {boolean[]} holds elements which content should only selected once\n */\nconst onlyOnceElements = [];\n\n/**\n * Handles 'Simulate query' button on SQL query box.\n *\n * @return {void}\n */\nconst handleSimulateQueryButton = function () {\n    const updateRegExp = new RegExp('^\\\\s*UPDATE\\\\s+((`[^`]+`)|([A-Za-z0-9_$]+))\\\\s+SET\\\\s', 'i');\n    const deleteRegExp = new RegExp('^\\\\s*DELETE\\\\s+FROM\\\\s', 'i');\n    let query = '';\n\n    if (window.codeMirrorEditor) {\n        query = window.codeMirrorEditor.getValue();\n    } else {\n        query = $('#sqlquery').val();\n    }\n\n    const $simulateDml = $('#simulate_dml');\n    if (updateRegExp.test(query) || deleteRegExp.test(query)) {\n        if (! $simulateDml.length) {\n            $('#button_submit_query').before(\n                '<input type=\"button\" id=\"simulate_dml\"' +\n                'tabindex=\"199\" class=\"btn btn-primary\" value=\"' + window.Messages.strSimulateDML + '\">'\n            );\n        }\n    } else {\n        if ($simulateDml.length) {\n            $simulateDml.remove();\n        }\n    }\n};\n\n/**\n * selects the content of a given object, f.e. a textarea\n *\n * @param {HTMLTextAreaElement} element Element of which the content will be selected\n */\nconst selectContent = function (element) {\n    if (onlyOnceElements[element.name]) {\n        return;\n    }\n\n    onlyOnceElements[element.name] = true;\n\n    if (sqlBoxLocked) {\n        return;\n    }\n\n    element.select();\n};\n\n/**\n * Sets current value for query box.\n * @param {string} query\n * @return {void}\n */\nconst setQuery = function (query) {\n    if (window.codeMirrorEditor) {\n        window.codeMirrorEditor.setValue(query);\n        window.codeMirrorEditor.focus();\n    } else if (document.sqlform) {\n        document.sqlform.sql_query.value = query;\n        document.sqlform.sql_query.focus();\n    }\n};\n\n/**\n * Create quick sql statements.\n *\n * @param {'clear'|'format'|'saved'|'selectall'|'select'|'insert'|'update'|'delete'} queryType\n *\n */\nconst insertQuery = function (queryType) {\n    var table;\n    if (queryType === 'clear') {\n        setQuery('');\n        return;\n    } else if (queryType === 'format') {\n        if (window.codeMirrorEditor) {\n            $('#querymessage').html(window.Messages.strFormatting +\n                '&nbsp;<img class=\"ajaxIcon\" src=\"' +\n                themeImagePath + 'ajax_clock_small.gif\" alt=\"\">');\n            var params = {\n                'ajax_request': true,\n                'sql': window.codeMirrorEditor.getValue(),\n                'server': CommonParams.get('server')\n            };\n            $.ajax({\n                type: 'POST',\n                url: 'index.php?route=/database/sql/format',\n                data: params,\n                success: function (data) {\n                    if (data.success) {\n                        window.codeMirrorEditor.setValue(data.sql);\n                    }\n                    $('#querymessage').html('');\n                },\n                error: function () {\n                    $('#querymessage').html('');\n                }\n            });\n        }\n        return;\n    } else if (queryType === 'saved') {\n        var db = $('input[name=\"db\"]').val();\n        table = $('input[name=\"table\"]').val();\n        var key = db;\n        if (table !== undefined) {\n            key += '.' + table;\n        }\n        key = 'autoSavedSql_' + key;\n        if (isStorageSupported('localStorage') &&\n            typeof window.localStorage.getItem(key) === 'string') {\n            setQuery(window.localStorage.getItem(key));\n        } else if (window.Cookies.get(key, { path: CommonParams.get('rootPath') })) {\n            setQuery(window.Cookies.get(key, { path: CommonParams.get('rootPath') }));\n        } else {\n            ajaxShowMessage(window.Messages.strNoAutoSavedQuery);\n        }\n        return;\n    }\n\n    var query = '';\n    var myListBox = document.sqlform.dummy;\n    table = document.sqlform.table.value;\n\n    if (myListBox.options.length > 0) {\n        sqlBoxLocked = true;\n        var columnsList = '';\n        var valDis = '';\n        var editDis = '';\n        var NbSelect = 0;\n        for (var i = 0; i < myListBox.options.length; i++) {\n            NbSelect++;\n            if (NbSelect > 1) {\n                columnsList += ', ';\n                valDis += ',';\n                editDis += ',';\n            }\n            columnsList += myListBox.options[i].value;\n            valDis += '\\'[value-' + NbSelect + ']\\'';\n            editDis += myListBox.options[i].value + '=\\'[value-' + NbSelect + ']\\'';\n        }\n        if (queryType === 'selectall') {\n            query = 'SELECT * FROM `' + table + '` WHERE 1';\n        } else if (queryType === 'select') {\n            query = 'SELECT ' + columnsList + ' FROM `' + table + '` WHERE 1';\n        } else if (queryType === 'insert') {\n            query = 'INSERT INTO `' + table + '`(' + columnsList + ') VALUES (' + valDis + ')';\n        } else if (queryType === 'update') {\n            query = 'UPDATE `' + table + '` SET ' + editDis + ' WHERE 1';\n        } else if (queryType === 'delete') {\n            query = 'DELETE FROM `' + table + '` WHERE 0';\n        }\n        setQuery(query);\n        sqlBoxLocked = false;\n    }\n};\n\n/**\n * Inserts multiple fields.\n *\n */\nconst insertValueQuery = function () {\n    var myQuery = document.sqlform.sql_query;\n    var myListBox = document.sqlform.dummy;\n\n    if (myListBox.options.length > 0) {\n        sqlBoxLocked = true;\n        var columnsList = '';\n        var NbSelect = 0;\n        for (var i = 0; i < myListBox.options.length; i++) {\n            if (myListBox.options[i].selected) {\n                NbSelect++;\n                if (NbSelect > 1) {\n                    columnsList += ', ';\n                }\n                columnsList += myListBox.options[i].value;\n            }\n        }\n\n        /* CodeMirror support */\n        if (window.codeMirrorEditor) {\n            window.codeMirrorEditor.replaceSelection(columnsList);\n            window.codeMirrorEditor.focus();\n            // IE support\n        } else if (document.selection) {\n            myQuery.focus();\n            var sel = document.selection.createRange();\n            sel.text = columnsList;\n            // MOZILLA/NETSCAPE support\n        } else if (document.sqlform.sql_query.selectionStart || document.sqlform.sql_query.selectionStart === '0') {\n            var startPos = document.sqlform.sql_query.selectionStart;\n            var endPos = document.sqlform.sql_query.selectionEnd;\n            var SqlString = document.sqlform.sql_query.value;\n\n            myQuery.value = SqlString.substring(0, startPos) + columnsList + SqlString.substring(endPos, SqlString.length);\n            myQuery.focus();\n        } else {\n            myQuery.value += columnsList;\n        }\n\n        // eslint-disable-next-line no-unused-vars\n        sqlBoxLocked = false;\n    }\n};\n\n/**\n * Unbind all event handlers before tearing down a page\n */\nAJAX.registerTeardown('sql.js', function () {\n    $(document).off('click', 'a.delete_row.ajax');\n    $(document).off('submit', '.bookmarkQueryForm');\n    $('input#bkm_label').off('input');\n    $(document).off('makegrid', '.sqlqueryresults');\n    $('#togglequerybox').off('click');\n    $(document).off('click', '#button_submit_query');\n    $(document).off('change', '#id_bookmark');\n    $('input[name=\\'bookmark_variable\\']').off('keypress');\n    $(document).off('submit', '#sqlqueryform.ajax');\n    $(document).off('click', 'input[name=navig].ajax');\n    $(document).off('submit', 'form[name=\\'displayOptionsForm\\'].ajax');\n    $(document).off('mouseenter', 'th.column_heading.pointer');\n    $(document).off('mouseleave', 'th.column_heading.pointer');\n    $(document).off('click', 'th.column_heading.marker');\n    $(document).off('scroll', window);\n    $(document).off('keyup', '.filter_rows');\n    if (window.codeMirrorEditor) {\n        window.codeMirrorEditor.off('change');\n    } else {\n        $('#sqlquery').off('input propertychange');\n    }\n    $('body').off('click', '.navigation .showAllRows');\n    $('body').off('click', 'a.browse_foreign');\n    $('body').off('click', '#simulate_dml');\n    $('body').off('keyup', '#sqlqueryform');\n    $('body').off('click', 'form[name=\"resultsForm\"].ajax button[name=\"submit_mult\"], form[name=\"resultsForm\"].ajax input[name=\"submit_mult\"]');\n    $(document).off('submit', '.maxRowsForm');\n    $(document).off('click', '#view_as');\n    $(document).off('click', '#sqlquery');\n    $(document).off('click', 'input.sqlbutton');\n    $('#fieldsSelect').off('dblclick');\n});\n\n/**\n * @description <p>Ajax scripts for sql and browse pages</p>\n *\n * Actions ajaxified here:\n * <ul>\n * <li>Retrieve results of an SQL query</li>\n * <li>Paginate the results table</li>\n * <li>Sort the results table</li>\n * <li>Change table according to display options</li>\n * <li>Grid editing of data</li>\n * <li>Saving a bookmark</li>\n * </ul>\n *\n * @name        document.ready\n * @memberOf    jQuery\n */\nAJAX.registerOnload('sql.js', function () {\n    if (window.codeMirrorEditor || document.sqlform) {\n        Sql.setShowThisQuery();\n    }\n    $(function () {\n        if (window.codeMirrorEditor) {\n            window.codeMirrorEditor.on('change', function () {\n                Sql.autoSave(window.codeMirrorEditor.getValue());\n            });\n        } else {\n            $('#sqlquery').on('input propertychange', function () {\n                Sql.autoSave($('#sqlquery').val());\n            });\n            var useLocalStorageValue = isStorageSupported('localStorage') && typeof window.localStorage.autoSavedSqlSort !== 'undefined';\n            // Save sql query with sort\n            if ($('#RememberSorting') !== undefined && $('#RememberSorting').is(':checked')) {\n                $('select[name=\"sql_query\"]').on('change', function () {\n                    Sql.autoSaveWithSort($(this).val());\n                });\n                $('.sortlink').on('click', function () {\n                    Sql.clearAutoSavedSort();\n                });\n            } else {\n                Sql.clearAutoSavedSort();\n            }\n            // If sql query with sort for current table is stored, change sort by key select value\n            var sortStoredQuery = useLocalStorageValue ? window.localStorage.autoSavedSqlSort : window.Cookies.get('autoSavedSqlSort', { path: CommonParams.get('rootPath') });\n            if (typeof sortStoredQuery !== 'undefined' && sortStoredQuery !== $('select[name=\"sql_query\"]').val() && $('select[name=\"sql_query\"] option[value=\"' + sortStoredQuery + '\"]').length !== 0) {\n                $('select[name=\"sql_query\"]').val(sortStoredQuery).trigger('change');\n            }\n        }\n    });\n\n    // Delete row from SQL results\n    $(document).on('click', 'a.delete_row.ajax', function (e) {\n        e.preventDefault();\n        var question = window.sprintf(window.Messages.strDoYouReally, escapeHtml($(this).closest('td').find('div').text()));\n        var $link = $(this);\n        $link.confirm(question, $link.attr('href'), function (url) {\n            ajaxShowMessage();\n            var argsep = CommonParams.get('arg_separator');\n            var params = 'ajax_request=1' + argsep + 'is_js_confirmed=1';\n            var postData = $link.getPostData();\n            if (postData) {\n                params += argsep + postData;\n            }\n            $.post(url, params, function (data) {\n                if (data.success) {\n                    ajaxShowMessage(data.message);\n                    $link.closest('tr').remove();\n                } else {\n                    ajaxShowMessage(data.error, false);\n                }\n            });\n        });\n    });\n\n    // Ajaxification for 'Bookmark this SQL query'\n    $(document).on('submit', '.bookmarkQueryForm', function (e) {\n        e.preventDefault();\n        ajaxShowMessage();\n        var argsep = CommonParams.get('arg_separator');\n        $.post($(this).attr('action'), 'ajax_request=1' + argsep + $(this).serialize(), function (data) {\n            if (data.success) {\n                ajaxShowMessage(data.message);\n            } else {\n                ajaxShowMessage(data.error, false);\n            }\n        });\n    });\n\n    /* Hides the bookmarkoptions checkboxes when the bookmark label is empty */\n    $('input#bkm_label').on('input', function () {\n        $('input#id_bkm_all_users, input#id_bkm_replace')\n            .parent()\n            .toggle($(this).val().length > 0);\n    }).trigger('input');\n\n    /**\n     * Attach Event Handler for 'Copy to clipboard'\n     */\n    $(document).on('click', '#copyToClipBoard', function (event) {\n        event.preventDefault();\n\n        var textArea = document.createElement('textarea');\n\n        //\n        // *** This styling is an extra step which is likely not required. ***\n        //\n        // Why is it here? To ensure:\n        // 1. the element is able to have focus and selection.\n        // 2. if element was to flash render it has minimal visual impact.\n        // 3. less flakyness with selection and copying which **might** occur if\n        //    the textarea element is not visible.\n        //\n        // The likelihood is the element won't even render, not even a flash,\n        // so some of these are just precautions. However in IE the element\n        // is visible whilst the popup box asking the user for permission for\n        // the web page to copy to the clipboard.\n        //\n\n        // Place in top-left corner of screen regardless of scroll position.\n        textArea.style.position = 'fixed';\n        textArea.style.top = 0;\n        textArea.style.left = 0;\n\n        // Ensure it has a small width and height. Setting to 1px / 1em\n        // doesn't work as this gives a negative w/h on some browsers.\n        textArea.style.width = '2em';\n        textArea.style.height = '2em';\n\n        // We don't need padding, reducing the size if it does flash render.\n        textArea.style.padding = 0;\n\n        // Clean up any borders.\n        textArea.style.border = 'none';\n        textArea.style.outline = 'none';\n        textArea.style.boxShadow = 'none';\n\n        // Avoid flash of white box if rendered for any reason.\n        textArea.style.background = 'transparent';\n\n        textArea.value = '';\n\n        $('#server-breadcrumb a').each(function () {\n            textArea.value += $(this).data('raw-text') + '/';\n        });\n        textArea.value += '\\t\\t' + window.location.href;\n        textArea.value += '\\n';\n        $('.alert-success').each(function () {\n            textArea.value += $(this).text() + '\\n\\n';\n        });\n\n        $('.sql pre').each(function () {\n            textArea.value += $(this).text() + '\\n\\n';\n        });\n\n        $('.table_results .column_heading a').each(function () {\n            // Don't copy ordering number text within <small> tag\n            textArea.value += $(this).clone().find('small').remove().end().text() + '\\t';\n        });\n\n        textArea.value += '\\n';\n        $('.table_results tbody tr').each(function () {\n            $(this).find('.data span').each(function () {\n                // Extract <em> tag for NULL values before converting to string to not mess up formatting\n                var data = $(this).find('em').length !== 0 ? $(this).find('em')[0] : this;\n                textArea.value += $(data).text() + '\\t';\n            });\n            textArea.value += '\\n';\n        });\n\n        // eslint-disable-next-line compat/compat\n        document.body.appendChild(textArea);\n\n        textArea.select();\n\n        try {\n            document.execCommand('copy');\n        } catch (err) {\n            alert('Sorry! Unable to copy');\n        }\n\n        // eslint-disable-next-line compat/compat\n        document.body.removeChild(textArea);\n    }); // end of Copy to Clipboard action\n\n    /**\n     * Attach the {@link makegrid} function to a custom event, which will be\n     * triggered manually everytime the table of results is reloaded\n     * @memberOf    jQuery\n     */\n    $(document).on('makegrid', '.sqlqueryresults', function () {\n        $('.table_results').each(function () {\n            window.makeGrid(this);\n        });\n    });\n\n    /**\n     * Append the \"Show/Hide query box\" message to the query input form\n     *\n     * @memberOf jQuery\n     * @name    appendToggleSpan\n     */\n    // do not add this link more than once\n    if (! $('#sqlqueryform').find('button').is('#togglequerybox')) {\n        $('<button class=\"btn btn-secondary\" id=\"togglequerybox\"></button>')\n            .html(window.Messages.strHideQueryBox)\n            .appendTo('#sqlqueryform')\n            // initially hidden because at this point, nothing else\n            // appears under the link\n            .hide();\n\n        // Attach the toggling of the query box visibility to a click\n        $('#togglequerybox').on('click', function () {\n            var $link = $(this);\n            $link.siblings().slideToggle('fast');\n            if ($link.text() === window.Messages.strHideQueryBox) {\n                $link.text(window.Messages.strShowQueryBox);\n                // cheap trick to add a spacer between the menu tabs\n                // and \"Show query box\"; feel free to improve!\n                $('#togglequerybox_spacer').remove();\n                $link.before('<br id=\"togglequerybox_spacer\">');\n            } else {\n                $link.text(window.Messages.strHideQueryBox);\n            }\n            // avoid default click action\n            return false;\n        });\n    }\n\n\n    /**\n     * Event handler for sqlqueryform.ajax button_submit_query\n     *\n     * @memberOf    jQuery\n     */\n    $(document).on('click', '#button_submit_query', function () {\n        $('.alert-success,.alert-danger').hide();\n        // hide already existing error or success message\n        var $form = $(this).closest('form');\n        // the Go button related to query submission was clicked,\n        // instead of the one related to Bookmarks, so empty the\n        // id_bookmark selector to avoid misinterpretation in\n        // /import about what needs to be done\n        $form.find('select[name=id_bookmark]').val('');\n        var isShowQuery = $('input[name=\"show_query\"]').is(':checked');\n        if (isShowQuery) {\n            window.localStorage.showThisQuery = '1';\n            var db = $('input[name=\"db\"]').val();\n            var table = $('input[name=\"table\"]').val();\n            var query;\n            if (window.codeMirrorEditor) {\n                query = window.codeMirrorEditor.getValue();\n            } else {\n                query = $('#sqlquery').val();\n            }\n            Sql.showThisQuery(db, table, query);\n        } else {\n            window.localStorage.showThisQuery = '0';\n        }\n    });\n\n    /**\n     * Event handler to show appropriate number of variable boxes\n     * based on the bookmarked query\n     */\n    $(document).on('change', '#id_bookmark', function () {\n        var varCount = $(this).find('option:selected').data('varcount');\n        if (typeof varCount === 'undefined') {\n            varCount = 0;\n        }\n\n        var $varDiv = $('#bookmarkVariables');\n        $varDiv.empty();\n        for (var i = 1; i <= varCount; i++) {\n            $varDiv.append($('<div class=\"mb-3\">'));\n            $varDiv.append($('<label for=\"bookmarkVariable' + i + '\">' + window.sprintf(window.Messages.strBookmarkVariable, i) + '</label>'));\n            $varDiv.append($('<input class=\"form-control\" type=\"text\" size=\"10\" name=\"bookmark_variable[' + i + ']\" id=\"bookmarkVariable' + i + '\">'));\n            $varDiv.append($('</div>'));\n        }\n\n        if (varCount === 0) {\n            $varDiv.parent().hide();\n        } else {\n            $varDiv.parent().show();\n        }\n    });\n\n    /**\n     * Event handler for hitting enter on sqlqueryform bookmark_variable\n     * (the Variable textfield in Bookmarked SQL query section)\n     *\n     * @memberOf    jQuery\n     */\n    $('input[name=bookmark_variable]').on('keypress', function (event) {\n        // force the 'Enter Key' to implicitly click the #button_submit_bookmark\n        var keycode = (event.keyCode ? event.keyCode : (event.which ? event.which : event.charCode));\n        if (keycode === 13) { // keycode for enter key\n            // When you press enter in the sqlqueryform, which\n            // has 2 submit buttons, the default is to run the\n            // #button_submit_query, because of the tabindex\n            // attribute.\n            // This submits #button_submit_bookmark instead,\n            // because when you are in the Bookmarked SQL query\n            // section and hit enter, you expect it to do the\n            // same action as the Go button in that section.\n            $('#button_submit_bookmark').trigger('click');\n            return false;\n        } else {\n            return true;\n        }\n    });\n\n    /**\n     * Ajax Event handler for 'SQL Query Submit'\n     *\n     * @see         ajaxShowMessage()\n     * @memberOf    jQuery\n     * @name        sqlqueryform_submit\n     */\n    $(document).on('submit', '#sqlqueryform.ajax', function (event) {\n        event.preventDefault();\n\n        var $form = $(this);\n        if (window.codeMirrorEditor) {\n            $form[0].elements.sql_query.value = window.codeMirrorEditor.getValue();\n        }\n        if (! Functions.checkSqlQuery($form[0])) {\n            return false;\n        }\n\n        // remove any div containing a previous error message\n        $('.alert-danger').remove();\n\n        var $msgbox = ajaxShowMessage();\n        var $sqlqueryresultsouter = $('#sqlqueryresultsouter');\n\n        Functions.prepareForAjaxRequest($form);\n\n        var argsep = CommonParams.get('arg_separator');\n        $.post($form.attr('action'), $form.serialize() + argsep + 'ajax_page_request=true', function (data) {\n            if (typeof data !== 'undefined' && data.success === true) {\n                // success happens if the query returns rows or not\n\n                // show a message that stays on screen\n                if (typeof data.action_bookmark !== 'undefined') {\n                    // view only\n                    if ('1' === data.action_bookmark) {\n                        $('#sqlquery').text(data.sql_query);\n                        // send to codemirror if possible\n                        setQuery(data.sql_query);\n                    }\n                    // delete\n                    if ('2' === data.action_bookmark) {\n                        $('#id_bookmark option[value=\\'' + data.id_bookmark + '\\']').remove();\n                        // if there are no bookmarked queries now (only the empty option),\n                        // remove the bookmark section\n                        if ($('#id_bookmark option').length === 1) {\n                            $('#fieldsetBookmarkOptions').hide();\n                            $('#fieldsetBookmarkOptionsFooter').hide();\n                        }\n                    }\n                }\n                $sqlqueryresultsouter\n                    .show()\n                    .html(data.message);\n                highlightSql($sqlqueryresultsouter);\n\n                if (data.menu) {\n                    history.replaceState({\n                        menu: data.menu\n                    },\n                    null\n                    );\n                    AJAX.handleMenu.replace(data.menu);\n                }\n\n                if (data.params) {\n                    Navigation.update(CommonParams.setAll(data.params));\n                }\n\n                if (typeof data.ajax_reload !== 'undefined') {\n                    if (data.ajax_reload.reload) {\n                        if (data.ajax_reload.table_name) {\n                            Navigation.update(CommonParams.set('table', data.ajax_reload.table_name));\n                            refreshMainContent();\n                        } else {\n                            Navigation.reload();\n                        }\n                    }\n                } else if (typeof data.reload !== 'undefined') {\n                    // this happens if a USE or DROP command was typed\n                    if (data.db !== CommonParams.get('db')) {\n                        Navigation.update(CommonParams.setAll({ 'db': data.db, 'table': '' }));\n                    }\n\n                    var url;\n                    if (data.db) {\n                        if (data.table) {\n                            url = 'index.php?route=/table/sql';\n                        } else {\n                            url = 'index.php?route=/database/sql';\n                        }\n                    } else {\n                        url = 'index.php?route=/server/sql';\n                    }\n                    refreshMainContent(url);\n                    AJAX.callback = () => {\n                        $('#sqlqueryresultsouter')\n                            .show()\n                            .html(data.message);\n                        highlightSql($('#sqlqueryresultsouter'));\n                    };\n                }\n\n                $('.sqlqueryresults').trigger('makegrid');\n                $('#togglequerybox').show();\n\n                if (typeof data.action_bookmark === 'undefined') {\n                    if ($('#sqlqueryform input[name=\"retain_query_box\"]').is(':checked') !== true) {\n                        if ($('#togglequerybox').siblings(':visible').length > 0) {\n                            $('#togglequerybox').trigger('click');\n                        }\n                    }\n                }\n            } else if (typeof data !== 'undefined' && data.success === false) {\n                // show an error message that stays on screen\n                $sqlqueryresultsouter\n                    .show()\n                    .html(data.error);\n                $('html, body').animate({ scrollTop: $(document).height() }, 200);\n            }\n            ajaxRemoveMessage($msgbox);\n        }); // end $.post()\n    }); // end SQL Query submit\n\n    /**\n     * Ajax Event handler for the display options\n     * @memberOf    jQuery\n     * @name        displayOptionsForm_submit\n     */\n    $(document).on('submit', 'form[name=\\'displayOptionsForm\\'].ajax', function (event) {\n        event.preventDefault();\n\n        var $form = $(this);\n\n        var $msgbox = ajaxShowMessage();\n        var argsep = CommonParams.get('arg_separator');\n        $.post($form.attr('action'), $form.serialize() + argsep + 'ajax_request=true', function (data) {\n            ajaxRemoveMessage($msgbox);\n            var $sqlqueryresults = $form.parents('.sqlqueryresults');\n            $sqlqueryresults\n                .html(data.message)\n                .trigger('makegrid');\n            highlightSql($sqlqueryresults);\n        }); // end $.post()\n    }); // end displayOptionsForm handler\n\n    // Filter row handling. --STARTS--\n    $(document).on('keyup', '.filter_rows', function () {\n        var uniqueId = $(this).data('for');\n        var $targetTable = $('.table_results[data-uniqueId=\\'' + uniqueId + '\\']');\n        var $headerCells = $targetTable.find('th[data-column]');\n        var targetColumns = [];\n\n        // To handle colspan=4, in case of edit, copy, etc options (Table row links). Add 3 dummy <TH> elements - only when the Table row links are NOT on the \"Right\"\n        var rowLinksLocation = ($targetTable.find('thead > tr > th')).first();\n        var dummyTh = (rowLinksLocation[0].getAttribute('colspan') !== null) ? '<th class=\"hide dummy_th\"></th><th class=\"hide dummy_th\"></th><th class=\"hide dummy_th\"></th>' : ''; // Selecting columns that will be considered for filtering and searching.\n\n        // Selecting columns that will be considered for filtering and searching.\n        $headerCells.each(function () {\n            targetColumns.push($(this).text().trim());\n        });\n\n        var phrase = $(this).val();\n        // Set same value to both Filter rows fields.\n        $('.filter_rows[data-for=\\'' + uniqueId + '\\']').not(this).val(phrase);\n        // Handle colspan.\n        $targetTable.find('thead > tr').prepend(dummyTh);\n        $.uiTableFilter($targetTable, phrase, targetColumns);\n        $targetTable.find('th.dummy_th').remove();\n    });\n    // Filter row handling. --ENDS--\n\n    // Prompt to confirm on Show All\n    $('body').on('click', '.navigation .showAllRows', function (e) {\n        e.preventDefault();\n        var $form = $(this).parents('form');\n\n        Sql.submitShowAllForm = function () {\n            var argsep = CommonParams.get('arg_separator');\n            var submitData = $form.serialize() + argsep + 'ajax_request=true' + argsep + 'ajax_page_request=true';\n            ajaxShowMessage();\n            AJAX.source = $form;\n            $.post($form.attr('action'), submitData, AJAX.responseHandler);\n        };\n\n        if (! $(this).is(':checked')) { // already showing all rows\n            Sql.submitShowAllForm();\n        } else {\n            $form.confirm(window.Messages.strShowAllRowsWarning, $form.attr('action'), function () {\n                Sql.submitShowAllForm();\n            });\n        }\n    });\n\n    $('body').on('keyup', '#sqlqueryform', function () {\n        handleSimulateQueryButton();\n    });\n\n    /**\n     * Ajax event handler for 'Simulate DML'.\n     */\n    $('body').on('click', '#simulate_dml', function () {\n        var $form = $('#sqlqueryform');\n        var query = '';\n        var delimiter = $('#id_sql_delimiter').val();\n        var dbName = $form.find('input[name=\"db\"]').val();\n\n        if (window.codeMirrorEditor) {\n            query = window.codeMirrorEditor.getValue();\n        } else {\n            query = $('#sqlquery').val();\n        }\n\n        if (query.length === 0) {\n            alert(window.Messages.strFormEmpty);\n            $('#sqlquery').trigger('focus');\n            return false;\n        }\n\n        var $msgbox = ajaxShowMessage();\n        $.ajax({\n            type: 'POST',\n            url: 'index.php?route=/import/simulate-dml',\n            data: {\n                'server': CommonParams.get('server'),\n                'db': dbName,\n                'ajax_request': '1',\n                'sql_query': query,\n                'sql_delimiter': delimiter\n            },\n            success: function (response) {\n                ajaxRemoveMessage($msgbox);\n                if (response.success) {\n                    var dialogContent = '<div class=\"preview_sql\">';\n                    if (response.sql_data) {\n                        var len = response.sql_data.length;\n                        for (var i = 0; i < len; i++) {\n                            dialogContent += '<strong>' + window.Messages.strSQLQuery +\n                                '</strong>' + response.sql_data[i].sql_query +\n                                window.Messages.strMatchedRows +\n                                ' <a href=\"' + response.sql_data[i].matched_rows_url +\n                                '\">' + response.sql_data[i].matched_rows + '</a><br>';\n                            if (i < len - 1) {\n                                dialogContent += '<hr>';\n                            }\n                        }\n                    } else {\n                        dialogContent += response.message;\n                    }\n                    dialogContent += '</div>';\n                    var $dialogContent = $(dialogContent);\n                    var modal = $('#simulateDmlModal');\n                    modal.modal('show');\n                    modal.find('.modal-body').first().html($dialogContent);\n                    modal.on('shown.bs.modal', function () {\n                        highlightSql(modal);\n                    });\n                } else {\n                    ajaxShowMessage(response.error);\n                }\n            },\n            error: function () {\n                ajaxShowMessage(window.Messages.strErrorProcessingRequest);\n            }\n        });\n    });\n\n    /**\n     * Handles multi submits of results browsing page such as edit, delete and export\n     */\n    $('body').on('click', 'form[name=\"resultsForm\"].ajax button[name=\"submit_mult\"], form[name=\"resultsForm\"].ajax input[name=\"submit_mult\"]', function (e) {\n        e.preventDefault();\n        var $button = $(this);\n        var action = $button.val();\n        var $form = $button.closest('form');\n        var argsep = CommonParams.get('arg_separator');\n        var submitData = $form.serialize() + argsep + 'ajax_request=true' + argsep + 'ajax_page_request=true' + argsep;\n        ajaxShowMessage();\n        AJAX.source = $form;\n\n        var url;\n        if (action === 'edit') {\n            submitData = submitData + argsep + 'default_action=update';\n            url = 'index.php?route=/table/change/rows';\n        } else if (action === 'copy') {\n            submitData = submitData + argsep + 'default_action=insert';\n            url = 'index.php?route=/table/change/rows';\n        } else if (action === 'export') {\n            url = 'index.php?route=/table/export/rows';\n        } else if (action === 'delete') {\n            url = 'index.php?route=/table/delete/confirm';\n        } else {\n            return;\n        }\n\n        $.post(url, submitData, AJAX.responseHandler);\n    });\n\n    $(document).on('submit', '.maxRowsForm', function () {\n        var unlimNumRows = $(this).find('input[name=\"unlim_num_rows\"]').val();\n\n        var maxRowsCheck = Functions.checkFormElementInRange(\n            this,\n            'session_max_rows',\n            window.Messages.strNotValidRowNumber,\n            1\n        );\n        var posCheck = Functions.checkFormElementInRange(\n            this,\n            'pos',\n            window.Messages.strNotValidRowNumber,\n            0,\n            unlimNumRows > 0 ? unlimNumRows - 1 : null\n        );\n\n        return maxRowsCheck && posCheck;\n    });\n\n    $('#insertBtn').on('click', function () {\n        insertValueQuery();\n    });\n\n    $('#view_as').on('click', function () {\n        selectContent(this);\n    });\n\n    $('#sqlquery').on('click', function () {\n        if ($(this).data('textarea-auto-select') === true) {\n            selectContent(this);\n        }\n    });\n\n    $(document).on('click', 'input.sqlbutton', function (evt) {\n        insertQuery(evt.target.id);\n        handleSimulateQueryButton();\n        return false;\n    });\n\n    $('#fieldsSelect').on('dblclick', () => {\n        insertValueQuery();\n    });\n});\n\n/**\n * Starting from some th, change the class of all td under it.\n * If isAddClass is specified, it will be used to determine whether to add or remove the class.\n *\n * @param $thisTh\n * @param {string} newClass\n * @param isAddClass\n */\nSql.changeClassForColumn = function ($thisTh, newClass, isAddClass) {\n    // index 0 is the th containing the big T\n    var thIndex = $thisTh.index();\n    var hasBigT = $thisTh.closest('tr').children().first().hasClass('column_action');\n    // .eq() is zero-based\n    if (hasBigT) {\n        thIndex--;\n    }\n    var $table = $thisTh.parents('.table_results');\n    if (! $table.length) {\n        $table = $thisTh.parents('table').siblings('.table_results');\n    }\n    var $tds = $table.find('tbody tr').find('td.data').eq(thIndex);\n    if (isAddClass === undefined) {\n        $tds.toggleClass(newClass);\n    } else {\n        $tds.toggleClass(newClass, isAddClass);\n    }\n};\n\n/**\n * Handles browse foreign values modal dialog\n *\n * @param {object} $thisA reference to the browse foreign value link\n */\nSql.browseForeignDialog = function ($thisA) {\n    var formId = '#browse_foreign_form';\n    var showAllId = '#foreign_showAll';\n    var tableId = '#browse_foreign_table';\n    var filterId = '#input_foreign_filter';\n    var $dialog = null;\n    var argSep = CommonParams.get('arg_separator');\n    var params = $thisA.getPostData();\n    params += argSep + 'ajax_request=true';\n    $.post($thisA.attr('href'), params, function (data) {\n        // Creates browse foreign value dialog\n        $dialog = $('<div>').append(data.message).dialog({\n            classes: {\n                'ui-dialog-titlebar-close': 'btn-close'\n            },\n            title: window.Messages.strBrowseForeignValues,\n            width: Math.min($(window).width() - 100, 700),\n            maxHeight: $(window).height() - 100,\n            dialogClass: 'browse_foreign_modal',\n            close: function () {\n                // remove event handlers attached to elements related to dialog\n                $(tableId).off('click', 'td a.foreign_value');\n                $(formId).off('click', showAllId);\n                $(formId).off('submit');\n                // remove dialog itself\n                $(this).remove();\n            },\n            modal: true\n        });\n    }).done(function () {\n        var showAll = false;\n        $(tableId).on('click', 'td a.foreign_value', function (e) {\n            e.preventDefault();\n            var $input = $thisA.prev('input[type=text]');\n            // Check if input exists or get CEdit edit_box\n            if ($input.length === 0) {\n                $input = $thisA.closest('.edit_area').prev('.edit_box');\n            }\n            // Set selected value as input value\n            $input.val($(this).data('key'));\n            // Unchecks the Ignore checkbox for the current row\n            $input.trigger('change');\n\n            $dialog.dialog('close');\n        });\n        $(formId).on('click', showAllId, function () {\n            showAll = true;\n        });\n        $(formId).on('submit', function (e) {\n            e.preventDefault();\n            // if filter value is not equal to old value\n            // then reset page number to 1\n            if ($(filterId).val() !== $(filterId).data('old')) {\n                $(formId).find('select[name=pos]').val('0');\n            }\n            var postParams = $(this).serializeArray();\n            // if showAll button was clicked to submit form then\n            // add showAll button parameter to form\n            if (showAll) {\n                postParams.push({\n                    name: $(showAllId).attr('name'),\n                    value: $(showAllId).val()\n                });\n            }\n            // updates values in dialog\n            $.post($(this).attr('action') + '&ajax_request=1', postParams, function (data) {\n                var $obj = $('<div>').html(data.message);\n                $(formId).html($obj.find(formId).html());\n                $(tableId).html($obj.find(tableId).html());\n            });\n            showAll = false;\n        });\n    });\n};\n\n/**\n * Get the auto saved query key\n * @return {String}\n */\nSql.getAutoSavedKey = function () {\n    var db = $('input[name=\"db\"]').val();\n    var table = $('input[name=\"table\"]').val();\n    var key = db;\n    if (table !== undefined) {\n        key += '.' + table;\n    }\n    return 'autoSavedSql_' + key;\n};\n\nSql.checkSavedQuery = function () {\n    var key = Sql.getAutoSavedKey();\n\n    if (isStorageSupported('localStorage') &&\n        typeof window.localStorage.getItem(key) === 'string') {\n        ajaxShowMessage(window.Messages.strPreviousSaveQuery);\n    } else if (window.Cookies.get(key, { path: CommonParams.get('rootPath') })) {\n        ajaxShowMessage(window.Messages.strPreviousSaveQuery);\n    }\n};\n\nAJAX.registerOnload('sql.js', function () {\n    $('body').on('click', 'a.browse_foreign', function (e) {\n        e.preventDefault();\n        Sql.browseForeignDialog($(this));\n    });\n\n    /**\n     * vertical column highlighting in horizontal mode when hovering over the column header\n     */\n    $(document).on('mouseenter', 'th.column_heading.pointer', function () {\n        Sql.changeClassForColumn($(this), 'hover', true);\n    });\n    $(document).on('mouseleave', 'th.column_heading.pointer', function () {\n        Sql.changeClassForColumn($(this), 'hover', false);\n    });\n\n    /**\n     * vertical column marking in horizontal mode when clicking the column header\n     */\n    $(document).on('click', 'th.column_heading.marker', function () {\n        Sql.changeClassForColumn($(this), 'marked');\n    });\n\n    /**\n     * create resizable table\n     */\n    $('.sqlqueryresults').trigger('makegrid');\n\n    /**\n     * Check if there is any saved query\n     */\n    if (window.codeMirrorEditor || document.sqlform) {\n        Sql.checkSavedQuery();\n    }\n});\n\n/**\n * Profiling Chart\n */\nSql.makeProfilingChart = function () {\n    if ($('#profilingchart').length === 0 ||\n        $('#profilingchart').html().length !== 0 ||\n        ! $.jqplot || ! $.jqplot.Highlighter || ! $.jqplot.PieRenderer\n    ) {\n        return;\n    }\n\n    var data = [];\n    $.each(JSON.parse($('#profilingChartData').html()), function (key, value) {\n        data.push([key, parseFloat(value)]);\n    });\n\n    // Remove chart and data divs contents\n    $('#profilingchart').html('').show();\n    $('#profilingChartData').html('');\n\n    createProfilingChart('profilingchart', data);\n};\n\n/**\n * initialize profiling data tables\n */\nSql.initProfilingTables = function () {\n    if (! $.tablesorter) {\n        return;\n    }\n    // Added to allow two direction sorting\n    $('#profiletable')\n        .find('thead th')\n        .off('click mousedown');\n\n    $('#profiletable').tablesorter({\n        widgets: ['zebra'],\n        sortList: [[0, 0]],\n        textExtraction: function (node) {\n            if (node.children.length > 0) {\n                return node.children[0].innerHTML;\n            } else {\n                return node.innerHTML;\n            }\n        }\n    });\n    // Added to allow two direction sorting\n    $('#profilesummarytable')\n        .find('thead th')\n        .off('click mousedown');\n\n    $('#profilesummarytable').tablesorter({\n        widgets: ['zebra'],\n        sortList: [[1, 1]],\n        textExtraction: function (node) {\n            if (node.children.length > 0) {\n                return node.children[0].innerHTML;\n            } else {\n                return node.innerHTML;\n            }\n        }\n    });\n};\n\nAJAX.registerOnload('sql.js', function () {\n    Sql.makeProfilingChart();\n    Sql.initProfilingTables();\n});\n"],"names":["$","AJAX","Functions","Navigation","CommonParams","highlightSql","ajaxRemoveMessage","ajaxShowMessage","createProfilingChart","escapeHtml","refreshMainContent","isStorageSupported","Sql","window","urlDecode","str","decodeURIComponent","replace","urlEncode","encodeURIComponent","autoSave","query","key","getAutoSavedKey","localStorage","setItem","Cookies","set","path","get","showThisQuery","db","table","showThisQueryObject","JSON","stringify","setShowThisQuery","val","undefined","storedDb","parse","storedTable","storedQuery","prop","codeMirrorEditor","setValue","document","sqlform","sql_query","value","autoSaveWithSort","clearAutoSavedSort","removeItem","getFieldName","$tableResults","$thisField","thisFieldIndex","index","leftActionExist","find","first","hasClass","leftActionSkip","attr","fieldName","eq","clone","children","remove","end","text","$heading","$tempColComment","detach","append","trim","sqlBoxLocked","onlyOnceElements","handleSimulateQueryButton","updateRegExp","RegExp","deleteRegExp","getValue","$simulateDml","test","length","before","Messages","strSimulateDML","selectContent","element","name","select","setQuery","focus","insertQuery","queryType","html","strFormatting","themeImagePath","params","ajax","type","url","data","success","sql","error","getItem","strNoAutoSavedQuery","myListBox","dummy","options","columnsList","valDis","editDis","NbSelect","i","insertValueQuery","myQuery","selected","replaceSelection","selection","sel","createRange","selectionStart","startPos","endPos","selectionEnd","SqlString","substring","registerTeardown","off","registerOnload","on","useLocalStorageValue","autoSavedSqlSort","is","sortStoredQuery","trigger","e","preventDefault","question","sprintf","strDoYouReally","closest","$link","confirm","argsep","postData","getPostData","post","message","serialize","parent","toggle","event","textArea","createElement","style","position","top","left","width","height","padding","border","outline","boxShadow","background","each","location","href","body","appendChild","execCommand","err","alert","removeChild","makeGrid","strHideQueryBox","appendTo","hide","siblings","slideToggle","strShowQueryBox","$form","isShowQuery","varCount","$varDiv","empty","strBookmarkVariable","show","keycode","keyCode","which","charCode","elements","checkSqlQuery","$msgbox","$sqlqueryresultsouter","prepareForAjaxRequest","action_bookmark","id_bookmark","menu","history","replaceState","handleMenu","update","setAll","ajax_reload","reload","table_name","callback","animate","scrollTop","$sqlqueryresults","parents","uniqueId","$targetTable","$headerCells","targetColumns","rowLinksLocation","dummyTh","getAttribute","push","phrase","not","prepend","uiTableFilter","submitShowAllForm","submitData","source","responseHandler","strShowAllRowsWarning","delimiter","dbName","strFormEmpty","response","dialogContent","sql_data","len","strSQLQuery","strMatchedRows","matched_rows_url","matched_rows","$dialogContent","modal","strErrorProcessingRequest","$button","action","unlimNumRows","maxRowsCheck","checkFormElementInRange","strNotValidRowNumber","posCheck","evt","target","id","changeClassForColumn","$thisTh","newClass","isAddClass","thIndex","hasBigT","$table","$tds","toggleClass","browseForeignDialog","$thisA","formId","showAllId","tableId","filterId","$dialog","argSep","dialog","classes","title","strBrowseForeignValues","Math","min","maxHeight","dialogClass","close","done","showAll","$input","prev","postParams","serializeArray","$obj","checkSavedQuery","strPreviousSaveQuery","makeProfilingChart","jqplot","Highlighter","PieRenderer","parseFloat","initProfilingTables","tablesorter","widgets","sortList","textExtraction","node","innerHTML"],"sourceRoot":""}