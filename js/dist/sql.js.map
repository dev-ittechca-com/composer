{"version":3,"file":"sql.js","mappings":"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","sources":["webpack://phpmyadmin/./js/src/sql.js"],"sourcesContent":["/**\n * @fileoverview    functions used wherever an sql query form is used\n *\n * @requires    jQuery\n * @requires    js/functions.js\n *\n * @test-module Sql\n */\n\n/* global Stickyfill */\n/* global isStorageSupported */ // js/config.js\n/* global codeMirrorEditor */ // js/functions.js\n/* global makeGrid */ // js/makegrid.js\n/* global sqlBoxLocked */ // js/functions.js\n\nvar Sql = {};\n\n/**\n * decode a string URL_encoded\n *\n * @param {string} str\n * @return {string} the URL-decoded string\n */\nSql.urlDecode = function (str) {\n    if (typeof str !== 'undefined') {\n        return decodeURIComponent(str.replace(/\\+/g, '%20'));\n    }\n};\n\n/**\n * encode a string URL_decoded\n *\n * @param {string} str\n * @return {string} the URL-encoded string\n */\nSql.urlEncode = function (str) {\n    if (typeof str !== 'undefined') {\n        return encodeURIComponent(str).replace(/%20/g, '+');\n    }\n};\n\n/**\n * Saves SQL query in local storage or cookie\n *\n * @param {string} query SQL query\n * @return {void}\n */\nSql.autoSave = function (query) {\n    if (query) {\n        var key = Sql.getAutoSavedKey();\n        if (isStorageSupported('localStorage')) {\n            window.localStorage.setItem(key, query);\n        } else {\n            Cookies.set(key, query);\n        }\n    }\n};\n\n/**\n * Saves SQL query in local storage or cookie\n *\n * @param {string} db database name\n * @param {string} table table name\n * @param {string} query SQL query\n * @return {void}\n */\nSql.showThisQuery = function (db, table, query) {\n    var showThisQueryObject = {\n        'db': db,\n        'table': table,\n        'query': query\n    };\n    if (isStorageSupported('localStorage')) {\n        window.localStorage.showThisQuery = 1;\n        window.localStorage.showThisQueryObject = JSON.stringify(showThisQueryObject);\n    } else {\n        Cookies.set('showThisQuery', 1);\n        Cookies.set('showThisQueryObject', JSON.stringify(showThisQueryObject));\n    }\n};\n\n/**\n * Set query to codemirror if show this query is\n * checked and query for the db and table pair exists\n */\nSql.setShowThisQuery = function () {\n    var db = $('input[name=\"db\"]').val();\n    var table = $('input[name=\"table\"]').val();\n    if (isStorageSupported('localStorage')) {\n        if (window.localStorage.showThisQueryObject !== undefined) {\n            var storedDb = JSON.parse(window.localStorage.showThisQueryObject).db;\n            var storedTable = JSON.parse(window.localStorage.showThisQueryObject).table;\n            var storedQuery = JSON.parse(window.localStorage.showThisQueryObject).query;\n        }\n        if (window.localStorage.showThisQuery !== undefined\n            && window.localStorage.showThisQuery === '1') {\n            $('input[name=\"show_query\"]').prop('checked', true);\n            if (db === storedDb && table === storedTable) {\n                if (codeMirrorEditor) {\n                    codeMirrorEditor.setValue(storedQuery);\n                } else if (document.sqlform) {\n                    document.sqlform.sql_query.value = storedQuery;\n                }\n            }\n        } else {\n            $('input[name=\"show_query\"]').prop('checked', false);\n        }\n    }\n};\n\n/**\n * Saves SQL query with sort in local storage or cookie\n *\n * @param {string} query SQL query\n * @return {void}\n */\nSql.autoSaveWithSort = function (query) {\n    if (query) {\n        if (isStorageSupported('localStorage')) {\n            window.localStorage.setItem('autoSavedSqlSort', query);\n        } else {\n            Cookies.set('autoSavedSqlSort', query);\n        }\n    }\n};\n\n/**\n * Clear saved SQL query with sort in local storage or cookie\n *\n * @return {void}\n */\nSql.clearAutoSavedSort = function () {\n    if (isStorageSupported('localStorage')) {\n        window.localStorage.removeItem('autoSavedSqlSort');\n    } else {\n        Cookies.set('autoSavedSqlSort', '');\n    }\n};\n\n/**\n * Get the field name for the current field.  Required to construct the query\n * for grid editing\n *\n * @param $tableResults enclosing results table\n * @param $thisField    jQuery object that points to the current field's tr\n *\n * @return {string}\n */\nSql.getFieldName = function ($tableResults, $thisField) {\n    var thisFieldIndex = $thisField.index();\n    // ltr or rtl direction does not impact how the DOM was generated\n    // check if the action column in the left exist\n    var leftActionExist = !$tableResults.find('th').first().hasClass('draggable');\n    // number of column span for checkbox and Actions\n    var leftActionSkip = leftActionExist ? $tableResults.find('th').first().attr('colspan') - 1 : 0;\n\n    // If this column was sorted, the text of the a element contains something\n    // like <small>1</small> that is useful to indicate the order in case\n    // of a sort on multiple columns; however, we dont want this as part\n    // of the column name so we strip it ( .clone() to .end() )\n    var fieldName = $tableResults\n        .find('thead')\n        .find('th')\n        .eq(thisFieldIndex - leftActionSkip)\n        .find('a')\n        .clone()    // clone the element\n        .children() // select all the children\n        .remove()   // remove all of them\n        .end()      // go back to the selected element\n        .text();    // grab the text\n    // happens when just one row (headings contain no a)\n    if (fieldName === '') {\n        var $heading = $tableResults.find('thead').find('th').eq(thisFieldIndex - leftActionSkip).children('span');\n        // may contain column comment enclosed in a span - detach it temporarily to read the column name\n        var $tempColComment = $heading.children().detach();\n        fieldName = $heading.text();\n        // re-attach the column comment\n        $heading.append($tempColComment);\n    }\n\n    fieldName = fieldName.trim();\n\n    return fieldName;\n};\n\n/**\n * Unbind all event handlers before tearing down a page\n */\nAJAX.registerTeardown('sql.js', function () {\n    $(document).off('click', 'a.delete_row.ajax');\n    $(document).off('submit', '.bookmarkQueryForm');\n    $('input#bkm_label').off('input');\n    $(document).off('makegrid', '.sqlqueryresults');\n    $('#togglequerybox').off('click');\n    $(document).off('click', '#button_submit_query');\n    $(document).off('change', '#id_bookmark');\n    $('input[name=\\'bookmark_variable\\']').off('keypress');\n    $(document).off('submit', '#sqlqueryform.ajax');\n    $(document).off('click', 'input[name=navig].ajax');\n    $(document).off('submit', 'form[name=\\'displayOptionsForm\\'].ajax');\n    $(document).off('mouseenter', 'th.column_heading.pointer');\n    $(document).off('mouseleave', 'th.column_heading.pointer');\n    $(document).off('click', 'th.column_heading.marker');\n    $(document).off('scroll', window);\n    $(document).off('keyup', '.filter_rows');\n    if (codeMirrorEditor) {\n        codeMirrorEditor.off('change');\n    } else {\n        $('#sqlquery').off('input propertychange');\n    }\n    $('body').off('click', '.navigation .showAllRows');\n    $('body').off('click', 'a.browse_foreign');\n    $('body').off('click', '#simulate_dml');\n    $('body').off('keyup', '#sqlqueryform');\n    $('body').off('click', 'form[name=\"resultsForm\"].ajax button[name=\"submit_mult\"], form[name=\"resultsForm\"].ajax input[name=\"submit_mult\"]');\n    $(document).off('submit', '.maxRowsForm');\n    $(document).off('click', '#view_as');\n    $(document).off('click', '#sqlquery');\n});\n\n/**\n * @description <p>Ajax scripts for sql and browse pages</p>\n *\n * Actions ajaxified here:\n * <ul>\n * <li>Retrieve results of an SQL query</li>\n * <li>Paginate the results table</li>\n * <li>Sort the results table</li>\n * <li>Change table according to display options</li>\n * <li>Grid editing of data</li>\n * <li>Saving a bookmark</li>\n * </ul>\n *\n * @name        document.ready\n * @memberOf    jQuery\n */\nAJAX.registerOnload('sql.js', function () {\n    if (codeMirrorEditor || document.sqlform) {\n        Sql.setShowThisQuery();\n    }\n    $(function () {\n        if (codeMirrorEditor) {\n            codeMirrorEditor.on('change', function () {\n                Sql.autoSave(codeMirrorEditor.getValue());\n            });\n        } else {\n            $('#sqlquery').on('input propertychange', function () {\n                Sql.autoSave($('#sqlquery').val());\n            });\n            var useLocalStorageValue = isStorageSupported('localStorage') && typeof window.localStorage.autoSavedSqlSort !== 'undefined';\n            // Save sql query with sort\n            if ($('#RememberSorting') !== undefined && $('#RememberSorting').is(':checked')) {\n                $('select[name=\"sql_query\"]').on('change', function () {\n                    Sql.autoSaveWithSort($(this).val());\n                });\n                $('.sortlink').on('click', function () {\n                    Sql.clearAutoSavedSort();\n                });\n            } else {\n                Sql.clearAutoSavedSort();\n            }\n            // If sql query with sort for current table is stored, change sort by key select value\n            var sortStoredQuery = useLocalStorageValue ? window.localStorage.autoSavedSqlSort : Cookies.get('autoSavedSqlSort');\n            if (typeof sortStoredQuery !== 'undefined' && sortStoredQuery !== $('select[name=\"sql_query\"]').val() && $('select[name=\"sql_query\"] option[value=\"' + sortStoredQuery + '\"]').length !== 0) {\n                $('select[name=\"sql_query\"]').val(sortStoredQuery).trigger('change');\n            }\n        }\n    });\n\n    // Delete row from SQL results\n    $(document).on('click', 'a.delete_row.ajax', function (e) {\n        e.preventDefault();\n        var question =  Functions.sprintf(Messages.strDoYouReally, Functions.escapeHtml($(this).closest('td').find('div').text()));\n        var $link = $(this);\n        $link.confirm(question, $link.attr('href'), function (url) {\n            Functions.ajaxShowMessage();\n            var argsep = CommonParams.get('arg_separator');\n            var params = 'ajax_request=1' + argsep + 'is_js_confirmed=1';\n            var postData = $link.getPostData();\n            if (postData) {\n                params += argsep + postData;\n            }\n            $.post(url, params, function (data) {\n                if (data.success) {\n                    Functions.ajaxShowMessage(data.message);\n                    $link.closest('tr').remove();\n                } else {\n                    Functions.ajaxShowMessage(data.error, false);\n                }\n            });\n        });\n    });\n\n    // Ajaxification for 'Bookmark this SQL query'\n    $(document).on('submit', '.bookmarkQueryForm', function (e) {\n        e.preventDefault();\n        Functions.ajaxShowMessage();\n        var argsep = CommonParams.get('arg_separator');\n        $.post($(this).attr('action'), 'ajax_request=1' + argsep + $(this).serialize(), function (data) {\n            if (data.success) {\n                Functions.ajaxShowMessage(data.message);\n            } else {\n                Functions.ajaxShowMessage(data.error, false);\n            }\n        });\n    });\n\n    /* Hides the bookmarkoptions checkboxes when the bookmark label is empty */\n    $('input#bkm_label').on('input', function () {\n        $('input#id_bkm_all_users, input#id_bkm_replace')\n            .parent()\n            .toggle($(this).val().length > 0);\n    }).trigger('input');\n\n    /**\n     * Attach Event Handler for 'Copy to clipboard'\n     */\n    $(document).on('click', '#copyToClipBoard', function (event) {\n        event.preventDefault();\n\n        var textArea = document.createElement('textarea');\n\n        //\n        // *** This styling is an extra step which is likely not required. ***\n        //\n        // Why is it here? To ensure:\n        // 1. the element is able to have focus and selection.\n        // 2. if element was to flash render it has minimal visual impact.\n        // 3. less flakyness with selection and copying which **might** occur if\n        //    the textarea element is not visible.\n        //\n        // The likelihood is the element won't even render, not even a flash,\n        // so some of these are just precautions. However in IE the element\n        // is visible whilst the popup box asking the user for permission for\n        // the web page to copy to the clipboard.\n        //\n\n        // Place in top-left corner of screen regardless of scroll position.\n        textArea.style.position = 'fixed';\n        textArea.style.top = 0;\n        textArea.style.left = 0;\n\n        // Ensure it has a small width and height. Setting to 1px / 1em\n        // doesn't work as this gives a negative w/h on some browsers.\n        textArea.style.width = '2em';\n        textArea.style.height = '2em';\n\n        // We don't need padding, reducing the size if it does flash render.\n        textArea.style.padding = 0;\n\n        // Clean up any borders.\n        textArea.style.border = 'none';\n        textArea.style.outline = 'none';\n        textArea.style.boxShadow = 'none';\n\n        // Avoid flash of white box if rendered for any reason.\n        textArea.style.background = 'transparent';\n\n        textArea.value = '';\n\n        $('#server-breadcrumb a').each(function () {\n            textArea.value += $(this).data('raw-text') + '/';\n        });\n        textArea.value += '\\t\\t' + window.location.href;\n        textArea.value += '\\n';\n        $('.alert-success').each(function () {\n            textArea.value += $(this).text() + '\\n\\n';\n        });\n\n        $('.sql pre').each(function () {\n            textArea.value += $(this).text() + '\\n\\n';\n        });\n\n        $('.table_results .column_heading a').each(function () {\n            // Don't copy ordering number text within <small> tag\n            textArea.value += $(this).clone().find('small').remove().end().text() + '\\t';\n        });\n\n        textArea.value += '\\n';\n        $('.table_results tbody tr').each(function () {\n            $(this).find('.data span').each(function () {\n                // Extract <em> tag for NULL values before converting to string to not mess up formatting\n                var data = $(this).find('em').length !== 0 ? $(this).find('em')[0] : this;\n                textArea.value += $(data).text() + '\\t';\n            });\n            textArea.value += '\\n';\n        });\n\n        // eslint-disable-next-line compat/compat\n        document.body.appendChild(textArea);\n\n        textArea.select();\n\n        try {\n            document.execCommand('copy');\n        } catch (err) {\n            alert('Sorry! Unable to copy');\n        }\n\n        // eslint-disable-next-line compat/compat\n        document.body.removeChild(textArea);\n    }); // end of Copy to Clipboard action\n\n    /**\n     * Attach the {@link makegrid} function to a custom event, which will be\n     * triggered manually everytime the table of results is reloaded\n     * @memberOf    jQuery\n     */\n    $(document).on('makegrid', '.sqlqueryresults', function () {\n        $('.table_results').each(function () {\n            makeGrid(this);\n        });\n    });\n\n    /**\n     * Append the \"Show/Hide query box\" message to the query input form\n     *\n     * @memberOf jQuery\n     * @name    appendToggleSpan\n     */\n    // do not add this link more than once\n    if (! $('#sqlqueryform').find('button').is('#togglequerybox')) {\n        $('<button class=\"btn btn-secondary\" id=\"togglequerybox\"></button>')\n            .html(Messages.strHideQueryBox)\n            .appendTo('#sqlqueryform')\n        // initially hidden because at this point, nothing else\n        // appears under the link\n            .hide();\n\n        // Attach the toggling of the query box visibility to a click\n        $('#togglequerybox').on('click', function () {\n            var $link = $(this);\n            $link.siblings().slideToggle('fast');\n            if ($link.text() === Messages.strHideQueryBox) {\n                $link.text(Messages.strShowQueryBox);\n                // cheap trick to add a spacer between the menu tabs\n                // and \"Show query box\"; feel free to improve!\n                $('#togglequerybox_spacer').remove();\n                $link.before('<br id=\"togglequerybox_spacer\">');\n            } else {\n                $link.text(Messages.strHideQueryBox);\n            }\n            // avoid default click action\n            return false;\n        });\n    }\n\n\n    /**\n     * Event handler for sqlqueryform.ajax button_submit_query\n     *\n     * @memberOf    jQuery\n     */\n    $(document).on('click', '#button_submit_query', function () {\n        $('.alert-success,.alert-danger').hide();\n        // hide already existing error or success message\n        var $form = $(this).closest('form');\n        // the Go button related to query submission was clicked,\n        // instead of the one related to Bookmarks, so empty the\n        // id_bookmark selector to avoid misinterpretation in\n        // /import about what needs to be done\n        $form.find('select[name=id_bookmark]').val('');\n        var isShowQuery =  $('input[name=\"show_query\"]').is(':checked');\n        if (isShowQuery) {\n            window.localStorage.showThisQuery = '1';\n            var db = $('input[name=\"db\"]').val();\n            var table = $('input[name=\"table\"]').val();\n            var query;\n            if (codeMirrorEditor) {\n                query = codeMirrorEditor.getValue();\n            } else {\n                query = $('#sqlquery').val();\n            }\n            Sql.showThisQuery(db, table, query);\n        } else {\n            window.localStorage.showThisQuery = '0';\n        }\n    });\n\n    /**\n     * Event handler to show appropriate number of variable boxes\n     * based on the bookmarked query\n     */\n    $(document).on('change', '#id_bookmark', function () {\n        var varCount = $(this).find('option:selected').data('varcount');\n        if (typeof varCount === 'undefined') {\n            varCount = 0;\n        }\n\n        var $varDiv = $('#bookmarkVariables');\n        $varDiv.empty();\n        for (var i = 1; i <= varCount; i++) {\n            $varDiv.append($('<div class=\"mb-3\">'));\n            $varDiv.append($('<label for=\"bookmarkVariable' + i + '\">' + Functions.sprintf(Messages.strBookmarkVariable, i) + '</label>'));\n            $varDiv.append($('<input class=\"form-control\" type=\"text\" size=\"10\" name=\"bookmark_variable[' + i + ']\" id=\"bookmarkVariable' + i + '\">'));\n            $varDiv.append($('</div>'));\n        }\n\n        if (varCount === 0) {\n            $varDiv.parent().hide();\n        } else {\n            $varDiv.parent().show();\n        }\n    });\n\n    /**\n     * Event handler for hitting enter on sqlqueryform bookmark_variable\n     * (the Variable textfield in Bookmarked SQL query section)\n     *\n     * @memberOf    jQuery\n     */\n    $('input[name=bookmark_variable]').on('keypress', function (event) {\n        // force the 'Enter Key' to implicitly click the #button_submit_bookmark\n        var keycode = (event.keyCode ? event.keyCode : (event.which ? event.which : event.charCode));\n        if (keycode === 13) { // keycode for enter key\n            // When you press enter in the sqlqueryform, which\n            // has 2 submit buttons, the default is to run the\n            // #button_submit_query, because of the tabindex\n            // attribute.\n            // This submits #button_submit_bookmark instead,\n            // because when you are in the Bookmarked SQL query\n            // section and hit enter, you expect it to do the\n            // same action as the Go button in that section.\n            $('#button_submit_bookmark').trigger('click');\n            return false;\n        } else  {\n            return true;\n        }\n    });\n\n    /**\n     * Ajax Event handler for 'SQL Query Submit'\n     *\n     * @see         Functions.ajaxShowMessage()\n     * @memberOf    jQuery\n     * @name        sqlqueryform_submit\n     */\n    $(document).on('submit', '#sqlqueryform.ajax', function (event) {\n        event.preventDefault();\n\n        var $form = $(this);\n        if (codeMirrorEditor) {\n            $form[0].elements.sql_query.value = codeMirrorEditor.getValue();\n        }\n        if (! Functions.checkSqlQuery($form[0])) {\n            return false;\n        }\n\n        // remove any div containing a previous error message\n        $('.alert-danger').remove();\n\n        var $msgbox = Functions.ajaxShowMessage();\n        var $sqlqueryresultsouter = $('#sqlqueryresultsouter');\n\n        Functions.prepareForAjaxRequest($form);\n\n        var argsep = CommonParams.get('arg_separator');\n        $.post($form.attr('action'), $form.serialize() + argsep + 'ajax_page_request=true', function (data) {\n            if (typeof data !== 'undefined' && data.success === true) {\n                // success happens if the query returns rows or not\n\n                // show a message that stays on screen\n                if (typeof data.action_bookmark !== 'undefined') {\n                    // view only\n                    if ('1' === data.action_bookmark) {\n                        $('#sqlquery').text(data.sql_query);\n                        // send to codemirror if possible\n                        Functions.setQuery(data.sql_query);\n                    }\n                    // delete\n                    if ('2' === data.action_bookmark) {\n                        $('#id_bookmark option[value=\\'' + data.id_bookmark + '\\']').remove();\n                        // if there are no bookmarked queries now (only the empty option),\n                        // remove the bookmark section\n                        if ($('#id_bookmark option').length === 1) {\n                            $('#fieldsetBookmarkOptions').hide();\n                            $('#fieldsetBookmarkOptionsFooter').hide();\n                        }\n                    }\n                }\n                $sqlqueryresultsouter\n                    .show()\n                    .html(data.message);\n                Functions.highlightSql($sqlqueryresultsouter);\n\n                if (data.menu) {\n                    history.replaceState({\n                        menu : data.menu\n                    },\n                    null\n                    );\n                    AJAX.handleMenu.replace(data.menu);\n                }\n\n                if (data.params) {\n                    CommonParams.setAll(data.params);\n                }\n\n                if (typeof data.ajax_reload !== 'undefined') {\n                    if (data.ajax_reload.reload) {\n                        if (data.ajax_reload.table_name) {\n                            CommonParams.set('table', data.ajax_reload.table_name);\n                            CommonActions.refreshMain();\n                        } else {\n                            Navigation.reload();\n                        }\n                    }\n                } else if (typeof data.reload !== 'undefined') {\n                    // this happens if a USE or DROP command was typed\n                    CommonActions.setDb(data.db);\n                    var url;\n                    if (data.db) {\n                        if (data.table) {\n                            url = 'index.php?route=/table/sql';\n                        } else {\n                            url = 'index.php?route=/database/sql';\n                        }\n                    } else {\n                        url = 'index.php?route=/server/sql';\n                    }\n                    CommonActions.refreshMain(url, function () {\n                        $('#sqlqueryresultsouter')\n                            .show()\n                            .html(data.message);\n                        Functions.highlightSql($('#sqlqueryresultsouter'));\n                    });\n                }\n\n                $('.sqlqueryresults').trigger('makegrid');\n                $('#togglequerybox').show();\n\n                if (typeof data.action_bookmark === 'undefined') {\n                    if ($('#sqlqueryform input[name=\"retain_query_box\"]').is(':checked') !== true) {\n                        if ($('#togglequerybox').siblings(':visible').length > 0) {\n                            $('#togglequerybox').trigger('click');\n                        }\n                    }\n                }\n            } else if (typeof data !== 'undefined' && data.success === false) {\n                // show an error message that stays on screen\n                $sqlqueryresultsouter\n                    .show()\n                    .html(data.error);\n                $('html, body').animate({ scrollTop: $(document).height() }, 200);\n            }\n            Functions.ajaxRemoveMessage($msgbox);\n        }); // end $.post()\n    }); // end SQL Query submit\n\n    /**\n     * Ajax Event handler for the display options\n     * @memberOf    jQuery\n     * @name        displayOptionsForm_submit\n     */\n    $(document).on('submit', 'form[name=\\'displayOptionsForm\\'].ajax', function (event) {\n        event.preventDefault();\n\n        var $form = $(this);\n\n        var $msgbox = Functions.ajaxShowMessage();\n        var argsep = CommonParams.get('arg_separator');\n        $.post($form.attr('action'), $form.serialize() + argsep + 'ajax_request=true', function (data) {\n            Functions.ajaxRemoveMessage($msgbox);\n            var $sqlqueryresults = $form.parents('.sqlqueryresults');\n            $sqlqueryresults\n                .html(data.message)\n                .trigger('makegrid');\n            Functions.highlightSql($sqlqueryresults);\n        }); // end $.post()\n    }); // end displayOptionsForm handler\n\n    // Filter row handling. --STARTS--\n    $(document).on('keyup', '.filter_rows', function () {\n        var uniqueId = $(this).data('for');\n        var $targetTable = $('.table_results[data-uniqueId=\\'' + uniqueId + '\\']');\n        var $headerCells = $targetTable.find('th[data-column]');\n        var targetColumns = [];\n        // To handle colspan=4, in case of edit,copy etc options.\n        var dummyTh = ($('.edit_row_anchor').length !== 0 ?\n            '<th class=\"hide dummy_th\"></th><th class=\"hide dummy_th\"></th><th class=\"hide dummy_th\"></th>'\n            : '');\n        // Selecting columns that will be considered for filtering and searching.\n        $headerCells.each(function () {\n            targetColumns.push($(this).text().trim());\n        });\n\n        var phrase = $(this).val();\n        // Set same value to both Filter rows fields.\n        $('.filter_rows[data-for=\\'' + uniqueId + '\\']').not(this).val(phrase);\n        // Handle colspan.\n        $targetTable.find('thead > tr').prepend(dummyTh);\n        $.uiTableFilter($targetTable, phrase, targetColumns);\n        $targetTable.find('th.dummy_th').remove();\n    });\n    // Filter row handling. --ENDS--\n\n    // Prompt to confirm on Show All\n    $('body').on('click', '.navigation .showAllRows', function (e) {\n        e.preventDefault();\n        var $form = $(this).parents('form');\n\n        Sql.submitShowAllForm = function () {\n            var argsep = CommonParams.get('arg_separator');\n            var submitData = $form.serialize() + argsep + 'ajax_request=true' + argsep + 'ajax_page_request=true';\n            Functions.ajaxShowMessage();\n            AJAX.source = $form;\n            $.post($form.attr('action'), submitData, AJAX.responseHandler);\n        };\n\n        if (! $(this).is(':checked')) { // already showing all rows\n            Sql.submitShowAllForm();\n        } else {\n            $form.confirm(Messages.strShowAllRowsWarning, $form.attr('action'), function () {\n                Sql.submitShowAllForm();\n            });\n        }\n    });\n\n    $('body').on('keyup', '#sqlqueryform', function () {\n        Functions.handleSimulateQueryButton();\n    });\n\n    /**\n     * Ajax event handler for 'Simulate DML'.\n     */\n    $('body').on('click', '#simulate_dml', function () {\n        var $form = $('#sqlqueryform');\n        var query = '';\n        var delimiter = $('#id_sql_delimiter').val();\n        var dbName = $form.find('input[name=\"db\"]').val();\n\n        if (codeMirrorEditor) {\n            query = codeMirrorEditor.getValue();\n        } else {\n            query = $('#sqlquery').val();\n        }\n\n        if (query.length === 0) {\n            alert(Messages.strFormEmpty);\n            $('#sqlquery').trigger('focus');\n            return false;\n        }\n\n        var $msgbox = Functions.ajaxShowMessage();\n        $.ajax({\n            type: 'POST',\n            url: 'index.php?route=/import/simulate-dml',\n            data: {\n                'server': CommonParams.get('server'),\n                'db': dbName,\n                'ajax_request': '1',\n                'sql_query': query,\n                'sql_delimiter': delimiter\n            },\n            success: function (response) {\n                Functions.ajaxRemoveMessage($msgbox);\n                if (response.success) {\n                    var dialogContent = '<div class=\"preview_sql\">';\n                    if (response.sql_data) {\n                        var len = response.sql_data.length;\n                        for (var i = 0; i < len; i++) {\n                            dialogContent += '<strong>' + Messages.strSQLQuery +\n                                '</strong>' + response.sql_data[i].sql_query +\n                                Messages.strMatchedRows +\n                                ' <a href=\"' + response.sql_data[i].matched_rows_url +\n                                '\">' + response.sql_data[i].matched_rows + '</a><br>';\n                            if (i < len - 1) {\n                                dialogContent += '<hr>';\n                            }\n                        }\n                    } else {\n                        dialogContent += response.message;\n                    }\n                    dialogContent += '</div>';\n                    var $dialogContent = $(dialogContent);\n                    var modal = $('#simulateDmlModal');\n                    modal.modal('show');\n                    modal.find('.modal-body').first().html($dialogContent);\n                    modal.on('shown.bs.modal', function () {\n                        Functions.highlightSql(modal);\n                    });\n                } else {\n                    Functions.ajaxShowMessage(response.error);\n                }\n            },\n            error: function () {\n                Functions.ajaxShowMessage(Messages.strErrorProcessingRequest);\n            }\n        });\n    });\n\n    /**\n     * Handles multi submits of results browsing page such as edit, delete and export\n     */\n    $('body').on('click', 'form[name=\"resultsForm\"].ajax button[name=\"submit_mult\"], form[name=\"resultsForm\"].ajax input[name=\"submit_mult\"]', function (e) {\n        e.preventDefault();\n        var $button = $(this);\n        var action = $button.val();\n        var $form = $button.closest('form');\n        var argsep = CommonParams.get('arg_separator');\n        var submitData = $form.serialize() + argsep + 'ajax_request=true' + argsep + 'ajax_page_request=true' + argsep;\n        Functions.ajaxShowMessage();\n        AJAX.source = $form;\n\n        var url;\n        if (action === 'edit') {\n            submitData = submitData + argsep + 'default_action=update';\n            url = 'index.php?route=/table/change/rows';\n        } else if (action === 'copy') {\n            submitData = submitData + argsep + 'default_action=insert';\n            url = 'index.php?route=/table/change/rows';\n        } else if (action === 'export') {\n            url = 'index.php?route=/table/export/rows';\n        } else if (action === 'delete') {\n            url = 'index.php?route=/table/delete/confirm';\n        } else {\n            return;\n        }\n\n        $.post(url, submitData, AJAX.responseHandler);\n    });\n\n    $(document).on('submit', '.maxRowsForm', function () {\n        var unlimNumRows = $(this).find('input[name=\"unlim_num_rows\"]').val();\n\n        var maxRowsCheck = Functions.checkFormElementInRange(\n            this,\n            'session_max_rows',\n            Messages.strNotValidRowNumber,\n            1\n        );\n        var posCheck = Functions.checkFormElementInRange(\n            this,\n            'pos',\n            Messages.strNotValidRowNumber,\n            0,\n            unlimNumRows > 0 ? unlimNumRows - 1 : null\n        );\n\n        return maxRowsCheck && posCheck;\n    });\n\n    $('#insertBtn').on('click', function () {\n        Functions.insertValueQuery();\n    });\n\n    $('#view_as').on('click', function () {\n        Functions.selectContent(this, sqlBoxLocked, true);\n    });\n\n    $('#sqlquery').on('click', function () {\n        if ($(this).data('textarea-auto-select') === true) {\n            Functions.selectContent(this, sqlBoxLocked, true);\n        }\n    });\n}); // end $()\n\n/**\n * Starting from some th, change the class of all td under it.\n * If isAddClass is specified, it will be used to determine whether to add or remove the class.\n *\n * @param $thisTh\n * @param {string} newClass\n * @param isAddClass\n */\nSql.changeClassForColumn = function ($thisTh, newClass, isAddClass) {\n    // index 0 is the th containing the big T\n    var thIndex = $thisTh.index();\n    var hasBigT = $thisTh.closest('tr').children().first().hasClass('column_action');\n    // .eq() is zero-based\n    if (hasBigT) {\n        thIndex--;\n    }\n    var $table = $thisTh.parents('.table_results');\n    if (! $table.length) {\n        $table = $thisTh.parents('table').siblings('.table_results');\n    }\n    var $tds = $table.find('tbody tr').find('td.data').eq(thIndex);\n    if (isAddClass === undefined) {\n        $tds.toggleClass(newClass);\n    } else {\n        $tds.toggleClass(newClass, isAddClass);\n    }\n};\n\n/**\n * Handles browse foreign values modal dialog\n *\n * @param {object} $thisA reference to the browse foreign value link\n */\nSql.browseForeignDialog = function ($thisA) {\n    var formId = '#browse_foreign_form';\n    var showAllId = '#foreign_showAll';\n    var tableId = '#browse_foreign_table';\n    var filterId = '#input_foreign_filter';\n    var $dialog = null;\n    var argSep = CommonParams.get('arg_separator');\n    var params = $thisA.getPostData();\n    params += argSep + 'ajax_request=true';\n    $.post($thisA.attr('href'), params, function (data) {\n        // Creates browse foreign value dialog\n        $dialog = $('<div>').append(data.message).dialog({\n            title: Messages.strBrowseForeignValues,\n            width: Math.min($(window).width() - 100, 700),\n            maxHeight: $(window).height() - 100,\n            dialogClass: 'browse_foreign_modal',\n            close: function () {\n                // remove event handlers attached to elements related to dialog\n                $(tableId).off('click', 'td a.foreign_value');\n                $(formId).off('click', showAllId);\n                $(formId).off('submit');\n                // remove dialog itself\n                $(this).remove();\n            },\n            modal: true\n        });\n    }).done(function () {\n        var showAll = false;\n        $(tableId).on('click', 'td a.foreign_value', function (e) {\n            e.preventDefault();\n            var $input = $thisA.prev('input[type=text]');\n            // Check if input exists or get CEdit edit_box\n            if ($input.length === 0) {\n                $input = $thisA.closest('.edit_area').prev('.edit_box');\n            }\n            // Set selected value as input value\n            $input.val($(this).data('key'));\n            // Unchecks the Ignore checkbox for the current row\n            $input.trigger('change');\n\n            $dialog.dialog('close');\n        });\n        $(formId).on('click', showAllId, function () {\n            showAll = true;\n        });\n        $(formId).on('submit', function (e) {\n            e.preventDefault();\n            // if filter value is not equal to old value\n            // then reset page number to 1\n            if ($(filterId).val() !== $(filterId).data('old')) {\n                $(formId).find('select[name=pos]').val('0');\n            }\n            var postParams = $(this).serializeArray();\n            // if showAll button was clicked to submit form then\n            // add showAll button parameter to form\n            if (showAll) {\n                postParams.push({\n                    name: $(showAllId).attr('name'),\n                    value: $(showAllId).val()\n                });\n            }\n            // updates values in dialog\n            $.post($(this).attr('action') + '&ajax_request=1', postParams, function (data) {\n                var $obj = $('<div>').html(data.message);\n                $(formId).html($obj.find(formId).html());\n                $(tableId).html($obj.find(tableId).html());\n            });\n            showAll = false;\n        });\n    });\n};\n\n/**\n * Get the auto saved query key\n * @return {String}\n */\nSql.getAutoSavedKey = function () {\n    var db = $('input[name=\"db\"]').val();\n    var table = $('input[name=\"table\"]').val();\n    var key = db;\n    if (table !== undefined) {\n        key += '.' + table;\n    }\n    return 'autoSavedSql_' + key;\n};\n\nSql.checkSavedQuery = function () {\n    var key = Sql.getAutoSavedKey();\n\n    if (isStorageSupported('localStorage') &&\n        typeof window.localStorage.getItem(key) === 'string') {\n        Functions.ajaxShowMessage(Messages.strPreviousSaveQuery);\n    } else if (Cookies.get(key)) {\n        Functions.ajaxShowMessage(Messages.strPreviousSaveQuery);\n    }\n};\n\nAJAX.registerOnload('sql.js', function () {\n    $('body').on('click', 'a.browse_foreign', function (e) {\n        e.preventDefault();\n        Sql.browseForeignDialog($(this));\n    });\n\n    /**\n     * vertical column highlighting in horizontal mode when hovering over the column header\n     */\n    $(document).on('mouseenter', 'th.column_heading.pointer', function () {\n        Sql.changeClassForColumn($(this), 'hover', true);\n    });\n    $(document).on('mouseleave', 'th.column_heading.pointer', function () {\n        Sql.changeClassForColumn($(this), 'hover', false);\n    });\n\n    /**\n     * vertical column marking in horizontal mode when clicking the column header\n     */\n    $(document).on('click', 'th.column_heading.marker', function () {\n        Sql.changeClassForColumn($(this), 'marked');\n    });\n\n    /**\n     * create resizable table\n     */\n    $('.sqlqueryresults').trigger('makegrid');\n\n    /**\n     * Check if there is any saved query\n     */\n    if (codeMirrorEditor || document.sqlform) {\n        Sql.checkSavedQuery();\n    }\n});\n\n/**\n * Profiling Chart\n */\nSql.makeProfilingChart = function () {\n    if ($('#profilingchart').length === 0 ||\n        $('#profilingchart').html().length !== 0 ||\n        !$.jqplot || !$.jqplot.Highlighter || !$.jqplot.PieRenderer\n    ) {\n        return;\n    }\n\n    var data = [];\n    $.each(JSON.parse($('#profilingChartData').html()), function (key, value) {\n        data.push([key, parseFloat(value)]);\n    });\n\n    // Remove chart and data divs contents\n    $('#profilingchart').html('').show();\n    $('#profilingChartData').html('');\n\n    Functions.createProfilingChart('profilingchart', data);\n};\n\n/**\n * initialize profiling data tables\n */\nSql.initProfilingTables = function () {\n    if (!$.tablesorter) {\n        return;\n    }\n    // Added to allow two direction sorting\n    $('#profiletable')\n        .find('thead th')\n        .off('click mousedown');\n\n    $('#profiletable').tablesorter({\n        widgets: ['zebra'],\n        sortList: [[0, 0]],\n        textExtraction: function (node) {\n            if (node.children.length > 0) {\n                return node.children[0].innerHTML;\n            } else {\n                return node.innerHTML;\n            }\n        }\n    });\n    // Added to allow two direction sorting\n    $('#profilesummarytable')\n        .find('thead th')\n        .off('click mousedown');\n\n    $('#profilesummarytable').tablesorter({\n        widgets: ['zebra'],\n        sortList: [[1, 1]],\n        textExtraction: function (node) {\n            if (node.children.length > 0) {\n                return node.children[0].innerHTML;\n            } else {\n                return node.innerHTML;\n            }\n        }\n    });\n};\n\nAJAX.registerOnload('sql.js', function () {\n    Sql.makeProfilingChart();\n    Sql.initProfilingTables();\n});\n\n/**\n * Polyfill to make table headers sticky.\n */\nvar elements = $('.sticky');\nStickyfill.add(elements);\n"],"names":["Sql","urlDecode","str","decodeURIComponent","replace","urlEncode","encodeURIComponent","autoSave","query","key","getAutoSavedKey","isStorageSupported","window","localStorage","setItem","Cookies","set","showThisQuery","db","table","showThisQueryObject","JSON","stringify","setShowThisQuery","$","val","undefined","storedDb","parse","storedTable","storedQuery","prop","codeMirrorEditor","setValue","document","sqlform","sql_query","value","autoSaveWithSort","clearAutoSavedSort","removeItem","getFieldName","$tableResults","$thisField","thisFieldIndex","index","leftActionExist","find","first","hasClass","leftActionSkip","attr","fieldName","eq","clone","children","remove","end","text","$heading","$tempColComment","detach","append","trim","AJAX","registerTeardown","off","registerOnload","on","getValue","useLocalStorageValue","autoSavedSqlSort","is","sortStoredQuery","get","length","trigger","e","preventDefault","question","Functions","sprintf","Messages","strDoYouReally","escapeHtml","closest","$link","confirm","url","ajaxShowMessage","argsep","CommonParams","params","postData","getPostData","post","data","success","message","error","serialize","parent","toggle","event","textArea","createElement","style","position","top","left","width","height","padding","border","outline","boxShadow","background","each","location","href","body","appendChild","select","execCommand","err","alert","removeChild","makeGrid","html","strHideQueryBox","appendTo","hide","siblings","slideToggle","strShowQueryBox","before","$form","isShowQuery","varCount","$varDiv","empty","i","strBookmarkVariable","show","keycode","keyCode","which","charCode","elements","checkSqlQuery","$msgbox","$sqlqueryresultsouter","prepareForAjaxRequest","action_bookmark","setQuery","id_bookmark","highlightSql","menu","history","replaceState","handleMenu","setAll","ajax_reload","reload","table_name","CommonActions","refreshMain","Navigation","setDb","animate","scrollTop","ajaxRemoveMessage","$sqlqueryresults","parents","uniqueId","$targetTable","$headerCells","targetColumns","dummyTh","push","phrase","not","prepend","uiTableFilter","submitShowAllForm","submitData","source","responseHandler","strShowAllRowsWarning","handleSimulateQueryButton","delimiter","dbName","strFormEmpty","ajax","type","response","dialogContent","sql_data","len","strSQLQuery","strMatchedRows","matched_rows_url","matched_rows","$dialogContent","modal","strErrorProcessingRequest","$button","action","unlimNumRows","maxRowsCheck","checkFormElementInRange","strNotValidRowNumber","posCheck","insertValueQuery","selectContent","sqlBoxLocked","changeClassForColumn","$thisTh","newClass","isAddClass","thIndex","hasBigT","$table","$tds","toggleClass","browseForeignDialog","$thisA","formId","showAllId","tableId","filterId","$dialog","argSep","dialog","title","strBrowseForeignValues","Math","min","maxHeight","dialogClass","close","done","showAll","$input","prev","postParams","serializeArray","name","$obj","checkSavedQuery","getItem","strPreviousSaveQuery","makeProfilingChart","jqplot","Highlighter","PieRenderer","parseFloat","createProfilingChart","initProfilingTables","tablesorter","widgets","sortList","textExtraction","node","innerHTML","Stickyfill","add"],"sourceRoot":""}