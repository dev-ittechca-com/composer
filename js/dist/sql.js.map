{"version":3,"file":"sql.js","mappings":"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","sources":["webpack://phpmyadmin/external var \"jQuery\"","webpack://phpmyadmin/./js/src/sql.js"],"sourcesContent":["module.exports = jQuery;","import $ from 'jquery';\nimport { AJAX } from './modules/ajax.js';\nimport { Functions } from './modules/functions.js';\nimport { Navigation } from './modules/navigation.js';\nimport { CommonActions, CommonParams } from './modules/common.js';\nimport { Config } from './modules/config.js';\n\n/**\n * @fileoverview    functions used wherever an sql query form is used\n *\n * @test-module Sql\n */\n\n/* global themeImagePath */ // templates/javascript/variables.twig\n\nvar Sql = {};\nwindow.Sql = Sql;\n\n/**\n * decode a string URL_encoded\n *\n * @param {string} str\n * @return {string} the URL-decoded string\n */\nSql.urlDecode = function (str) {\n    if (typeof str !== 'undefined') {\n        return decodeURIComponent(str.replace(/\\+/g, '%20'));\n    }\n};\n\n/**\n * encode a string URL_decoded\n *\n * @param {string} str\n * @return {string} the URL-encoded string\n */\nSql.urlEncode = function (str) {\n    if (typeof str !== 'undefined') {\n        return encodeURIComponent(str).replace(/%20/g, '+');\n    }\n};\n\n/**\n * Saves SQL query in local storage or cookie\n *\n * @param {string} query SQL query\n * @return {void}\n */\nSql.autoSave = function (query) {\n    if (query) {\n        var key = Sql.getAutoSavedKey();\n        if (Config.isStorageSupported('localStorage')) {\n            window.localStorage.setItem(key, query);\n        } else {\n            window.Cookies.set(key, query, { path: CommonParams.get('rootPath') });\n        }\n    }\n};\n\n/**\n * Saves SQL query in local storage or cookie\n *\n * @param {string} db database name\n * @param {string} table table name\n * @param {string} query SQL query\n * @return {void}\n */\nSql.showThisQuery = function (db, table, query) {\n    var showThisQueryObject = {\n        'db': db,\n        'table': table,\n        'query': query\n    };\n    if (Config.isStorageSupported('localStorage')) {\n        window.localStorage.showThisQuery = 1;\n        window.localStorage.showThisQueryObject = JSON.stringify(showThisQueryObject);\n    } else {\n        window.Cookies.set('showThisQuery', 1, { path: CommonParams.get('rootPath') });\n        window.Cookies.set('showThisQueryObject', JSON.stringify(showThisQueryObject), { path: CommonParams.get('rootPath') });\n    }\n};\n\n/**\n * Set query to codemirror if show this query is\n * checked and query for the db and table pair exists\n */\nSql.setShowThisQuery = function () {\n    var db = $('input[name=\"db\"]').val();\n    var table = $('input[name=\"table\"]').val();\n    if (Config.isStorageSupported('localStorage')) {\n        if (window.localStorage.showThisQueryObject !== undefined) {\n            var storedDb = JSON.parse(window.localStorage.showThisQueryObject).db;\n            var storedTable = JSON.parse(window.localStorage.showThisQueryObject).table;\n            var storedQuery = JSON.parse(window.localStorage.showThisQueryObject).query;\n        }\n        if (window.localStorage.showThisQuery !== undefined\n            && window.localStorage.showThisQuery === '1') {\n            $('input[name=\"show_query\"]').prop('checked', true);\n            if (db === storedDb && table === storedTable) {\n                if (window.codeMirrorEditor) {\n                    window.codeMirrorEditor.setValue(storedQuery);\n                } else if (document.sqlform) {\n                    document.sqlform.sql_query.value = storedQuery;\n                }\n            }\n        } else {\n            $('input[name=\"show_query\"]').prop('checked', false);\n        }\n    }\n};\n\n/**\n * Saves SQL query with sort in local storage or cookie\n *\n * @param {string} query SQL query\n * @return {void}\n */\nSql.autoSaveWithSort = function (query) {\n    if (query) {\n        if (Config.isStorageSupported('localStorage')) {\n            window.localStorage.setItem('autoSavedSqlSort', query);\n        } else {\n            window.Cookies.set('autoSavedSqlSort', query, { path: CommonParams.get('rootPath') });\n        }\n    }\n};\n\n/**\n * Clear saved SQL query with sort in local storage or cookie\n *\n * @return {void}\n */\nSql.clearAutoSavedSort = function () {\n    if (Config.isStorageSupported('localStorage')) {\n        window.localStorage.removeItem('autoSavedSqlSort');\n    } else {\n        window.Cookies.set('autoSavedSqlSort', '', { path: CommonParams.get('rootPath') });\n    }\n};\n\n/**\n * Get the field name for the current field.  Required to construct the query\n * for grid editing\n *\n * @param $tableResults enclosing results table\n * @param $thisField    jQuery object that points to the current field's tr\n *\n * @return {string}\n */\nSql.getFieldName = function ($tableResults, $thisField) {\n    var thisFieldIndex = $thisField.index();\n    // ltr or rtl direction does not impact how the DOM was generated\n    // check if the action column in the left exist\n    var leftActionExist = !$tableResults.find('th').first().hasClass('draggable');\n    // number of column span for checkbox and Actions\n    var leftActionSkip = leftActionExist ? $tableResults.find('th').first().attr('colspan') - 1 : 0;\n\n    // If this column was sorted, the text of the a element contains something\n    // like <small>1</small> that is useful to indicate the order in case\n    // of a sort on multiple columns; however, we dont want this as part\n    // of the column name so we strip it ( .clone() to .end() )\n    var fieldName = $tableResults\n        .find('thead')\n        .find('th')\n        .eq(thisFieldIndex - leftActionSkip)\n        .find('a')\n        .clone()    // clone the element\n        .children() // select all the children\n        .remove()   // remove all of them\n        .end()      // go back to the selected element\n        .text();    // grab the text\n    // happens when just one row (headings contain no a)\n    if (fieldName === '') {\n        var $heading = $tableResults.find('thead').find('th').eq(thisFieldIndex - leftActionSkip).children('span');\n        // may contain column comment enclosed in a span - detach it temporarily to read the column name\n        var $tempColComment = $heading.children().detach();\n        fieldName = $heading.text();\n        // re-attach the column comment\n        $heading.append($tempColComment);\n    }\n\n    fieldName = fieldName.trim();\n\n    return fieldName;\n};\n\n/**\n * @type {boolean} lock for the sqlbox textarea in the querybox\n */\nlet sqlBoxLocked = false;\n\n/**\n * @type {boolean[]} holds elements which content should only selected once\n */\nconst onlyOnceElements = [];\n\n/**\n * Handles 'Simulate query' button on SQL query box.\n *\n * @return {void}\n */\nconst handleSimulateQueryButton = function () {\n    const updateRegExp = new RegExp('^\\\\s*UPDATE\\\\s+((`[^`]+`)|([A-Za-z0-9_$]+))\\\\s+SET\\\\s', 'i');\n    const deleteRegExp = new RegExp('^\\\\s*DELETE\\\\s+FROM\\\\s', 'i');\n    let query = '';\n\n    if (window.codeMirrorEditor) {\n        query = window.codeMirrorEditor.getValue();\n    } else {\n        query = $('#sqlquery').val();\n    }\n\n    const $simulateDml = $('#simulate_dml');\n    if (updateRegExp.test(query) || deleteRegExp.test(query)) {\n        if (! $simulateDml.length) {\n            $('#button_submit_query').before(\n                '<input type=\"button\" id=\"simulate_dml\"' +\n                'tabindex=\"199\" class=\"btn btn-primary\" value=\"' + window.Messages.strSimulateDML + '\">'\n            );\n        }\n    } else {\n        if ($simulateDml.length) {\n            $simulateDml.remove();\n        }\n    }\n};\n\n/**\n * selects the content of a given object, f.e. a textarea\n *\n * @param {HTMLTextAreaElement} element Element of which the content will be selected\n */\nconst selectContent = function (element) {\n    if (onlyOnceElements[element.name]) {\n        return;\n    }\n\n    onlyOnceElements[element.name] = true;\n\n    if (sqlBoxLocked) {\n        return;\n    }\n\n    element.select();\n};\n\n/**\n * Sets current value for query box.\n * @param {string} query\n * @return {void}\n */\nconst setQuery = function (query) {\n    if (window.codeMirrorEditor) {\n        window.codeMirrorEditor.setValue(query);\n        window.codeMirrorEditor.focus();\n    } else if (document.sqlform) {\n        document.sqlform.sql_query.value = query;\n        document.sqlform.sql_query.focus();\n    }\n};\n\n/**\n * Create quick sql statements.\n *\n * @param {'clear'|'format'|'saved'|'selectall'|'select'|'insert'|'update'|'delete'} queryType\n *\n */\nconst insertQuery = function (queryType) {\n    var table;\n    if (queryType === 'clear') {\n        setQuery('');\n        return;\n    } else if (queryType === 'format') {\n        if (window.codeMirrorEditor) {\n            $('#querymessage').html(window.Messages.strFormatting +\n                '&nbsp;<img class=\"ajaxIcon\" src=\"' +\n                themeImagePath + 'ajax_clock_small.gif\" alt=\"\">');\n            var params = {\n                'ajax_request': true,\n                'sql': window.codeMirrorEditor.getValue(),\n                'server': CommonParams.get('server')\n            };\n            $.ajax({\n                type: 'POST',\n                url: 'index.php?route=/database/sql/format',\n                data: params,\n                success: function (data) {\n                    if (data.success) {\n                        window.codeMirrorEditor.setValue(data.sql);\n                    }\n                    $('#querymessage').html('');\n                },\n                error: function () {\n                    $('#querymessage').html('');\n                }\n            });\n        }\n        return;\n    } else if (queryType === 'saved') {\n        var db = $('input[name=\"db\"]').val();\n        table = $('input[name=\"table\"]').val();\n        var key = db;\n        if (table !== undefined) {\n            key += '.' + table;\n        }\n        key = 'autoSavedSql_' + key;\n        if (Config.isStorageSupported('localStorage') &&\n            typeof window.localStorage.getItem(key) === 'string') {\n            setQuery(window.localStorage.getItem(key));\n        } else if (window.Cookies.get(key, { path: CommonParams.get('rootPath') })) {\n            setQuery(window.Cookies.get(key, { path: CommonParams.get('rootPath') }));\n        } else {\n            Functions.ajaxShowMessage(window.Messages.strNoAutoSavedQuery);\n        }\n        return;\n    }\n\n    var query = '';\n    var myListBox = document.sqlform.dummy;\n    table = document.sqlform.table.value;\n\n    if (myListBox.options.length > 0) {\n        sqlBoxLocked = true;\n        var columnsList = '';\n        var valDis = '';\n        var editDis = '';\n        var NbSelect = 0;\n        for (var i = 0; i < myListBox.options.length; i++) {\n            NbSelect++;\n            if (NbSelect > 1) {\n                columnsList += ', ';\n                valDis += ',';\n                editDis += ',';\n            }\n            columnsList += myListBox.options[i].value;\n            valDis += '\\'[value-' + NbSelect + ']\\'';\n            editDis += myListBox.options[i].value + '=\\'[value-' + NbSelect + ']\\'';\n        }\n        if (queryType === 'selectall') {\n            query = 'SELECT * FROM `' + table + '` WHERE 1';\n        } else if (queryType === 'select') {\n            query = 'SELECT ' + columnsList + ' FROM `' + table + '` WHERE 1';\n        } else if (queryType === 'insert') {\n            query = 'INSERT INTO `' + table + '`(' + columnsList + ') VALUES (' + valDis + ')';\n        } else if (queryType === 'update') {\n            query = 'UPDATE `' + table + '` SET ' + editDis + ' WHERE 1';\n        } else if (queryType === 'delete') {\n            query = 'DELETE FROM `' + table + '` WHERE 0';\n        }\n        setQuery(query);\n        sqlBoxLocked = false;\n    }\n};\n\n/**\n * Inserts multiple fields.\n *\n */\nconst insertValueQuery = function () {\n    var myQuery = document.sqlform.sql_query;\n    var myListBox = document.sqlform.dummy;\n\n    if (myListBox.options.length > 0) {\n        sqlBoxLocked = true;\n        var columnsList = '';\n        var NbSelect = 0;\n        for (var i = 0; i < myListBox.options.length; i++) {\n            if (myListBox.options[i].selected) {\n                NbSelect++;\n                if (NbSelect > 1) {\n                    columnsList += ', ';\n                }\n                columnsList += myListBox.options[i].value;\n            }\n        }\n\n        /* CodeMirror support */\n        if (window.codeMirrorEditor) {\n            window.codeMirrorEditor.replaceSelection(columnsList);\n            window.codeMirrorEditor.focus();\n            // IE support\n        } else if (document.selection) {\n            myQuery.focus();\n            var sel = document.selection.createRange();\n            sel.text = columnsList;\n            // MOZILLA/NETSCAPE support\n        } else if (document.sqlform.sql_query.selectionStart || document.sqlform.sql_query.selectionStart === '0') {\n            var startPos = document.sqlform.sql_query.selectionStart;\n            var endPos = document.sqlform.sql_query.selectionEnd;\n            var SqlString = document.sqlform.sql_query.value;\n\n            myQuery.value = SqlString.substring(0, startPos) + columnsList + SqlString.substring(endPos, SqlString.length);\n            myQuery.focus();\n        } else {\n            myQuery.value += columnsList;\n        }\n\n        // eslint-disable-next-line no-unused-vars\n        sqlBoxLocked = false;\n    }\n};\n\n/**\n * Unbind all event handlers before tearing down a page\n */\nAJAX.registerTeardown('sql.js', function () {\n    $(document).off('click', 'a.delete_row.ajax');\n    $(document).off('submit', '.bookmarkQueryForm');\n    $('input#bkm_label').off('input');\n    $(document).off('makegrid', '.sqlqueryresults');\n    $('#togglequerybox').off('click');\n    $(document).off('click', '#button_submit_query');\n    $(document).off('change', '#id_bookmark');\n    $('input[name=\\'bookmark_variable\\']').off('keypress');\n    $(document).off('submit', '#sqlqueryform.ajax');\n    $(document).off('click', 'input[name=navig].ajax');\n    $(document).off('submit', 'form[name=\\'displayOptionsForm\\'].ajax');\n    $(document).off('mouseenter', 'th.column_heading.pointer');\n    $(document).off('mouseleave', 'th.column_heading.pointer');\n    $(document).off('click', 'th.column_heading.marker');\n    $(document).off('scroll', window);\n    $(document).off('keyup', '.filter_rows');\n    if (window.codeMirrorEditor) {\n        window.codeMirrorEditor.off('change');\n    } else {\n        $('#sqlquery').off('input propertychange');\n    }\n    $('body').off('click', '.navigation .showAllRows');\n    $('body').off('click', 'a.browse_foreign');\n    $('body').off('click', '#simulate_dml');\n    $('body').off('keyup', '#sqlqueryform');\n    $('body').off('click', 'form[name=\"resultsForm\"].ajax button[name=\"submit_mult\"], form[name=\"resultsForm\"].ajax input[name=\"submit_mult\"]');\n    $(document).off('submit', '.maxRowsForm');\n    $(document).off('click', '#view_as');\n    $(document).off('click', '#sqlquery');\n    $(document).off('click', 'input.sqlbutton');\n    $('#fieldsSelect').off('dblclick');\n});\n\n/**\n * @description <p>Ajax scripts for sql and browse pages</p>\n *\n * Actions ajaxified here:\n * <ul>\n * <li>Retrieve results of an SQL query</li>\n * <li>Paginate the results table</li>\n * <li>Sort the results table</li>\n * <li>Change table according to display options</li>\n * <li>Grid editing of data</li>\n * <li>Saving a bookmark</li>\n * </ul>\n *\n * @name        document.ready\n * @memberOf    jQuery\n */\nAJAX.registerOnload('sql.js', function () {\n    if (window.codeMirrorEditor || document.sqlform) {\n        Sql.setShowThisQuery();\n    }\n    $(function () {\n        if (window.codeMirrorEditor) {\n            window.codeMirrorEditor.on('change', function () {\n                Sql.autoSave(window.codeMirrorEditor.getValue());\n            });\n        } else {\n            $('#sqlquery').on('input propertychange', function () {\n                Sql.autoSave($('#sqlquery').val());\n            });\n            var useLocalStorageValue = Config.isStorageSupported('localStorage') && typeof window.localStorage.autoSavedSqlSort !== 'undefined';\n            // Save sql query with sort\n            if ($('#RememberSorting') !== undefined && $('#RememberSorting').is(':checked')) {\n                $('select[name=\"sql_query\"]').on('change', function () {\n                    Sql.autoSaveWithSort($(this).val());\n                });\n                $('.sortlink').on('click', function () {\n                    Sql.clearAutoSavedSort();\n                });\n            } else {\n                Sql.clearAutoSavedSort();\n            }\n            // If sql query with sort for current table is stored, change sort by key select value\n            var sortStoredQuery = useLocalStorageValue ? window.localStorage.autoSavedSqlSort : window.Cookies.get('autoSavedSqlSort', { path: CommonParams.get('rootPath') });\n            if (typeof sortStoredQuery !== 'undefined' && sortStoredQuery !== $('select[name=\"sql_query\"]').val() && $('select[name=\"sql_query\"] option[value=\"' + sortStoredQuery + '\"]').length !== 0) {\n                $('select[name=\"sql_query\"]').val(sortStoredQuery).trigger('change');\n            }\n        }\n    });\n\n    // Delete row from SQL results\n    $(document).on('click', 'a.delete_row.ajax', function (e) {\n        e.preventDefault();\n        var question =  window.sprintf(window.Messages.strDoYouReally, Functions.escapeHtml($(this).closest('td').find('div').text()));\n        var $link = $(this);\n        $link.confirm(question, $link.attr('href'), function (url) {\n            Functions.ajaxShowMessage();\n            var argsep = CommonParams.get('arg_separator');\n            var params = 'ajax_request=1' + argsep + 'is_js_confirmed=1';\n            var postData = $link.getPostData();\n            if (postData) {\n                params += argsep + postData;\n            }\n            $.post(url, params, function (data) {\n                if (data.success) {\n                    Functions.ajaxShowMessage(data.message);\n                    $link.closest('tr').remove();\n                } else {\n                    Functions.ajaxShowMessage(data.error, false);\n                }\n            });\n        });\n    });\n\n    // Ajaxification for 'Bookmark this SQL query'\n    $(document).on('submit', '.bookmarkQueryForm', function (e) {\n        e.preventDefault();\n        Functions.ajaxShowMessage();\n        var argsep = CommonParams.get('arg_separator');\n        $.post($(this).attr('action'), 'ajax_request=1' + argsep + $(this).serialize(), function (data) {\n            if (data.success) {\n                Functions.ajaxShowMessage(data.message);\n            } else {\n                Functions.ajaxShowMessage(data.error, false);\n            }\n        });\n    });\n\n    /* Hides the bookmarkoptions checkboxes when the bookmark label is empty */\n    $('input#bkm_label').on('input', function () {\n        $('input#id_bkm_all_users, input#id_bkm_replace')\n            .parent()\n            .toggle($(this).val().length > 0);\n    }).trigger('input');\n\n    /**\n     * Attach Event Handler for 'Copy to clipboard'\n     */\n    $(document).on('click', '#copyToClipBoard', function (event) {\n        event.preventDefault();\n\n        var textArea = document.createElement('textarea');\n\n        //\n        // *** This styling is an extra step which is likely not required. ***\n        //\n        // Why is it here? To ensure:\n        // 1. the element is able to have focus and selection.\n        // 2. if element was to flash render it has minimal visual impact.\n        // 3. less flakyness with selection and copying which **might** occur if\n        //    the textarea element is not visible.\n        //\n        // The likelihood is the element won't even render, not even a flash,\n        // so some of these are just precautions. However in IE the element\n        // is visible whilst the popup box asking the user for permission for\n        // the web page to copy to the clipboard.\n        //\n\n        // Place in top-left corner of screen regardless of scroll position.\n        textArea.style.position = 'fixed';\n        textArea.style.top = 0;\n        textArea.style.left = 0;\n\n        // Ensure it has a small width and height. Setting to 1px / 1em\n        // doesn't work as this gives a negative w/h on some browsers.\n        textArea.style.width = '2em';\n        textArea.style.height = '2em';\n\n        // We don't need padding, reducing the size if it does flash render.\n        textArea.style.padding = 0;\n\n        // Clean up any borders.\n        textArea.style.border = 'none';\n        textArea.style.outline = 'none';\n        textArea.style.boxShadow = 'none';\n\n        // Avoid flash of white box if rendered for any reason.\n        textArea.style.background = 'transparent';\n\n        textArea.value = '';\n\n        $('#server-breadcrumb a').each(function () {\n            textArea.value += $(this).data('raw-text') + '/';\n        });\n        textArea.value += '\\t\\t' + window.location.href;\n        textArea.value += '\\n';\n        $('.alert-success').each(function () {\n            textArea.value += $(this).text() + '\\n\\n';\n        });\n\n        $('.sql pre').each(function () {\n            textArea.value += $(this).text() + '\\n\\n';\n        });\n\n        $('.table_results .column_heading a').each(function () {\n            // Don't copy ordering number text within <small> tag\n            textArea.value += $(this).clone().find('small').remove().end().text() + '\\t';\n        });\n\n        textArea.value += '\\n';\n        $('.table_results tbody tr').each(function () {\n            $(this).find('.data span').each(function () {\n                // Extract <em> tag for NULL values before converting to string to not mess up formatting\n                var data = $(this).find('em').length !== 0 ? $(this).find('em')[0] : this;\n                textArea.value += $(data).text() + '\\t';\n            });\n            textArea.value += '\\n';\n        });\n\n        // eslint-disable-next-line compat/compat\n        document.body.appendChild(textArea);\n\n        textArea.select();\n\n        try {\n            document.execCommand('copy');\n        } catch (err) {\n            alert('Sorry! Unable to copy');\n        }\n\n        // eslint-disable-next-line compat/compat\n        document.body.removeChild(textArea);\n    }); // end of Copy to Clipboard action\n\n    /**\n     * Attach the {@link makegrid} function to a custom event, which will be\n     * triggered manually everytime the table of results is reloaded\n     * @memberOf    jQuery\n     */\n    $(document).on('makegrid', '.sqlqueryresults', function () {\n        $('.table_results').each(function () {\n            window.makeGrid(this);\n        });\n    });\n\n    /**\n     * Append the \"Show/Hide query box\" message to the query input form\n     *\n     * @memberOf jQuery\n     * @name    appendToggleSpan\n     */\n    // do not add this link more than once\n    if (! $('#sqlqueryform').find('button').is('#togglequerybox')) {\n        $('<button class=\"btn btn-secondary\" id=\"togglequerybox\"></button>')\n            .html(window.Messages.strHideQueryBox)\n            .appendTo('#sqlqueryform')\n        // initially hidden because at this point, nothing else\n        // appears under the link\n            .hide();\n\n        // Attach the toggling of the query box visibility to a click\n        $('#togglequerybox').on('click', function () {\n            var $link = $(this);\n            $link.siblings().slideToggle('fast');\n            if ($link.text() === window.Messages.strHideQueryBox) {\n                $link.text(window.Messages.strShowQueryBox);\n                // cheap trick to add a spacer between the menu tabs\n                // and \"Show query box\"; feel free to improve!\n                $('#togglequerybox_spacer').remove();\n                $link.before('<br id=\"togglequerybox_spacer\">');\n            } else {\n                $link.text(window.Messages.strHideQueryBox);\n            }\n            // avoid default click action\n            return false;\n        });\n    }\n\n\n    /**\n     * Event handler for sqlqueryform.ajax button_submit_query\n     *\n     * @memberOf    jQuery\n     */\n    $(document).on('click', '#button_submit_query', function () {\n        $('.alert-success,.alert-danger').hide();\n        // hide already existing error or success message\n        var $form = $(this).closest('form');\n        // the Go button related to query submission was clicked,\n        // instead of the one related to Bookmarks, so empty the\n        // id_bookmark selector to avoid misinterpretation in\n        // /import about what needs to be done\n        $form.find('select[name=id_bookmark]').val('');\n        var isShowQuery =  $('input[name=\"show_query\"]').is(':checked');\n        if (isShowQuery) {\n            window.localStorage.showThisQuery = '1';\n            var db = $('input[name=\"db\"]').val();\n            var table = $('input[name=\"table\"]').val();\n            var query;\n            if (window.codeMirrorEditor) {\n                query = window.codeMirrorEditor.getValue();\n            } else {\n                query = $('#sqlquery').val();\n            }\n            Sql.showThisQuery(db, table, query);\n        } else {\n            window.localStorage.showThisQuery = '0';\n        }\n    });\n\n    /**\n     * Event handler to show appropriate number of variable boxes\n     * based on the bookmarked query\n     */\n    $(document).on('change', '#id_bookmark', function () {\n        var varCount = $(this).find('option:selected').data('varcount');\n        if (typeof varCount === 'undefined') {\n            varCount = 0;\n        }\n\n        var $varDiv = $('#bookmarkVariables');\n        $varDiv.empty();\n        for (var i = 1; i <= varCount; i++) {\n            $varDiv.append($('<div class=\"mb-3\">'));\n            $varDiv.append($('<label for=\"bookmarkVariable' + i + '\">' + window.sprintf(window.Messages.strBookmarkVariable, i) + '</label>'));\n            $varDiv.append($('<input class=\"form-control\" type=\"text\" size=\"10\" name=\"bookmark_variable[' + i + ']\" id=\"bookmarkVariable' + i + '\">'));\n            $varDiv.append($('</div>'));\n        }\n\n        if (varCount === 0) {\n            $varDiv.parent().hide();\n        } else {\n            $varDiv.parent().show();\n        }\n    });\n\n    /**\n     * Event handler for hitting enter on sqlqueryform bookmark_variable\n     * (the Variable textfield in Bookmarked SQL query section)\n     *\n     * @memberOf    jQuery\n     */\n    $('input[name=bookmark_variable]').on('keypress', function (event) {\n        // force the 'Enter Key' to implicitly click the #button_submit_bookmark\n        var keycode = (event.keyCode ? event.keyCode : (event.which ? event.which : event.charCode));\n        if (keycode === 13) { // keycode for enter key\n            // When you press enter in the sqlqueryform, which\n            // has 2 submit buttons, the default is to run the\n            // #button_submit_query, because of the tabindex\n            // attribute.\n            // This submits #button_submit_bookmark instead,\n            // because when you are in the Bookmarked SQL query\n            // section and hit enter, you expect it to do the\n            // same action as the Go button in that section.\n            $('#button_submit_bookmark').trigger('click');\n            return false;\n        } else  {\n            return true;\n        }\n    });\n\n    /**\n     * Ajax Event handler for 'SQL Query Submit'\n     *\n     * @see         Functions.ajaxShowMessage()\n     * @memberOf    jQuery\n     * @name        sqlqueryform_submit\n     */\n    $(document).on('submit', '#sqlqueryform.ajax', function (event) {\n        event.preventDefault();\n\n        var $form = $(this);\n        if (window.codeMirrorEditor) {\n            $form[0].elements.sql_query.value = window.codeMirrorEditor.getValue();\n        }\n        if (! Functions.checkSqlQuery($form[0])) {\n            return false;\n        }\n\n        // remove any div containing a previous error message\n        $('.alert-danger').remove();\n\n        var $msgbox = Functions.ajaxShowMessage();\n        var $sqlqueryresultsouter = $('#sqlqueryresultsouter');\n\n        Functions.prepareForAjaxRequest($form);\n\n        var argsep = CommonParams.get('arg_separator');\n        $.post($form.attr('action'), $form.serialize() + argsep + 'ajax_page_request=true', function (data) {\n            if (typeof data !== 'undefined' && data.success === true) {\n                // success happens if the query returns rows or not\n\n                // show a message that stays on screen\n                if (typeof data.action_bookmark !== 'undefined') {\n                    // view only\n                    if ('1' === data.action_bookmark) {\n                        $('#sqlquery').text(data.sql_query);\n                        // send to codemirror if possible\n                        setQuery(data.sql_query);\n                    }\n                    // delete\n                    if ('2' === data.action_bookmark) {\n                        $('#id_bookmark option[value=\\'' + data.id_bookmark + '\\']').remove();\n                        // if there are no bookmarked queries now (only the empty option),\n                        // remove the bookmark section\n                        if ($('#id_bookmark option').length === 1) {\n                            $('#fieldsetBookmarkOptions').hide();\n                            $('#fieldsetBookmarkOptionsFooter').hide();\n                        }\n                    }\n                }\n                $sqlqueryresultsouter\n                    .show()\n                    .html(data.message);\n                Functions.highlightSql($sqlqueryresultsouter);\n\n                if (data.menu) {\n                    history.replaceState({\n                        menu : data.menu\n                    },\n                    null\n                    );\n                    AJAX.handleMenu.replace(data.menu);\n                }\n\n                if (data.params) {\n                    CommonParams.setAll(data.params);\n                }\n\n                if (typeof data.ajax_reload !== 'undefined') {\n                    if (data.ajax_reload.reload) {\n                        if (data.ajax_reload.table_name) {\n                            CommonParams.set('table', data.ajax_reload.table_name);\n                            CommonActions.refreshMain();\n                        } else {\n                            Navigation.reload();\n                        }\n                    }\n                } else if (typeof data.reload !== 'undefined') {\n                    // this happens if a USE or DROP command was typed\n                    CommonActions.setDb(data.db);\n                    var url;\n                    if (data.db) {\n                        if (data.table) {\n                            url = 'index.php?route=/table/sql';\n                        } else {\n                            url = 'index.php?route=/database/sql';\n                        }\n                    } else {\n                        url = 'index.php?route=/server/sql';\n                    }\n                    CommonActions.refreshMain(url, function () {\n                        $('#sqlqueryresultsouter')\n                            .show()\n                            .html(data.message);\n                        Functions.highlightSql($('#sqlqueryresultsouter'));\n                    });\n                }\n\n                $('.sqlqueryresults').trigger('makegrid');\n                $('#togglequerybox').show();\n\n                if (typeof data.action_bookmark === 'undefined') {\n                    if ($('#sqlqueryform input[name=\"retain_query_box\"]').is(':checked') !== true) {\n                        if ($('#togglequerybox').siblings(':visible').length > 0) {\n                            $('#togglequerybox').trigger('click');\n                        }\n                    }\n                }\n            } else if (typeof data !== 'undefined' && data.success === false) {\n                // show an error message that stays on screen\n                $sqlqueryresultsouter\n                    .show()\n                    .html(data.error);\n                $('html, body').animate({ scrollTop: $(document).height() }, 200);\n            }\n            Functions.ajaxRemoveMessage($msgbox);\n        }); // end $.post()\n    }); // end SQL Query submit\n\n    /**\n     * Ajax Event handler for the display options\n     * @memberOf    jQuery\n     * @name        displayOptionsForm_submit\n     */\n    $(document).on('submit', 'form[name=\\'displayOptionsForm\\'].ajax', function (event) {\n        event.preventDefault();\n\n        var $form = $(this);\n\n        var $msgbox = Functions.ajaxShowMessage();\n        var argsep = CommonParams.get('arg_separator');\n        $.post($form.attr('action'), $form.serialize() + argsep + 'ajax_request=true', function (data) {\n            Functions.ajaxRemoveMessage($msgbox);\n            var $sqlqueryresults = $form.parents('.sqlqueryresults');\n            $sqlqueryresults\n                .html(data.message)\n                .trigger('makegrid');\n            Functions.highlightSql($sqlqueryresults);\n        }); // end $.post()\n    }); // end displayOptionsForm handler\n\n    // Filter row handling. --STARTS--\n    $(document).on('keyup', '.filter_rows', function () {\n        var uniqueId = $(this).data('for');\n        var $targetTable = $('.table_results[data-uniqueId=\\'' + uniqueId + '\\']');\n        var $headerCells = $targetTable.find('th[data-column]');\n        var targetColumns = [];\n\n        // To handle colspan=4, in case of edit, copy, etc options (Table row links). Add 3 dummy <TH> elements - only when the Table row links are NOT on the \"Right\"\n        var rowLinksLocation = ($targetTable.find('thead > tr > th')).first();\n        var dummyTh = (rowLinksLocation[0].getAttribute('colspan') !== null) ? '<th class=\"hide dummy_th\"></th><th class=\"hide dummy_th\"></th><th class=\"hide dummy_th\"></th>' : ''; // Selecting columns that will be considered for filtering and searching.\n\n        // Selecting columns that will be considered for filtering and searching.\n        $headerCells.each(function () {\n            targetColumns.push($(this).text().trim());\n        });\n\n        var phrase = $(this).val();\n        // Set same value to both Filter rows fields.\n        $('.filter_rows[data-for=\\'' + uniqueId + '\\']').not(this).val(phrase);\n        // Handle colspan.\n        $targetTable.find('thead > tr').prepend(dummyTh);\n        $.uiTableFilter($targetTable, phrase, targetColumns);\n        $targetTable.find('th.dummy_th').remove();\n    });\n    // Filter row handling. --ENDS--\n\n    // Prompt to confirm on Show All\n    $('body').on('click', '.navigation .showAllRows', function (e) {\n        e.preventDefault();\n        var $form = $(this).parents('form');\n\n        Sql.submitShowAllForm = function () {\n            var argsep = CommonParams.get('arg_separator');\n            var submitData = $form.serialize() + argsep + 'ajax_request=true' + argsep + 'ajax_page_request=true';\n            Functions.ajaxShowMessage();\n            AJAX.source = $form;\n            $.post($form.attr('action'), submitData, AJAX.responseHandler);\n        };\n\n        if (! $(this).is(':checked')) { // already showing all rows\n            Sql.submitShowAllForm();\n        } else {\n            $form.confirm(window.Messages.strShowAllRowsWarning, $form.attr('action'), function () {\n                Sql.submitShowAllForm();\n            });\n        }\n    });\n\n    $('body').on('keyup', '#sqlqueryform', function () {\n        handleSimulateQueryButton();\n    });\n\n    /**\n     * Ajax event handler for 'Simulate DML'.\n     */\n    $('body').on('click', '#simulate_dml', function () {\n        var $form = $('#sqlqueryform');\n        var query = '';\n        var delimiter = $('#id_sql_delimiter').val();\n        var dbName = $form.find('input[name=\"db\"]').val();\n\n        if (window.codeMirrorEditor) {\n            query = window.codeMirrorEditor.getValue();\n        } else {\n            query = $('#sqlquery').val();\n        }\n\n        if (query.length === 0) {\n            alert(window.Messages.strFormEmpty);\n            $('#sqlquery').trigger('focus');\n            return false;\n        }\n\n        var $msgbox = Functions.ajaxShowMessage();\n        $.ajax({\n            type: 'POST',\n            url: 'index.php?route=/import/simulate-dml',\n            data: {\n                'server': CommonParams.get('server'),\n                'db': dbName,\n                'ajax_request': '1',\n                'sql_query': query,\n                'sql_delimiter': delimiter\n            },\n            success: function (response) {\n                Functions.ajaxRemoveMessage($msgbox);\n                if (response.success) {\n                    var dialogContent = '<div class=\"preview_sql\">';\n                    if (response.sql_data) {\n                        var len = response.sql_data.length;\n                        for (var i = 0; i < len; i++) {\n                            dialogContent += '<strong>' + window.Messages.strSQLQuery +\n                                '</strong>' + response.sql_data[i].sql_query +\n                                window.Messages.strMatchedRows +\n                                ' <a href=\"' + response.sql_data[i].matched_rows_url +\n                                '\">' + response.sql_data[i].matched_rows + '</a><br>';\n                            if (i < len - 1) {\n                                dialogContent += '<hr>';\n                            }\n                        }\n                    } else {\n                        dialogContent += response.message;\n                    }\n                    dialogContent += '</div>';\n                    var $dialogContent = $(dialogContent);\n                    var modal = $('#simulateDmlModal');\n                    modal.modal('show');\n                    modal.find('.modal-body').first().html($dialogContent);\n                    modal.on('shown.bs.modal', function () {\n                        Functions.highlightSql(modal);\n                    });\n                } else {\n                    Functions.ajaxShowMessage(response.error);\n                }\n            },\n            error: function () {\n                Functions.ajaxShowMessage(window.Messages.strErrorProcessingRequest);\n            }\n        });\n    });\n\n    /**\n     * Handles multi submits of results browsing page such as edit, delete and export\n     */\n    $('body').on('click', 'form[name=\"resultsForm\"].ajax button[name=\"submit_mult\"], form[name=\"resultsForm\"].ajax input[name=\"submit_mult\"]', function (e) {\n        e.preventDefault();\n        var $button = $(this);\n        var action = $button.val();\n        var $form = $button.closest('form');\n        var argsep = CommonParams.get('arg_separator');\n        var submitData = $form.serialize() + argsep + 'ajax_request=true' + argsep + 'ajax_page_request=true' + argsep;\n        Functions.ajaxShowMessage();\n        AJAX.source = $form;\n\n        var url;\n        if (action === 'edit') {\n            submitData = submitData + argsep + 'default_action=update';\n            url = 'index.php?route=/table/change/rows';\n        } else if (action === 'copy') {\n            submitData = submitData + argsep + 'default_action=insert';\n            url = 'index.php?route=/table/change/rows';\n        } else if (action === 'export') {\n            url = 'index.php?route=/table/export/rows';\n        } else if (action === 'delete') {\n            url = 'index.php?route=/table/delete/confirm';\n        } else {\n            return;\n        }\n\n        $.post(url, submitData, AJAX.responseHandler);\n    });\n\n    $(document).on('submit', '.maxRowsForm', function () {\n        var unlimNumRows = $(this).find('input[name=\"unlim_num_rows\"]').val();\n\n        var maxRowsCheck = Functions.checkFormElementInRange(\n            this,\n            'session_max_rows',\n            window.Messages.strNotValidRowNumber,\n            1\n        );\n        var posCheck = Functions.checkFormElementInRange(\n            this,\n            'pos',\n            window.Messages.strNotValidRowNumber,\n            0,\n            unlimNumRows > 0 ? unlimNumRows - 1 : null\n        );\n\n        return maxRowsCheck && posCheck;\n    });\n\n    $('#insertBtn').on('click', function () {\n        insertValueQuery();\n    });\n\n    $('#view_as').on('click', function () {\n        selectContent(this);\n    });\n\n    $('#sqlquery').on('click', function () {\n        if ($(this).data('textarea-auto-select') === true) {\n            selectContent(this);\n        }\n    });\n\n    $(document).on('click', 'input.sqlbutton', function (evt) {\n        insertQuery(evt.target.id);\n        handleSimulateQueryButton();\n        return false;\n    });\n\n    $('#fieldsSelect').on('dblclick', () => {\n        insertValueQuery();\n    });\n});\n\n/**\n * Starting from some th, change the class of all td under it.\n * If isAddClass is specified, it will be used to determine whether to add or remove the class.\n *\n * @param $thisTh\n * @param {string} newClass\n * @param isAddClass\n */\nSql.changeClassForColumn = function ($thisTh, newClass, isAddClass) {\n    // index 0 is the th containing the big T\n    var thIndex = $thisTh.index();\n    var hasBigT = $thisTh.closest('tr').children().first().hasClass('column_action');\n    // .eq() is zero-based\n    if (hasBigT) {\n        thIndex--;\n    }\n    var $table = $thisTh.parents('.table_results');\n    if (! $table.length) {\n        $table = $thisTh.parents('table').siblings('.table_results');\n    }\n    var $tds = $table.find('tbody tr').find('td.data').eq(thIndex);\n    if (isAddClass === undefined) {\n        $tds.toggleClass(newClass);\n    } else {\n        $tds.toggleClass(newClass, isAddClass);\n    }\n};\n\n/**\n * Handles browse foreign values modal dialog\n *\n * @param {object} $thisA reference to the browse foreign value link\n */\nSql.browseForeignDialog = function ($thisA) {\n    var formId = '#browse_foreign_form';\n    var showAllId = '#foreign_showAll';\n    var tableId = '#browse_foreign_table';\n    var filterId = '#input_foreign_filter';\n    var $dialog = null;\n    var argSep = CommonParams.get('arg_separator');\n    var params = $thisA.getPostData();\n    params += argSep + 'ajax_request=true';\n    $.post($thisA.attr('href'), params, function (data) {\n        // Creates browse foreign value dialog\n        $dialog = $('<div>').append(data.message).dialog({\n            classes: {\n                'ui-dialog-titlebar-close': 'btn-close'\n            },\n            title: window.Messages.strBrowseForeignValues,\n            width: Math.min($(window).width() - 100, 700),\n            maxHeight: $(window).height() - 100,\n            dialogClass: 'browse_foreign_modal',\n            close: function () {\n                // remove event handlers attached to elements related to dialog\n                $(tableId).off('click', 'td a.foreign_value');\n                $(formId).off('click', showAllId);\n                $(formId).off('submit');\n                // remove dialog itself\n                $(this).remove();\n            },\n            modal: true\n        });\n    }).done(function () {\n        var showAll = false;\n        $(tableId).on('click', 'td a.foreign_value', function (e) {\n            e.preventDefault();\n            var $input = $thisA.prev('input[type=text]');\n            // Check if input exists or get CEdit edit_box\n            if ($input.length === 0) {\n                $input = $thisA.closest('.edit_area').prev('.edit_box');\n            }\n            // Set selected value as input value\n            $input.val($(this).data('key'));\n            // Unchecks the Ignore checkbox for the current row\n            $input.trigger('change');\n\n            $dialog.dialog('close');\n        });\n        $(formId).on('click', showAllId, function () {\n            showAll = true;\n        });\n        $(formId).on('submit', function (e) {\n            e.preventDefault();\n            // if filter value is not equal to old value\n            // then reset page number to 1\n            if ($(filterId).val() !== $(filterId).data('old')) {\n                $(formId).find('select[name=pos]').val('0');\n            }\n            var postParams = $(this).serializeArray();\n            // if showAll button was clicked to submit form then\n            // add showAll button parameter to form\n            if (showAll) {\n                postParams.push({\n                    name: $(showAllId).attr('name'),\n                    value: $(showAllId).val()\n                });\n            }\n            // updates values in dialog\n            $.post($(this).attr('action') + '&ajax_request=1', postParams, function (data) {\n                var $obj = $('<div>').html(data.message);\n                $(formId).html($obj.find(formId).html());\n                $(tableId).html($obj.find(tableId).html());\n            });\n            showAll = false;\n        });\n    });\n};\n\n/**\n * Get the auto saved query key\n * @return {String}\n */\nSql.getAutoSavedKey = function () {\n    var db = $('input[name=\"db\"]').val();\n    var table = $('input[name=\"table\"]').val();\n    var key = db;\n    if (table !== undefined) {\n        key += '.' + table;\n    }\n    return 'autoSavedSql_' + key;\n};\n\nSql.checkSavedQuery = function () {\n    var key = Sql.getAutoSavedKey();\n\n    if (Config.isStorageSupported('localStorage') &&\n        typeof window.localStorage.getItem(key) === 'string') {\n        Functions.ajaxShowMessage(window.Messages.strPreviousSaveQuery);\n    } else if (window.Cookies.get(key, { path: CommonParams.get('rootPath') })) {\n        Functions.ajaxShowMessage(window.Messages.strPreviousSaveQuery);\n    }\n};\n\nAJAX.registerOnload('sql.js', function () {\n    $('body').on('click', 'a.browse_foreign', function (e) {\n        e.preventDefault();\n        Sql.browseForeignDialog($(this));\n    });\n\n    /**\n     * vertical column highlighting in horizontal mode when hovering over the column header\n     */\n    $(document).on('mouseenter', 'th.column_heading.pointer', function () {\n        Sql.changeClassForColumn($(this), 'hover', true);\n    });\n    $(document).on('mouseleave', 'th.column_heading.pointer', function () {\n        Sql.changeClassForColumn($(this), 'hover', false);\n    });\n\n    /**\n     * vertical column marking in horizontal mode when clicking the column header\n     */\n    $(document).on('click', 'th.column_heading.marker', function () {\n        Sql.changeClassForColumn($(this), 'marked');\n    });\n\n    /**\n     * create resizable table\n     */\n    $('.sqlqueryresults').trigger('makegrid');\n\n    /**\n     * Check if there is any saved query\n     */\n    if (window.codeMirrorEditor || document.sqlform) {\n        Sql.checkSavedQuery();\n    }\n});\n\n/**\n * Profiling Chart\n */\nSql.makeProfilingChart = function () {\n    if ($('#profilingchart').length === 0 ||\n        $('#profilingchart').html().length !== 0 ||\n        !$.jqplot || !$.jqplot.Highlighter || !$.jqplot.PieRenderer\n    ) {\n        return;\n    }\n\n    var data = [];\n    $.each(JSON.parse($('#profilingChartData').html()), function (key, value) {\n        data.push([key, parseFloat(value)]);\n    });\n\n    // Remove chart and data divs contents\n    $('#profilingchart').html('').show();\n    $('#profilingChartData').html('');\n\n    Functions.createProfilingChart('profilingchart', data);\n};\n\n/**\n * initialize profiling data tables\n */\nSql.initProfilingTables = function () {\n    if (!$.tablesorter) {\n        return;\n    }\n    // Added to allow two direction sorting\n    $('#profiletable')\n        .find('thead th')\n        .off('click mousedown');\n\n    $('#profiletable').tablesorter({\n        widgets: ['zebra'],\n        sortList: [[0, 0]],\n        textExtraction: function (node) {\n            if (node.children.length > 0) {\n                return node.children[0].innerHTML;\n            } else {\n                return node.innerHTML;\n            }\n        }\n    });\n    // Added to allow two direction sorting\n    $('#profilesummarytable')\n        .find('thead th')\n        .off('click mousedown');\n\n    $('#profilesummarytable').tablesorter({\n        widgets: ['zebra'],\n        sortList: [[1, 1]],\n        textExtraction: function (node) {\n            if (node.children.length > 0) {\n                return node.children[0].innerHTML;\n            } else {\n                return node.innerHTML;\n            }\n        }\n    });\n};\n\nAJAX.registerOnload('sql.js', function () {\n    Sql.makeProfilingChart();\n    Sql.initProfilingTables();\n});\n"],"names":["$","AJAX","Functions","Navigation","CommonActions","CommonParams","Config","Sql","window","urlDecode","str","decodeURIComponent","replace","urlEncode","encodeURIComponent","autoSave","query","key","getAutoSavedKey","isStorageSupported","localStorage","setItem","Cookies","set","path","get","showThisQuery","db","table","showThisQueryObject","JSON","stringify","setShowThisQuery","val","undefined","storedDb","parse","storedTable","storedQuery","prop","codeMirrorEditor","setValue","document","sqlform","sql_query","value","autoSaveWithSort","clearAutoSavedSort","removeItem","getFieldName","$tableResults","$thisField","thisFieldIndex","index","leftActionExist","find","first","hasClass","leftActionSkip","attr","fieldName","eq","clone","children","remove","end","text","$heading","$tempColComment","detach","append","trim","sqlBoxLocked","onlyOnceElements","handleSimulateQueryButton","updateRegExp","RegExp","deleteRegExp","getValue","$simulateDml","test","length","before","Messages","strSimulateDML","selectContent","element","name","select","setQuery","focus","insertQuery","queryType","html","strFormatting","themeImagePath","params","ajax","type","url","data","success","sql","error","getItem","ajaxShowMessage","strNoAutoSavedQuery","myListBox","dummy","options","columnsList","valDis","editDis","NbSelect","i","insertValueQuery","myQuery","selected","replaceSelection","selection","sel","createRange","selectionStart","startPos","endPos","selectionEnd","SqlString","substring","registerTeardown","off","registerOnload","on","useLocalStorageValue","autoSavedSqlSort","is","sortStoredQuery","trigger","e","preventDefault","question","sprintf","strDoYouReally","escapeHtml","closest","$link","confirm","argsep","postData","getPostData","post","message","serialize","parent","toggle","event","textArea","createElement","style","position","top","left","width","height","padding","border","outline","boxShadow","background","each","location","href","body","appendChild","execCommand","err","alert","removeChild","makeGrid","strHideQueryBox","appendTo","hide","siblings","slideToggle","strShowQueryBox","$form","isShowQuery","varCount","$varDiv","empty","strBookmarkVariable","show","keycode","keyCode","which","charCode","elements","checkSqlQuery","$msgbox","$sqlqueryresultsouter","prepareForAjaxRequest","action_bookmark","id_bookmark","highlightSql","menu","history","replaceState","handleMenu","setAll","ajax_reload","reload","table_name","refreshMain","setDb","animate","scrollTop","ajaxRemoveMessage","$sqlqueryresults","parents","uniqueId","$targetTable","$headerCells","targetColumns","rowLinksLocation","dummyTh","getAttribute","push","phrase","not","prepend","uiTableFilter","submitShowAllForm","submitData","source","responseHandler","strShowAllRowsWarning","delimiter","dbName","strFormEmpty","response","dialogContent","sql_data","len","strSQLQuery","strMatchedRows","matched_rows_url","matched_rows","$dialogContent","modal","strErrorProcessingRequest","$button","action","unlimNumRows","maxRowsCheck","checkFormElementInRange","strNotValidRowNumber","posCheck","evt","target","id","changeClassForColumn","$thisTh","newClass","isAddClass","thIndex","hasBigT","$table","$tds","toggleClass","browseForeignDialog","$thisA","formId","showAllId","tableId","filterId","$dialog","argSep","dialog","classes","title","strBrowseForeignValues","Math","min","maxHeight","dialogClass","close","done","showAll","$input","prev","postParams","serializeArray","$obj","checkSavedQuery","strPreviousSaveQuery","makeProfilingChart","jqplot","Highlighter","PieRenderer","parseFloat","createProfilingChart","initProfilingTables","tablesorter","widgets","sortList","textExtraction","node","innerHTML"],"sourceRoot":""}