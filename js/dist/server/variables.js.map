{"version":3,"file":"server/variables.js","mappings":"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","sources":["webpack://phpmyadmin/./js/src/server/variables.js"],"sourcesContent":["/**\n * @fileoverview    Javascript functions used in server variables page\n * @name            Server Replication\n *\n * @requires    jQuery\n * @requires    jQueryUI\n * @requires    js/functions.js\n */\n/**\n * Unbind all event handlers before tearing down a page\n */\nAJAX.registerTeardown('server/variables.js', function () {\n    $(document).off('click', 'a.editLink');\n    $('#serverVariables').find('.var-name').find('a img').remove();\n});\n\nAJAX.registerOnload('server/variables.js', function () {\n    var $saveLink = $('a.saveLink');\n    var $cancelLink = $('a.cancelLink');\n\n    $('#serverVariables').find('.var-name').find('a').append(\n        $('#docImage').clone().css('display', 'inline-block')\n    );\n\n    /* Launches the variable editor */\n    $(document).on('click', 'a.editLink', function (event) {\n        event.preventDefault();\n        editVariable(this);\n    });\n\n    /* Allows the user to edit a server variable */\n    function editVariable (link) {\n        var $link = $(link);\n        var $cell = $link.parent();\n        var $valueCell = $link.parents('.var-row').find('.var-value');\n        var varName = $link.data('variable');\n\n        var $mySaveLink = $saveLink.clone().css('display', 'inline-block');\n        var $myCancelLink = $cancelLink.clone().css('display', 'inline-block');\n        var $msgbox = Functions.ajaxShowMessage();\n        var $myEditLink = $cell.find('a.editLink');\n        $cell.addClass('edit'); // variable is being edited\n        $myEditLink.remove(); // remove edit link\n\n        $mySaveLink.on('click', function () {\n            var $msgbox = Functions.ajaxShowMessage(Messages.strProcessingRequest);\n            $.post('index.php?route=/server/variables/set/' + encodeURIComponent(varName), {\n                'ajax_request': true,\n                'server': CommonParams.get('server'),\n                'varValue': $valueCell.find('input').val()\n            }, function (data) {\n                if (data.success) {\n                    $valueCell\n                        .html(data.variable)\n                        .data('content', data.variable);\n                    Functions.ajaxRemoveMessage($msgbox);\n                } else {\n                    if (data.error === '') {\n                        Functions.ajaxShowMessage(Messages.strRequestFailed, false);\n                    } else {\n                        Functions.ajaxShowMessage(data.error, false);\n                    }\n                    $valueCell.html($valueCell.data('content'));\n                }\n                $cell.removeClass('edit').html($myEditLink);\n            });\n            return false;\n        });\n\n        $myCancelLink.on('click', function () {\n            $valueCell.html($valueCell.data('content'));\n            $cell.removeClass('edit').html($myEditLink);\n            return false;\n        });\n\n        $.get('index.php?route=/server/variables/get/' + encodeURIComponent(varName), {\n            'ajax_request': true,\n            'server': CommonParams.get('server')\n        }, function (data) {\n            if (typeof data !== 'undefined' && data.success === true) {\n                var $links = $('<div></div>')\n                    .append($myCancelLink)\n                    .append('&nbsp;&nbsp;&nbsp;')\n                    .append($mySaveLink);\n                var $editor = $('<div></div>', { 'class': 'serverVariableEditor' })\n                    .append(\n                        $('<div></div>').append(\n                            $('<input>', { type: 'text', 'class': 'form-control form-control-sm' }).val(data.message)\n                        )\n                    );\n                    // Save and replace content\n                $cell\n                    .html($links)\n                    .children()\n                    .css('display', 'flex');\n                $valueCell\n                    .data('content', $valueCell.html())\n                    .html($editor)\n                    .find('input')\n                    .trigger('focus')\n                    .on('keydown', function (event) { // Keyboard shortcuts\n                        if (event.keyCode === 13) { // Enter key\n                            $mySaveLink.trigger('click');\n                        } else if (event.keyCode === 27) { // Escape key\n                            $myCancelLink.trigger('click');\n                        }\n                    });\n                Functions.ajaxRemoveMessage($msgbox);\n            } else {\n                $cell.removeClass('edit').html($myEditLink);\n                Functions.ajaxShowMessage(data.error);\n            }\n        });\n    }\n});\n"],"names":["AJAX","registerTeardown","$","document","off","find","remove","registerOnload","$saveLink","$cancelLink","append","clone","css","on","event","preventDefault","editVariable","link","$link","$cell","parent","$valueCell","parents","varName","data","$mySaveLink","$myCancelLink","$msgbox","Functions","ajaxShowMessage","$myEditLink","addClass","Messages","strProcessingRequest","post","encodeURIComponent","CommonParams","get","val","success","html","variable","ajaxRemoveMessage","error","strRequestFailed","removeClass","$links","$editor","type","message","children","trigger","keyCode"],"sourceRoot":""}