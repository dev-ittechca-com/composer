{"version":3,"file":"server/status/monitor.js","mappings":"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","sources":["webpack://phpmyadmin/./js/src/server/status/monitor.js"],"sourcesContent":["/**\n * @fileoverview    Javascript functions used in server status monitor page\n * @name            Server Status Monitor\n *\n * @requires    jQuery\n * @requires    jQueryUI\n * @requires    js/functions.js\n */\n\n/* global isStorageSupported */ // js/config.js\n/* global codeMirrorEditor:writable */ // js/functions.js\n/* global firstDayOfCalendar, themeImagePath */ // templates/javascript/variables.twig\n/* global variableNames */ // templates/server/status/monitor/index.twig\n\nvar runtime = {};\nvar serverTimeDiff;\nvar serverOs;\nvar isSuperUser;\nvar serverDbIsLocal;\nvar chartSize;\nvar monitorSettings;\n\nfunction serverResponseError () {\n    var btns = {};\n    btns[Messages.strReloadPage] = function () {\n        window.location.reload();\n    };\n    $('#emptyDialog').dialog({ title: Messages.strRefreshFailed });\n    $('#emptyDialog').html(\n        Functions.getImage('s_attention') +\n        Messages.strInvalidResponseExplanation\n    );\n    $('#emptyDialog').dialog({ buttons: btns });\n}\n\n/**\n * Destroys all monitor related resources\n */\nfunction destroyGrid () {\n    if (runtime.charts) {\n        $.each(runtime.charts, function (key, value) {\n            try {\n                value.chart.destroy();\n            } catch (err) {\n                // continue regardless of error\n            }\n        });\n    }\n\n    try {\n        runtime.refreshRequest.abort();\n    } catch (err) {\n        // continue regardless of error\n    }\n    try {\n        clearTimeout(runtime.refreshTimeout);\n    } catch (err) {\n        // continue regardless of error\n    }\n    $('#chartGrid').html('');\n    runtime.charts = null;\n    runtime.chartAI = 0;\n    monitorSettings = null;\n}\n\nAJAX.registerOnload('server/status/monitor.js', function () {\n    var $jsDataForm = $('#js_data');\n    serverTimeDiff = new Date().getTime() - $jsDataForm.find('input[name=server_time]').val();\n    serverOs = $jsDataForm.find('input[name=server_os]').val();\n    isSuperUser = $jsDataForm.find('input[name=is_superuser]').val();\n    serverDbIsLocal = $jsDataForm.find('input[name=server_db_isLocal]').val();\n});\n\n/**\n * Unbind all event handlers before tearing down a page\n */\nAJAX.registerTeardown('server/status/monitor.js', function () {\n    $('#emptyDialog').remove();\n    $('a.popupLink').off('click');\n    $('body').off('click');\n});\n/**\n * Popup behaviour\n */\nAJAX.registerOnload('server/status/monitor.js', function () {\n    $('<div></div>')\n        .attr('id', 'emptyDialog')\n        .appendTo('#page_content');\n\n    $('a.popupLink').on('click', function () {\n        var $link = $(this);\n        $('div.' + $link.attr('href').substring(1))\n            .show()\n            .offset({ top: $link.offset().top + $link.height() + 5, left: $link.offset().left })\n            .addClass('openedPopup');\n\n        return false;\n    });\n    $('body').on('click', function (event) {\n        $('div.openedPopup').each(function () {\n            var $cnt = $(this);\n            var pos = $cnt.offset();\n            // Hide if the mouseclick is outside the popupcontent\n            if (event.pageX < pos.left ||\n                event.pageY < pos.top ||\n                event.pageX > pos.left + $cnt.outerWidth() ||\n                event.pageY > pos.top + $cnt.outerHeight()\n            ) {\n                $cnt.hide().removeClass('openedPopup');\n            }\n        });\n    });\n});\n\nAJAX.registerTeardown('server/status/monitor.js', function () {\n    $('a[href=\"#rearrangeCharts\"], a[href=\"#endChartEditMode\"]').off('click');\n    $('div.popupContent select[name=\"chartColumns\"]').off('change');\n    $('div.popupContent select[name=\"gridChartRefresh\"]').off('change');\n    $('a[href=\"#addNewChart\"]').off('click');\n    $('a[href=\"#exportMonitorConfig\"]').off('click');\n    $('a[href=\"#importMonitorConfig\"]').off('click');\n    $('a[href=\"#clearMonitorConfig\"]').off('click');\n    $('a[href=\"#pauseCharts\"]').off('click');\n    $('a[href=\"#monitorInstructionsDialog\"]').off('click');\n    $('input[name=\"chartType\"]').off('click');\n    $('input[name=\"useDivisor\"]').off('click');\n    $('input[name=\"useUnit\"]').off('click');\n    $('select[name=\"varChartList\"]').off('click');\n    $('a[href=\"#kibDivisor\"]').off('click');\n    $('a[href=\"#mibDivisor\"]').off('click');\n    $('a[href=\"#submitClearSeries\"]').off('click');\n    $('a[href=\"#submitAddSeries\"]').off('click');\n    // $(\"input#variableInput\").destroy();\n    $('#chartPreset').off('click');\n    $('#chartStatusVar').off('click');\n    destroyGrid();\n});\n\nAJAX.registerOnload('server/status/monitor.js', function () {\n    // Show tab links\n    $('div.tabLinks').show();\n    $('#loadingMonitorIcon').remove();\n    // Codemirror is loaded on demand so we might need to initialize it\n    if (! codeMirrorEditor) {\n        var $elm = $('#sqlquery');\n        if ($elm.length > 0 && typeof CodeMirror !== 'undefined') {\n            codeMirrorEditor = CodeMirror.fromTextArea(\n                $elm[0],\n                {\n                    lineNumbers: true,\n                    matchBrackets: true,\n                    indentUnit: 4,\n                    mode: 'text/x-mysql',\n                    lineWrapping: true\n                }\n            );\n        }\n    }\n    // Timepicker is loaded on demand so we need to initialize\n    // datetime fields from the 'load log' dialog\n    $('#logAnalyseDialog').find('.datetimefield').each(function () {\n        Functions.addDatepicker($(this));\n    });\n\n    /** ** Monitor charting implementation ****/\n    /* Saves the previous ajax response for differential values */\n    var oldChartData = null;\n    // Holds about to be created chart\n    var newChart = null;\n    var chartSpacing;\n\n    // Whenever the monitor object (runtime.charts) or the settings object\n    // (monitorSettings) changes in a way incompatible to the previous version,\n    // increase this number. It will reset the users monitor and settings object\n    // in their localStorage to the default configuration\n    var monitorProtocolVersion = '1.0';\n\n    // Runtime parameter of the monitor, is being fully set in initGrid()\n    runtime = {\n        // Holds all visible charts in the grid\n        charts: null,\n        // Stores the timeout handler so it can be cleared\n        refreshTimeout: null,\n        // Stores the GET request to refresh the charts\n        refreshRequest: null,\n        // Chart auto increment\n        chartAI: 0,\n        // To play/pause the monitor\n        redrawCharts: false,\n        // Object that contains a list of nodes that need to be retrieved\n        // from the server for chart updates\n        dataList: [],\n        // Current max points per chart (needed for auto calculation)\n        gridMaxPoints: 20,\n        // displayed time frame\n        xmin: -1,\n        xmax: -1\n    };\n    monitorSettings = null;\n\n    var defaultMonitorSettings = {\n        columns: 3,\n        chartSize: { width: 295, height: 250 },\n        // Max points in each chart. Settings it to 'auto' sets\n        // gridMaxPoints to (chartwidth - 40) / 12\n        gridMaxPoints: 'auto',\n        /* Refresh rate of all grid charts in ms */\n        gridRefresh: 5000\n    };\n\n    // Allows drag and drop rearrange and print/edit icons on charts\n    var editMode = false;\n\n    /* List of preconfigured charts that the user may select */\n    var presetCharts = {\n        // Query cache efficiency\n        'qce': {\n            title: Messages.strQueryCacheEfficiency,\n            series: [{\n                label: Messages.strQueryCacheEfficiency\n            }],\n            nodes: [{\n                dataPoints: [{ type: 'statusvar', name: 'Qcache_hits' }, { type: 'statusvar', name: 'Com_select' }],\n                transformFn: 'qce'\n            }],\n            maxYLabel: 0\n        },\n        // Query cache usage\n        'qcu': {\n            title: Messages.strQueryCacheUsage,\n            series: [{\n                label: Messages.strQueryCacheUsed\n            }],\n            nodes: [{\n                dataPoints: [{ type: 'statusvar', name: 'Qcache_free_memory' }, { type: 'servervar', name: 'query_cache_size' }],\n                transformFn: 'qcu'\n            }],\n            maxYLabel: 0\n        }\n    };\n\n    // time span selection\n    var selectionTimeDiff = [];\n    var selectionStartX;\n    var selectionStartY;\n    var drawTimeSpan = false;\n\n    /* Add OS specific system info charts to the preset chart list */\n    switch (serverOs) {\n    case 'WINNT':\n        $.extend(presetCharts, {\n            'cpu': {\n                title: Messages.strSystemCPUUsage,\n                series: [{\n                    label: Messages.strAverageLoad\n                }],\n                nodes: [{\n                    dataPoints: [{ type: 'cpu', name: 'loadavg' }]\n                }],\n                maxYLabel: 100\n            },\n\n            'memory': {\n                title: Messages.strSystemMemory,\n                series: [{\n                    label: Messages.strTotalMemory,\n                    fill: true\n                }, {\n                    dataType: 'memory',\n                    label: Messages.strUsedMemory,\n                    fill: true\n                }],\n                nodes: [{ dataPoints: [{ type: 'memory', name: 'MemTotal' }], valueDivisor: 1024 },\n                    { dataPoints: [{ type: 'memory', name: 'MemUsed' }], valueDivisor: 1024 }\n                ],\n                maxYLabel: 0\n            },\n\n            'swap': {\n                title: Messages.strSystemSwap,\n                series: [{\n                    label: Messages.strTotalSwap,\n                    fill: true\n                }, {\n                    label: Messages.strUsedSwap,\n                    fill: true\n                }],\n                nodes: [{ dataPoints: [{ type: 'memory', name: 'SwapTotal' }] },\n                    { dataPoints: [{ type: 'memory', name: 'SwapUsed' }] }\n                ],\n                maxYLabel: 0\n            }\n        });\n        break;\n\n    case 'Linux':\n        $.extend(presetCharts, {\n            'cpu': {\n                title: Messages.strSystemCPUUsage,\n                series: [{\n                    label: Messages.strAverageLoad\n                }],\n                nodes: [{ dataPoints: [{ type: 'cpu', name: 'irrelevant' }], transformFn: 'cpu-linux' }],\n                maxYLabel: 0\n            },\n            'memory': {\n                title: Messages.strSystemMemory,\n                series: [\n                    { label: Messages.strBufferedMemory, fill: true },\n                    { label: Messages.strUsedMemory, fill: true },\n                    { label: Messages.strCachedMemory, fill: true },\n                    { label: Messages.strFreeMemory, fill: true }\n                ],\n                nodes: [\n                    { dataPoints: [{ type: 'memory', name: 'Buffers' }], valueDivisor: 1024 },\n                    { dataPoints: [{ type: 'memory', name: 'MemUsed' }], valueDivisor: 1024 },\n                    { dataPoints: [{ type: 'memory', name: 'Cached' }],  valueDivisor: 1024 },\n                    { dataPoints: [{ type: 'memory', name: 'MemFree' }], valueDivisor: 1024 }\n                ],\n                maxYLabel: 0\n            },\n            'swap': {\n                title: Messages.strSystemSwap,\n                series: [\n                    { label: Messages.strCachedSwap, fill: true },\n                    { label: Messages.strUsedSwap, fill: true },\n                    { label: Messages.strFreeSwap, fill: true }\n                ],\n                nodes: [\n                    { dataPoints: [{ type: 'memory', name: 'SwapCached' }], valueDivisor: 1024 },\n                    { dataPoints: [{ type: 'memory', name: 'SwapUsed' }], valueDivisor: 1024 },\n                    { dataPoints: [{ type: 'memory', name: 'SwapFree' }], valueDivisor: 1024 }\n                ],\n                maxYLabel: 0\n            }\n        });\n        break;\n\n    case 'SunOS':\n        $.extend(presetCharts, {\n            'cpu': {\n                title: Messages.strSystemCPUUsage,\n                series: [{\n                    label: Messages.strAverageLoad\n                }],\n                nodes: [{\n                    dataPoints: [{ type: 'cpu', name: 'loadavg' }]\n                }],\n                maxYLabel: 0\n            },\n            'memory': {\n                title: Messages.strSystemMemory,\n                series: [\n                    { label: Messages.strUsedMemory, fill: true },\n                    { label: Messages.strFreeMemory, fill: true }\n                ],\n                nodes: [\n                    { dataPoints: [{ type: 'memory', name: 'MemUsed' }], valueDivisor: 1024 },\n                    { dataPoints: [{ type: 'memory', name: 'MemFree' }], valueDivisor: 1024 }\n                ],\n                maxYLabel: 0\n            },\n            'swap': {\n                title: Messages.strSystemSwap,\n                series: [\n                    { label: Messages.strUsedSwap, fill: true },\n                    { label: Messages.strFreeSwap, fill: true }\n                ],\n                nodes: [\n                    { dataPoints: [{ type: 'memory', name: 'SwapUsed' }], valueDivisor: 1024 },\n                    { dataPoints: [{ type: 'memory', name: 'SwapFree' }], valueDivisor: 1024 }\n                ],\n                maxYLabel: 0\n            }\n        });\n        break;\n    }\n\n    // Default setting for the chart grid\n    var defaultChartGrid = {\n        'c0': {\n            title: Messages.strQuestions,\n            series: [\n                { label: Messages.strQuestions }\n            ],\n            nodes: [\n                { dataPoints: [{ type: 'statusvar', name: 'Questions' }], display: 'differential' }\n            ],\n            maxYLabel: 0\n        },\n        'c1': {\n            title: Messages.strChartConnectionsTitle,\n            series: [\n                { label: Messages.strConnections },\n                { label: Messages.strProcesses }\n            ],\n            nodes: [\n                { dataPoints: [{ type: 'statusvar', name: 'Connections' }], display: 'differential' },\n                { dataPoints: [{ type: 'proc', name: 'processes' }] }\n            ],\n            maxYLabel: 0\n        },\n        'c2': {\n            title: Messages.strTraffic,\n            series: [\n                { label: Messages.strBytesSent },\n                { label: Messages.strBytesReceived }\n            ],\n            nodes: [\n                { dataPoints: [{ type: 'statusvar', name: 'Bytes_sent' }], display: 'differential', valueDivisor: 1024 },\n                { dataPoints: [{ type: 'statusvar', name: 'Bytes_received' }], display: 'differential', valueDivisor: 1024 }\n            ],\n            maxYLabel: 0\n        }\n    };\n\n    // Server is localhost => We can add cpu/memory/swap to the default chart\n    if (serverDbIsLocal && typeof presetCharts.cpu !== 'undefined') {\n        defaultChartGrid.c3 = presetCharts.cpu;\n        defaultChartGrid.c4 = presetCharts.memory;\n        defaultChartGrid.c5 = presetCharts.swap;\n    }\n\n    $('a[href=\"#rearrangeCharts\"], a[href=\"#endChartEditMode\"]').on('click', function (event) {\n        event.preventDefault();\n        editMode = !editMode;\n        if ($(this).attr('href') === '#endChartEditMode') {\n            editMode = false;\n        }\n\n        $('a[href=\"#endChartEditMode\"]').toggle(editMode);\n\n        if (editMode) {\n            // Close the settings popup\n            $('div.popupContent').hide().removeClass('openedPopup');\n\n            $('#chartGrid').sortableTable({\n                ignoreRect: {\n                    top: 8,\n                    left: chartSize.width - 63,\n                    width: 54,\n                    height: 24\n                }\n            });\n        } else {\n            $('#chartGrid').sortableTable('destroy');\n        }\n        saveMonitor(); // Save settings\n        return false;\n    });\n\n    // global settings\n    $('div.popupContent select[name=\"chartColumns\"]').on('change', function () {\n        monitorSettings.columns = parseInt(this.value, 10);\n\n        calculateChartSize();\n        // Empty cells should keep their size so you can drop onto them\n        $('#chartGrid').find('tr td').css('width', chartSize.width + 'px');\n        $('#chartGrid').find('.monitorChart').css({\n            width: chartSize.width + 'px',\n            height: chartSize.height + 'px'\n        });\n\n        /* Reorder all charts that it fills all column cells */\n        var numColumns;\n        var $tr = $('#chartGrid').find('tr').first();\n\n        var tempManageCols = function () {\n            if (numColumns > monitorSettings.columns) {\n                if ($tr.next().length === 0) {\n                    $tr.after('<tr></tr>');\n                }\n                $tr.next().prepend($(this));\n            }\n            numColumns++;\n        };\n\n        var tempAddCol = function () {\n            if ($(this).next().length !== 0) {\n                $(this).append($(this).next().find('td').first());\n            }\n        };\n\n        while ($tr.length !== 0) {\n            numColumns = 1;\n            // To many cells in one row => put into next row\n            $tr.find('td').each(tempManageCols);\n\n            // To little cells in one row => for each cell to little,\n            // move all cells backwards by 1\n            if ($tr.next().length > 0) {\n                var cnt = monitorSettings.columns - $tr.find('td').length;\n                for (var i = 0; i < cnt; i++) {\n                    $tr.append($tr.next().find('td').first());\n                    $tr.nextAll().each(tempAddCol);\n                }\n            }\n\n            $tr = $tr.next();\n        }\n\n        if (monitorSettings.gridMaxPoints === 'auto') {\n            runtime.gridMaxPoints = Math.round((chartSize.width - 40) / 12);\n        }\n\n        runtime.xmin = new Date().getTime() - serverTimeDiff - runtime.gridMaxPoints * monitorSettings.gridRefresh;\n        runtime.xmax = new Date().getTime() - serverTimeDiff + monitorSettings.gridRefresh;\n\n        if (editMode) {\n            $('#chartGrid').sortableTable('refresh');\n        }\n\n        refreshChartGrid();\n        saveMonitor(); // Save settings\n    });\n\n    $('div.popupContent select[name=\"gridChartRefresh\"]').on('change', function () {\n        monitorSettings.gridRefresh = parseInt(this.value, 10) * 1000;\n        clearTimeout(runtime.refreshTimeout);\n\n        if (runtime.refreshRequest) {\n            runtime.refreshRequest.abort();\n        }\n\n        runtime.xmin = new Date().getTime() - serverTimeDiff - runtime.gridMaxPoints * monitorSettings.gridRefresh;\n        // fixing chart shift towards left on refresh rate change\n        // runtime.xmax = new Date().getTime() - serverTimeDiff + monitorSettings.gridRefresh;\n        runtime.refreshTimeout = setTimeout(refreshChartGrid, monitorSettings.gridRefresh);\n\n        saveMonitor(); // Save settings\n    });\n\n    $('a[href=\"#addNewChart\"]').on('click', function (event) {\n        event.preventDefault();\n\n        $('#addChartButton').on('click', function () {\n            var type = $('input[name=\"chartType\"]:checked').val();\n\n            if (type === 'preset') {\n                newChart = presetCharts[$('#addChartModal').find('select[name=\"presetCharts\"]').prop('value')];\n            } else {\n                // If user builds their own chart, it's being set/updated\n                // each time they add a series\n                // So here we only warn if they didn't add a series yet\n                if (! newChart || ! newChart.nodes || newChart.nodes.length === 0) {\n                    alert(Messages.strAddOneSeriesWarning);\n                    return;\n                }\n            }\n\n            newChart.title = $('input[name=\"chartTitle\"]').val();\n            // Add a cloned object to the chart grid\n            addChart($.extend(true, {}, newChart));\n\n            newChart = null;\n\n            saveMonitor(); // Save settings\n\n            $('#closeModalButton').off('click');\n        });\n\n        $('#closeModalButton').on('click', function () {\n            newChart = null;\n            $('span#clearSeriesLink').hide();\n            $('#seriesPreview').html('');\n            $('#closeModalButton').off('click');\n        });\n\n        var $presetList = $('#addChartModal').find('select[name=\"presetCharts\"]');\n        if ($presetList.html().length === 0) {\n            $.each(presetCharts, function (key, value) {\n                $presetList.append('<option value=\"' + key + '\">' + value.title + '</option>');\n            });\n            $presetList.on('change', function () {\n                $('input[name=\"chartTitle\"]').val(\n                    $presetList.find(':selected').text()\n                );\n                $('#chartPreset').prop('checked', true);\n            });\n            $('#chartPreset').on('click', function () {\n                $('input[name=\"chartTitle\"]').val(\n                    $presetList.find(':selected').text()\n                );\n            });\n            $('#chartStatusVar').on('click', function () {\n                $('input[name=\"chartTitle\"]').val(\n                    $('#chartSeries').find(':selected').text().replace(/_/g, ' ')\n                );\n            });\n            $('#chartSeries').on('change', function () {\n                $('input[name=\"chartTitle\"]').val(\n                    $('#chartSeries').find(':selected').text().replace(/_/g, ' ')\n                );\n            });\n        }\n\n        $('#addChartModal').modal('show');\n\n        $('#seriesPreview').html('<i>' + Messages.strNone + '</i>');\n\n        return false;\n    });\n\n    $('a[href=\"#exportMonitorConfig\"]').on('click', function (event) {\n        event.preventDefault();\n        var gridCopy = {};\n        $.each(runtime.charts, function (key, elem) {\n            gridCopy[key] = {};\n            gridCopy[key].nodes = elem.nodes;\n            gridCopy[key].series = elem.series;\n            gridCopy[key].settings = elem.settings;\n            gridCopy[key].title = elem.title;\n            gridCopy[key].maxYLabel = elem.maxYLabel;\n        });\n        var exportData = {\n            monitorCharts: gridCopy,\n            monitorSettings: monitorSettings\n        };\n\n        var blob = new Blob([JSON.stringify(exportData)], { type: 'application/octet-stream' });\n        var url = null;\n        var fileName = 'monitor-config.json';\n        if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n            window.navigator.msSaveOrOpenBlob(blob, fileName);\n        } else {\n            url = URL.createObjectURL(blob);\n            window.location.href = url;\n        }\n        setTimeout(function () {\n            // For some browsers it is necessary to delay revoking the ObjectURL\n            if (url !== null) {\n                window.URL.revokeObjectURL(url);\n            }\n            url = undefined;\n            blob = undefined;\n        }, 100);\n    });\n\n    $('a[href=\"#importMonitorConfig\"]').on('click', function (event) {\n        event.preventDefault();\n        $('#emptyDialog').dialog({ title: Messages.strImportDialogTitle });\n        $('#emptyDialog').html(Messages.strImportDialogMessage + ':<br><form>' +\n            '<input type=\"file\" name=\"file\" id=\"import_file\"> </form>');\n\n        var dlgBtns = {};\n\n        dlgBtns[Messages.strImport] = function () {\n            var input = $('#emptyDialog').find('#import_file')[0];\n            var reader = new FileReader();\n\n            reader.onerror = function (event) {\n                alert(Messages.strFailedParsingConfig + '\\n' + event.target.error.code);\n            };\n            reader.onload = function (e) {\n                var data = e.target.result;\n                var json = null;\n                // Try loading config\n                try {\n                    json = JSON.parse(data);\n                } catch (err) {\n                    alert(Messages.strFailedParsingConfig);\n                    $('#emptyDialog').dialog('close');\n                    return;\n                }\n\n                // Basic check, is this a monitor config json?\n                if (!json || ! json.monitorCharts || ! json.monitorCharts) {\n                    alert(Messages.strFailedParsingConfig);\n                    $('#emptyDialog').dialog('close');\n                    return;\n                }\n\n                // If json ok, try applying config\n                try {\n                    if (isStorageSupported('localStorage')) {\n                        window.localStorage.monitorCharts = JSON.stringify(json.monitorCharts);\n                        window.localStorage.monitorSettings = JSON.stringify(json.monitorSettings);\n                    }\n                    rebuildGrid();\n                } catch (err) {\n                    alert(Messages.strFailedBuildingGrid);\n                    // If an exception is thrown, load default again\n                    if (isStorageSupported('localStorage')) {\n                        window.localStorage.removeItem('monitorCharts');\n                        window.localStorage.removeItem('monitorSettings');\n                    }\n                    rebuildGrid();\n                }\n\n                $('#emptyDialog').dialog('close');\n            };\n            reader.readAsText(input.files[0]);\n        };\n\n        dlgBtns[Messages.strCancel] = function () {\n            $(this).dialog('close');\n        };\n\n        $('#emptyDialog').dialog({\n            width: 'auto',\n            height: 'auto',\n            buttons: dlgBtns\n        });\n    });\n\n    $('a[href=\"#clearMonitorConfig\"]').on('click', function (event) {\n        event.preventDefault();\n        if (isStorageSupported('localStorage')) {\n            window.localStorage.removeItem('monitorCharts');\n            window.localStorage.removeItem('monitorSettings');\n            window.localStorage.removeItem('monitorVersion');\n        }\n        $(this).hide();\n        rebuildGrid();\n    });\n\n    $('a[href=\"#pauseCharts\"]').on('click', function (event) {\n        event.preventDefault();\n        runtime.redrawCharts = ! runtime.redrawCharts;\n        if (! runtime.redrawCharts) {\n            $(this).html(Functions.getImage('play') + Messages.strResumeMonitor);\n        } else {\n            $(this).html(Functions.getImage('pause') + Messages.strPauseMonitor);\n            if (! runtime.charts) {\n                initGrid();\n                $('a[href=\"#settingsPopup\"]').show();\n            }\n        }\n        return false;\n    });\n\n    $('a[href=\"#monitorInstructionsDialog\"]').on('click', function (event) {\n        event.preventDefault();\n\n        var $dialog = $('#monitorInstructionsDialog');\n        var dlgBtns = {};\n        dlgBtns[Messages.strClose] = function () {\n            $(this).dialog('close');\n        };\n        $dialog.dialog({\n            width: '60%',\n            height: 'auto',\n            buttons: dlgBtns\n        }).find('img.ajaxIcon').show();\n\n        var loadLogVars = function (getvars) {\n            var vars = {\n                'ajax_request': true,\n                'server': CommonParams.get('server')\n            };\n            if (getvars) {\n                $.extend(vars, getvars);\n            }\n\n            $.post('index.php?route=/server/status/monitor/log-vars', vars,\n                function (data) {\n                    var logVars;\n                    if (typeof data !== 'undefined' && data.success === true) {\n                        logVars = data.message;\n                    } else {\n                        return serverResponseError();\n                    }\n                    var icon = Functions.getImage('s_success');\n                    var msg = '';\n                    var str = '';\n\n                    if (logVars.general_log === 'ON') {\n                        if (logVars.slow_query_log === 'ON') {\n                            msg = Messages.strBothLogOn;\n                        } else {\n                            msg = Messages.strGenLogOn;\n                        }\n                    }\n\n                    if (msg.length === 0 && logVars.slow_query_log === 'ON') {\n                        msg = Messages.strSlowLogOn;\n                    }\n\n                    if (msg.length === 0) {\n                        icon = Functions.getImage('s_error');\n                        msg = Messages.strBothLogOff;\n                    }\n\n                    str = '<b>' + Messages.strCurrentSettings + '</b><br><div class=\"smallIndent\">';\n                    str += icon + msg + '<br>';\n\n                    if (logVars.log_output !== 'TABLE') {\n                        str += Functions.getImage('s_error') + ' ' + Messages.strLogOutNotTable + '<br>';\n                    } else {\n                        str += Functions.getImage('s_success') + ' ' + Messages.strLogOutIsTable + '<br>';\n                    }\n\n                    if (logVars.slow_query_log === 'ON') {\n                        if (logVars.long_query_time > 2) {\n                            str += Functions.getImage('s_attention') + ' ';\n                            str += Functions.sprintf(Messages.strSmallerLongQueryTimeAdvice, logVars.long_query_time);\n                            str += '<br>';\n                        }\n\n                        if (logVars.long_query_time < 2) {\n                            str += Functions.getImage('s_success') + ' ';\n                            str += Functions.sprintf(Messages.strLongQueryTimeSet, logVars.long_query_time);\n                            str += '<br>';\n                        }\n                    }\n\n                    str += '</div>';\n\n                    if (isSuperUser) {\n                        str += '<p></p><b>' + Messages.strChangeSettings + '</b>';\n                        str += '<div class=\"smallIndent\">';\n                        str += Messages.strSettingsAppliedGlobal + '<br>';\n\n                        var varValue = 'TABLE';\n                        if (logVars.log_output === 'TABLE') {\n                            varValue = 'FILE';\n                        }\n\n                        str += '- <a class=\"set\" href=\"#log_output-' + varValue + '\">';\n                        str += Functions.sprintf(Messages.strSetLogOutput, varValue);\n                        str += ' </a><br>';\n\n                        if (logVars.general_log !== 'ON') {\n                            str += '- <a class=\"set\" href=\"#general_log-ON\">';\n                            str += Functions.sprintf(Messages.strEnableVar, 'general_log');\n                            str += ' </a><br>';\n                        } else {\n                            str += '- <a class=\"set\" href=\"#general_log-OFF\">';\n                            str += Functions.sprintf(Messages.strDisableVar, 'general_log');\n                            str += ' </a><br>';\n                        }\n\n                        if (logVars.slow_query_log !== 'ON') {\n                            str += '- <a class=\"set\" href=\"#slow_query_log-ON\">';\n                            str +=  Functions.sprintf(Messages.strEnableVar, 'slow_query_log');\n                            str += ' </a><br>';\n                        } else {\n                            str += '- <a class=\"set\" href=\"#slow_query_log-OFF\">';\n                            str +=  Functions.sprintf(Messages.strDisableVar, 'slow_query_log');\n                            str += ' </a><br>';\n                        }\n\n                        varValue = 5;\n                        if (logVars.long_query_time > 2) {\n                            varValue = 1;\n                        }\n\n                        str += '- <a class=\"set\" href=\"#long_query_time-' + varValue + '\">';\n                        str += Functions.sprintf(Messages.setSetLongQueryTime, varValue);\n                        str += ' </a><br>';\n                    } else {\n                        str += Messages.strNoSuperUser + '<br>';\n                    }\n\n                    str += '</div>';\n\n                    $dialog.find('div.monitorUse').toggle(\n                        logVars.log_output === 'TABLE' && (logVars.slow_query_log === 'ON' || logVars.general_log === 'ON')\n                    );\n\n                    $dialog.find('div.ajaxContent').html(str);\n                    $dialog.find('img.ajaxIcon').hide();\n                    $dialog.find('a.set').on('click', function () {\n                        var nameValue = $(this).attr('href').split('-');\n                        loadLogVars({ varName: nameValue[0].substring(1), varValue: nameValue[1] });\n                        $dialog.find('img.ajaxIcon').show();\n                    });\n                }\n            );\n        };\n\n\n        loadLogVars();\n\n        return false;\n    });\n\n    $('input[name=\"chartType\"]').on('change', function () {\n        $('#chartVariableSettings').toggle(this.checked && this.value === 'variable');\n        var title = $('input[name=\"chartTitle\"]').val();\n        if (title === Messages.strChartTitle ||\n            title === $('label[for=\"' + $('input[name=\"chartTitle\"]').data('lastRadio') + '\"]').text()\n        ) {\n            $('input[name=\"chartTitle\"]')\n                .data('lastRadio', $(this).attr('id'))\n                .val($('label[for=\"' + $(this).attr('id') + '\"]').text());\n        }\n    });\n\n    $('input[name=\"useDivisor\"]').on('change', function () {\n        $('span.divisorInput').toggle(this.checked);\n    });\n\n    $('input[name=\"useUnit\"]').on('change', function () {\n        $('span.unitInput').toggle(this.checked);\n    });\n\n    $('select[name=\"varChartList\"]').on('change', function () {\n        if (this.selectedIndex !== 0) {\n            $('#variableInput').val(this.value);\n        }\n    });\n\n    $('a[href=\"#kibDivisor\"]').on('click', function (event) {\n        event.preventDefault();\n        $('input[name=\"valueDivisor\"]').val(1024);\n        $('input[name=\"valueUnit\"]').val(Messages.strKiB);\n        $('span.unitInput').toggle(true);\n        $('input[name=\"useUnit\"]').prop('checked', true);\n        return false;\n    });\n\n    $('a[href=\"#mibDivisor\"]').on('click', function (event) {\n        event.preventDefault();\n        $('input[name=\"valueDivisor\"]').val(1024 * 1024);\n        $('input[name=\"valueUnit\"]').val(Messages.strMiB);\n        $('span.unitInput').toggle(true);\n        $('input[name=\"useUnit\"]').prop('checked', true);\n        return false;\n    });\n\n    $('a[href=\"#submitClearSeries\"]').on('click', function (event) {\n        event.preventDefault();\n        $('#seriesPreview').html('<i>' + Messages.strNone + '</i>');\n        newChart = null;\n        $('#clearSeriesLink').hide();\n    });\n\n    $('a[href=\"#submitAddSeries\"]').on('click', function (event) {\n        event.preventDefault();\n        if ($('#variableInput').val() === '') {\n            return false;\n        }\n\n        if (newChart === null) {\n            $('#seriesPreview').html('');\n\n            newChart = {\n                title: $('input[name=\"chartTitle\"]').val(),\n                nodes: [],\n                series: [],\n                maxYLabel: 0\n            };\n        }\n\n        var serie = {\n            dataPoints: [{ type: 'statusvar', name: $('#variableInput').val() }],\n            display: $('input[name=\"differentialValue\"]').prop('checked') ? 'differential' : ''\n        };\n\n        if (serie.dataPoints[0].name === 'Processes') {\n            serie.dataPoints[0].type = 'proc';\n        }\n\n        if ($('input[name=\"useDivisor\"]').prop('checked')) {\n            serie.valueDivisor = parseInt($('input[name=\"valueDivisor\"]').val(), 10);\n        }\n\n        if ($('input[name=\"useUnit\"]').prop('checked')) {\n            serie.unit = $('input[name=\"valueUnit\"]').val();\n        }\n\n        var str = serie.display === 'differential' ? ', ' + Messages.strDifferential : '';\n        str += serie.valueDivisor ? (', ' + Functions.sprintf(Messages.strDividedBy, serie.valueDivisor)) : '';\n        str += serie.unit ? (', ' + Messages.strUnit + ': ' + serie.unit) : '';\n\n        var newSeries = {\n            label: $('#variableInput').val().replace(/_/g, ' ')\n        };\n        newChart.series.push(newSeries);\n        $('#seriesPreview').append('- ' + Functions.escapeHtml(newSeries.label + str) + '<br>');\n        newChart.nodes.push(serie);\n        $('#variableInput').val('');\n        $('input[name=\"differentialValue\"]').prop('checked', true);\n        $('input[name=\"useDivisor\"]').prop('checked', false);\n        $('input[name=\"useUnit\"]').prop('checked', false);\n        $('input[name=\"useDivisor\"]').trigger('change');\n        $('input[name=\"useUnit\"]').trigger('change');\n        $('select[name=\"varChartList\"]').get(0).selectedIndex = 0;\n\n        $('#clearSeriesLink').show();\n\n        return false;\n    });\n\n    $('#variableInput').autocomplete({\n        source: variableNames\n    });\n\n    /* Initializes the monitor, called only once */\n    function initGrid () {\n        var i;\n\n        /* Apply default values & config */\n        if (isStorageSupported('localStorage')) {\n            if (typeof window.localStorage.monitorCharts !== 'undefined') {\n                runtime.charts = JSON.parse(window.localStorage.monitorCharts);\n            }\n            if (typeof window.localStorage.monitorSettings !== 'undefined') {\n                monitorSettings = JSON.parse(window.localStorage.monitorSettings);\n            }\n\n            $('a[href=\"#clearMonitorConfig\"]').toggle(runtime.charts !== null);\n\n            if (runtime.charts !== null\n                && typeof window.localStorage.monitorVersion !== 'undefined'\n                && monitorProtocolVersion !== window.localStorage.monitorVersion\n            ) {\n                $('#emptyDialog').dialog({ title: Messages.strIncompatibleMonitorConfig });\n                $('#emptyDialog').html(Messages.strIncompatibleMonitorConfigDescription);\n\n                var dlgBtns = {};\n                dlgBtns[Messages.strClose] = function () {\n                    $(this).dialog('close');\n                };\n\n                $('#emptyDialog').dialog({\n                    width: 400,\n                    buttons: dlgBtns\n                });\n            }\n        }\n\n        if (runtime.charts === null) {\n            runtime.charts = defaultChartGrid;\n        }\n        if (monitorSettings === null) {\n            monitorSettings = defaultMonitorSettings;\n        }\n\n        $('select[name=\"gridChartRefresh\"]').val(monitorSettings.gridRefresh / 1000);\n        $('select[name=\"chartColumns\"]').val(monitorSettings.columns);\n\n        if (monitorSettings.gridMaxPoints === 'auto') {\n            runtime.gridMaxPoints = Math.round((monitorSettings.chartSize.width - 40) / 12);\n        } else {\n            runtime.gridMaxPoints = monitorSettings.gridMaxPoints;\n        }\n\n        runtime.xmin = new Date().getTime() - serverTimeDiff - runtime.gridMaxPoints * monitorSettings.gridRefresh;\n        runtime.xmax = new Date().getTime() - serverTimeDiff + monitorSettings.gridRefresh;\n\n        /* Calculate how much spacing there is between each chart */\n        $('#chartGrid').html('<tr><td></td><td></td></tr><tr><td></td><td></td></tr>');\n        chartSpacing = {\n            width: $('#chartGrid').find('td').eq(1).offset().left -\n                $('#chartGrid').find('td').eq(0).offset().left,\n            height: $('#chartGrid').find('tr').eq(1).find('td').eq(1).offset().top -\n               $('#chartGrid').find('tr').eq(0).find('td').eq(0).offset().top\n        };\n        $('#chartGrid').html('');\n\n        /* Add all charts - in correct order */\n        var keys = [];\n        $.each(runtime.charts, function (key) {\n            keys.push(key);\n        });\n        keys.sort();\n        for (i = 0; i < keys.length; i++) {\n            addChart(runtime.charts[keys[i]], true);\n        }\n\n        /* Fill in missing cells */\n        var numCharts = $('#chartGrid').find('.monitorChart').length;\n        var numMissingCells = (monitorSettings.columns - numCharts % monitorSettings.columns) % monitorSettings.columns;\n        for (i = 0; i < numMissingCells; i++) {\n            $('#chartGrid').find('tr').last().append('<td></td>');\n        }\n\n        // Empty cells should keep their size so you can drop onto them\n        calculateChartSize();\n        $('#chartGrid').find('tr td').css('width', chartSize.width + 'px');\n\n        buildRequiredDataList();\n        refreshChartGrid();\n    }\n\n    /* Calls destroyGrid() and initGrid(), but before doing so it saves the chart\n     * data from each chart and restores it after the monitor is initialized again */\n    function rebuildGrid () {\n        var oldData = null;\n        if (runtime.charts) {\n            oldData = {};\n            $.each(runtime.charts, function (key, chartObj) {\n                for (var i = 0, l = chartObj.nodes.length; i < l; i++) {\n                    oldData[chartObj.nodes[i].dataPoint] = [];\n                    for (var j = 0, ll = chartObj.chart.series[i].data.length; j < ll; j++) {\n                        oldData[chartObj.nodes[i].dataPoint].push([chartObj.chart.series[i].data[j].x, chartObj.chart.series[i].data[j].y]);\n                    }\n                }\n            });\n        }\n\n        destroyGrid();\n        initGrid();\n    }\n\n    /* Calculates the dynamic chart size that depends on the column width */\n    function calculateChartSize () {\n        var panelWidth;\n        if ($('body').height() > $(window).height()) { // has vertical scroll bar\n            panelWidth = $('#logTable').innerWidth();\n        } else {\n            panelWidth = $('#logTable').innerWidth() - 10; // leave some space for vertical scroll bar\n        }\n\n        var wdt = panelWidth;\n        var windowWidth = $(window).width();\n\n        if (windowWidth > 768) {\n            wdt = (panelWidth - monitorSettings.columns * chartSpacing.width) / monitorSettings.columns;\n        }\n\n        chartSize = {\n            width: Math.floor(wdt),\n            height: Math.floor(0.75 * wdt)\n        };\n    }\n\n    /* Adds a chart to the chart grid */\n    function addChart (chartObj, initialize) {\n        var i;\n        var settings = {\n            title: Functions.escapeHtml(chartObj.title),\n            grid: {\n                drawBorder: false,\n                shadow: false,\n                background: 'rgba(0,0,0,0)'\n            },\n            axes: {\n                xaxis: {\n                    renderer: $.jqplot.DateAxisRenderer,\n                    tickOptions: {\n                        formatString: '%H:%M:%S',\n                        showGridline: false\n                    },\n                    min: runtime.xmin,\n                    max: runtime.xmax\n                },\n                yaxis: {\n                    min: 0,\n                    max: 100,\n                    tickInterval: 20\n                }\n            },\n            seriesDefaults: {\n                rendererOptions: {\n                    smooth: true\n                },\n                showLine: true,\n                lineWidth: 2,\n                markerOptions: {\n                    size: 6\n                }\n            },\n            highlighter: {\n                show: true\n            }\n        };\n\n        if (settings.title === Messages.strSystemCPUUsage ||\n            settings.title === Messages.strQueryCacheEfficiency\n        ) {\n            settings.axes.yaxis.tickOptions = {\n                formatString: '%d %%'\n            };\n        } else if (settings.title === Messages.strSystemMemory ||\n            settings.title === Messages.strSystemSwap\n        ) {\n            settings.stackSeries = true;\n            settings.axes.yaxis.tickOptions = {\n                formatter: $.jqplot.byteFormatter(2) // MiB\n            };\n        } else if (settings.title === Messages.strTraffic) {\n            settings.axes.yaxis.tickOptions = {\n                formatter: $.jqplot.byteFormatter(1) // KiB\n            };\n        } else if (settings.title === Messages.strQuestions ||\n            settings.title === Messages.strConnections\n        ) {\n            settings.axes.yaxis.tickOptions = {\n                formatter: function (format, val) {\n                    if (Math.abs(val) >= 1000000) {\n                        return $.jqplot.sprintf('%.3g M', val / 1000000);\n                    } else if (Math.abs(val) >= 1000) {\n                        return $.jqplot.sprintf('%.3g k', val / 1000);\n                    } else {\n                        return $.jqplot.sprintf('%d', val);\n                    }\n                }\n            };\n        }\n\n        settings.series = chartObj.series;\n\n        if ($('#' + 'gridchart' + runtime.chartAI).length === 0) {\n            var numCharts = $('#chartGrid').find('.monitorChart').length;\n\n            if (numCharts === 0 || (numCharts % monitorSettings.columns === 0)) {\n                $('#chartGrid').append('<tr></tr>');\n            }\n\n            if (!chartSize) {\n                calculateChartSize();\n            }\n            $('#chartGrid').find('tr').last().append(\n                '<td><div id=\"gridChartContainer' + runtime.chartAI + '\" class=\"\">' +\n                '<div class=\"ui-state-default monitorChart\"' +\n                ' id=\"gridchart' + runtime.chartAI + '\"' +\n                ' style=\"width:' + chartSize.width + 'px; height:' + chartSize.height + 'px;\"></div>' +\n                '</div></td>'\n            );\n        }\n\n        // Set series' data as [0,0], smooth lines won't plot with data array having null values.\n        // also chart won't plot initially with no data and data comes on refreshChartGrid()\n        var series = [];\n        for (i in chartObj.series) {\n            series.push([[0, 0]]);\n        }\n\n        var tempTooltipContentEditor = function (str, seriesIndex, pointIndex, plot) {\n            var j;\n            // TODO: move style to theme CSS\n            var tooltipHtml = '<div id=\"tooltip_editor\">';\n            // x value i.e. time\n            var timeValue = str.split(',')[0];\n            var seriesValue;\n            tooltipHtml += 'Time: ' + timeValue;\n            tooltipHtml += '<span id=\"tooltip_font\">';\n            // Add y values to the tooltip per series\n            for (j in plot.series) {\n                // get y value if present\n                if (plot.series[j].data.length > pointIndex) {\n                    seriesValue = plot.series[j].data[pointIndex][1];\n                } else {\n                    return;\n                }\n                var seriesLabel = plot.series[j].label;\n                var seriesColor = plot.series[j].color;\n                // format y value\n                if (plot.series[0]._yaxis.tickOptions.formatter) { // eslint-disable-line no-underscore-dangle\n                    // using formatter function\n                    // eslint-disable-next-line no-underscore-dangle\n                    seriesValue = plot.series[0]._yaxis.tickOptions.formatter('%s', seriesValue);\n                } else if (plot.series[0]._yaxis.tickOptions.formatString) { // eslint-disable-line no-underscore-dangle\n                    // using format string\n                    // eslint-disable-next-line no-underscore-dangle\n                    seriesValue = Functions.sprintf(plot.series[0]._yaxis.tickOptions.formatString, seriesValue);\n                }\n                tooltipHtml += '<br><span style=\"color:' + seriesColor + '\">' +\n                    seriesLabel + ': ' + seriesValue + '</span>';\n            }\n            tooltipHtml += '</span></div>';\n            return tooltipHtml;\n        };\n\n        // set Tooltip for each series\n        for (i in settings.series) {\n            settings.series[i].highlighter = {\n                show: true,\n                tooltipContentEditor: tempTooltipContentEditor\n            };\n        }\n\n        chartObj.chart = $.jqplot('gridchart' + runtime.chartAI, series, settings);\n        // remove [0,0] after plotting\n        for (i in chartObj.chart.series) {\n            chartObj.chart.series[i].data.shift();\n        }\n\n        var $legend = $('<div></div>').css('padding', '0.5em');\n        for (i in chartObj.chart.series) {\n            $legend.append(\n                $('<div></div>').append(\n                    $('<div>').css({\n                        width: '1em',\n                        height: '1em',\n                        background: chartObj.chart.seriesColors[i]\n                    }).addClass('float-start')\n                ).append(\n                    $('<div>').text(\n                        chartObj.chart.series[i].label\n                    ).addClass('float-start')\n                ).append(\n                    $('<div class=\"clearfloat\">')\n                ).addClass('float-start')\n            );\n        }\n        $('#gridchart' + runtime.chartAI)\n            .parent()\n            .append($legend);\n\n        if (initialize !== true) {\n            runtime.charts['c' + runtime.chartAI] = chartObj;\n            buildRequiredDataList();\n        }\n\n        // time span selection\n        $('#gridchart' + runtime.chartAI).on('jqplotMouseDown', function (ev, gridpos, datapos) {\n            drawTimeSpan = true;\n            selectionTimeDiff.push(datapos.xaxis);\n            if ($('#selection_box').length) {\n                $('#selection_box').remove();\n            }\n            var selectionBox = $('<div id=\"selection_box\" >');\n            // eslint-disable-next-line compat/compat\n            $(document.body).append(selectionBox);\n            selectionStartX = ev.pageX;\n            selectionStartY = ev.pageY;\n            selectionBox\n                .attr({ id: 'selection_box' })\n                .css({\n                    top: selectionStartY - gridpos.y,\n                    left: selectionStartX\n                })\n                .fadeIn();\n        });\n\n        $('#gridchart' + runtime.chartAI).on('jqplotMouseUp', function (ev, gridpos, datapos) {\n            if (! drawTimeSpan || editMode) {\n                return;\n            }\n\n            selectionTimeDiff.push(datapos.xaxis);\n\n            if (selectionTimeDiff[1] <= selectionTimeDiff[0]) {\n                selectionTimeDiff = [];\n                return;\n            }\n            // get date from timestamp\n            var min = new Date(Math.ceil(selectionTimeDiff[0]));\n            var max = new Date(Math.ceil(selectionTimeDiff[1]));\n            getLogAnalyseDialog(min, max);\n            selectionTimeDiff = [];\n            drawTimeSpan = false;\n        });\n\n        $('#gridchart' + runtime.chartAI).on('jqplotMouseMove', function (ev) {\n            if (! drawTimeSpan || editMode) {\n                return;\n            }\n            if (selectionStartX !== undefined) {\n                $('#selection_box')\n                    .css({\n                        width: Math.ceil(ev.pageX - selectionStartX)\n                    })\n                    .fadeIn();\n            }\n        });\n\n        $('#gridchart' + runtime.chartAI).on('jqplotMouseLeave', function () {\n            drawTimeSpan = false;\n        });\n\n        // eslint-disable-next-line compat/compat\n        $(document.body).on('mouseup', function () {\n            if ($('#selection_box').length) {\n                $('#selection_box').remove();\n            }\n        });\n\n        // Edit, Print icon only in edit mode\n        $('#chartGrid').find('div svg').find('*[zIndex=20], *[zIndex=21], *[zIndex=19]').toggle(editMode);\n\n        runtime.chartAI++;\n    }\n\n    function getLogAnalyseDialog (min, max) {\n        var $logAnalyseDialog = $('#logAnalyseDialog');\n        var $dateStart = $logAnalyseDialog.find('input[name=\"dateStart\"]');\n        var $dateEnd = $logAnalyseDialog.find('input[name=\"dateEnd\"]');\n        $dateStart.prop('readonly', true);\n        $dateEnd.prop('readonly', true);\n\n        var dlgBtns = { };\n\n        dlgBtns[Messages.strFromSlowLog] = function () {\n            loadLog('slow', min, max);\n            $(this).dialog('close');\n        };\n\n        dlgBtns[Messages.strFromGeneralLog] = function () {\n            loadLog('general', min, max);\n            $(this).dialog('close');\n        };\n\n        $logAnalyseDialog.dialog({\n            width: 'auto',\n            height: 'auto',\n            buttons: dlgBtns\n        });\n\n        Functions.addDatepicker($dateStart, 'datetime', {\n            showMillisec: false,\n            showMicrosec: false,\n            timeFormat: 'HH:mm:ss',\n            firstDay: firstDayOfCalendar\n        });\n        Functions.addDatepicker($dateEnd, 'datetime', {\n            showMillisec: false,\n            showMicrosec: false,\n            timeFormat: 'HH:mm:ss',\n            firstDay: firstDayOfCalendar\n        });\n        $dateStart.datepicker('setDate', min);\n        $dateEnd.datepicker('setDate', max);\n    }\n\n    function loadLog (type, min, max) {\n        var dateStart = Date.parse($('#logAnalyseDialog').find('input[name=\"dateStart\"]').datepicker('getDate')) || min;\n        var dateEnd = Date.parse($('#logAnalyseDialog').find('input[name=\"dateEnd\"]').datepicker('getDate')) || max;\n\n        loadLogStatistics({\n            src: type,\n            start: dateStart,\n            end: dateEnd,\n            removeVariables: $('#removeVariables').prop('checked'),\n            limitTypes: $('#limitTypes').prop('checked')\n        });\n    }\n\n    /* Called in regular intervals, this function updates the values of each chart in the grid */\n    function refreshChartGrid () {\n        /* Send to server */\n        runtime.refreshRequest = $.post('index.php?route=/server/status/monitor/chart', {\n            'ajax_request': true,\n            'requiredData': JSON.stringify(runtime.dataList),\n            'server': CommonParams.get('server')\n        }, function (data) {\n            var chartData;\n            if (typeof data !== 'undefined' && data.success === true) {\n                chartData = data.message;\n            } else {\n                return serverResponseError();\n            }\n            var value;\n            var i = 0;\n            var diff;\n            var total;\n\n            /* Update values in each graph */\n            $.each(runtime.charts, function (orderKey, elem) {\n                var key = elem.chartID;\n                // If newly added chart, we have no data for it yet\n                if (! chartData[key]) {\n                    return;\n                }\n                // Draw all series\n                total = 0;\n                for (var j = 0; j < elem.nodes.length; j++) {\n                    // Update x-axis\n                    if (i === 0 && j === 0) {\n                        if (oldChartData === null) {\n                            diff = chartData.x - runtime.xmax;\n                        } else {\n                            diff = parseInt(chartData.x - oldChartData.x, 10);\n                        }\n\n                        runtime.xmin += diff;\n                        runtime.xmax += diff;\n                    }\n\n                    // elem.chart.xAxis[0].setExtremes(runtime.xmin, runtime.xmax, false);\n                    /* Calculate y value */\n\n                    // If transform function given, use it\n                    if (elem.nodes[j].transformFn) {\n                        value = chartValueTransform(\n                            elem.nodes[j].transformFn,\n                            chartData[key][j],\n                            // Check if first iteration (oldChartData==null), or if newly added chart oldChartData[key]==null\n                            (\n                                oldChartData === null ||\n                                oldChartData[key] === null ||\n                                oldChartData[key] === undefined ? null : oldChartData[key][j]\n                            )\n                        );\n\n                    // Otherwise use original value and apply differential and divisor if given,\n                    // in this case we have only one data point per series - located at chartData[key][j][0]\n                    } else {\n                        value = parseFloat(chartData[key][j][0].value);\n\n                        if (elem.nodes[j].display === 'differential') {\n                            if (oldChartData === null ||\n                                oldChartData[key] === null ||\n                                oldChartData[key] === undefined\n                            ) {\n                                continue;\n                            }\n                            value -= oldChartData[key][j][0].value;\n                        }\n\n                        if (elem.nodes[j].valueDivisor) {\n                            value = value / elem.nodes[j].valueDivisor;\n                        }\n                    }\n\n                    // Set y value, if defined\n                    if (value !== undefined) {\n                        elem.chart.series[j].data.push([chartData.x, value]);\n                        if (value > elem.maxYLabel) {\n                            elem.maxYLabel = value;\n                        } else if (elem.maxYLabel === 0) {\n                            elem.maxYLabel = 0.5;\n                        }\n                        // free old data point values and update maxYLabel\n                        if (elem.chart.series[j].data.length > runtime.gridMaxPoints &&\n                            elem.chart.series[j].data[0][0] < runtime.xmin\n                        ) {\n                            // check if the next freeable point is highest\n                            if (elem.maxYLabel <= elem.chart.series[j].data[0][1]) {\n                                elem.chart.series[j].data.splice(0, elem.chart.series[j].data.length - runtime.gridMaxPoints);\n                                elem.maxYLabel = getMaxYLabel(elem.chart.series[j].data);\n                            } else {\n                                elem.chart.series[j].data.splice(0, elem.chart.series[j].data.length - runtime.gridMaxPoints);\n                            }\n                        }\n                        if (elem.title === Messages.strSystemMemory ||\n                            elem.title === Messages.strSystemSwap\n                        ) {\n                            total += value;\n                        }\n                    }\n                }\n\n                // update chart options\n                // keep ticks number/positioning consistent while refreshrate changes\n                var tickInterval = (runtime.xmax - runtime.xmin) / 5;\n                elem.chart.axes.xaxis.ticks = [(runtime.xmax - tickInterval * 4),\n                    (runtime.xmax - tickInterval * 3), (runtime.xmax - tickInterval * 2),\n                    (runtime.xmax - tickInterval), runtime.xmax];\n\n                if (elem.title !== Messages.strSystemCPUUsage &&\n                    elem.title !== Messages.strQueryCacheEfficiency &&\n                    elem.title !== Messages.strSystemMemory &&\n                    elem.title !== Messages.strSystemSwap\n                ) {\n                    elem.chart.axes.yaxis.max = Math.ceil(elem.maxYLabel * 1.1);\n                    elem.chart.axes.yaxis.tickInterval = Math.ceil(elem.maxYLabel * 1.1 / 5);\n                } else if (elem.title === Messages.strSystemMemory ||\n                    elem.title === Messages.strSystemSwap\n                ) {\n                    elem.chart.axes.yaxis.max = Math.ceil(total * 1.1 / 100) * 100;\n                    elem.chart.axes.yaxis.tickInterval = Math.ceil(total * 1.1 / 5);\n                }\n                i++;\n\n                if (runtime.redrawCharts) {\n                    elem.chart.replot();\n                }\n            });\n\n            oldChartData = chartData;\n\n            runtime.refreshTimeout = setTimeout(refreshChartGrid, monitorSettings.gridRefresh);\n        });\n    }\n\n    /* Function to get highest plotted point's y label, to scale the chart,\n     * TODO: make jqplot's autoscale:true work here\n     */\n    function getMaxYLabel (dataValues) {\n        var maxY = dataValues[0][1];\n        $.each(dataValues, function (k, v) {\n            maxY = (v[1] > maxY) ? v[1] : maxY;\n        });\n        return maxY;\n    }\n\n    /* Function that supplies special value transform functions for chart values */\n    function chartValueTransform (name, cur, prev) {\n        switch (name) {\n        case 'cpu-linux':\n            if (prev === null) {\n                return undefined;\n            }\n            // cur and prev are datapoint arrays, but containing\n            // only 1 element for cpu-linux\n            var newCur = cur[0];\n            var newPrev = prev[0];\n\n            var diffTotal = newCur.busy + newCur.idle - (newPrev.busy + newPrev.idle);\n            var diffIdle = newCur.idle - newPrev.idle;\n            return 100 * (diffTotal - diffIdle) / diffTotal;\n\n        // Query cache efficiency (%)\n        case 'qce':\n            if (prev === null) {\n                return undefined;\n            }\n            // cur[0].value is Qcache_hits, cur[1].value is Com_select\n            var diffQHits = cur[0].value - prev[0].value;\n            // No NaN please :-)\n            if (cur[1].value - prev[1].value === 0) {\n                return 0;\n            }\n\n            return diffQHits / (cur[1].value - prev[1].value + diffQHits) * 100;\n\n        // Query cache usage (%)\n        case 'qcu':\n            if (cur[1].value === 0) {\n                return 0;\n            }\n            // cur[0].value is Qcache_free_memory, cur[1].value is query_cache_size\n            return 100 - cur[0].value / cur[1].value * 100;\n        }\n        return undefined;\n    }\n\n    /* Build list of nodes that need to be retrieved from server.\n     * It creates something like a stripped down version of the runtime.charts object.\n     */\n    function buildRequiredDataList () {\n        runtime.dataList = {};\n        // Store an own id, because the property name is subject of reordering,\n        // thus destroying our mapping with runtime.charts <=> runtime.dataList\n        var chartID = 0;\n        $.each(runtime.charts, function (key, chart) {\n            runtime.dataList[chartID] = [];\n            for (var i = 0, l = chart.nodes.length; i < l; i++) {\n                runtime.dataList[chartID][i] = chart.nodes[i].dataPoints;\n            }\n            runtime.charts[key].chartID = chartID;\n            chartID++;\n        });\n    }\n\n    /* Loads the log table data, generates the table and handles the filters */\n    function loadLogStatistics (opts) {\n        var logRequest = null;\n\n        if (! opts.removeVariables) {\n            opts.removeVariables = false;\n        }\n        if (! opts.limitTypes) {\n            opts.limitTypes = false;\n        }\n\n        $('#emptyDialog').dialog({ title: Messages.strAnalysingLogsTitle });\n        $('#emptyDialog').html(Messages.strAnalysingLogs +\n                                ' <img class=\"ajaxIcon\" src=\"' + themeImagePath +\n                                'ajax_clock_small.gif\" alt=\"\">');\n        var dlgBtns = {};\n\n        dlgBtns[Messages.strCancelRequest] = function () {\n            if (logRequest !== null) {\n                logRequest.abort();\n            }\n\n            $(this).dialog('close');\n        };\n\n        $('#emptyDialog').dialog({\n            width: 'auto',\n            height: 'auto',\n            buttons: dlgBtns\n        });\n\n        var url = 'index.php?route=/server/status/monitor/slow-log';\n        if (opts.src === 'general') {\n            url = 'index.php?route=/server/status/monitor/general-log';\n        }\n        logRequest = $.post(\n            url,\n            {\n                'ajax_request': true,\n                'time_start': Math.round(opts.start / 1000),\n                'time_end': Math.round(opts.end / 1000),\n                'removeVariables': opts.removeVariables,\n                'limitTypes': opts.limitTypes,\n                'server': CommonParams.get('server')\n            },\n            function (data) {\n                var logData;\n                var dlgBtns = {};\n                if (typeof data !== 'undefined' && data.success === true) {\n                    logData = data.message;\n                } else {\n                    return serverResponseError();\n                }\n\n                if (logData.rows.length === 0) {\n                    $('#emptyDialog').dialog({ title: Messages.strNoDataFoundTitle });\n                    $('#emptyDialog').html('<p>' + Messages.strNoDataFound + '</p>');\n\n                    dlgBtns[Messages.strClose] = function () {\n                        $(this).dialog('close');\n                    };\n\n                    $('#emptyDialog').dialog('option', 'buttons', dlgBtns);\n                    return;\n                }\n\n                runtime.logDataCols = buildLogTable(logData, opts.removeVariables);\n\n                /* Show some stats in the dialog */\n                $('#emptyDialog').dialog({ title: Messages.strLoadingLogs });\n                $('#emptyDialog').html('<p>' + Messages.strLogDataLoaded + '</p>');\n                $.each(logData.sum, function (key, value) {\n                    var newKey = key.charAt(0).toUpperCase() + key.slice(1).toLowerCase();\n                    if (newKey === 'Total') {\n                        newKey = '<b>' + newKey + '</b>';\n                    }\n                    $('#emptyDialog').append(newKey + ': ' + value + '<br>');\n                });\n\n                /* Add filter options if more than a bunch of rows there to filter */\n                if (logData.numRows > 12) {\n                    $('#logTable').prepend(\n                        '<fieldset class=\"pma-fieldset\" id=\"logDataFilter\">' +\n                        '    <legend>' + Messages.strFiltersForLogTable + '</legend>' +\n                        '    <div class=\"formelement\">' +\n                        '        <label for=\"filterQueryText\">' + Messages.strFilterByWordRegexp + '</label>' +\n                        '        <input name=\"filterQueryText\" type=\"text\" id=\"filterQueryText\">' +\n                        '    </div>' +\n                        ((logData.numRows > 250) ? ' <div class=\"formelement\"><button class=\"btn btn-secondary\" name=\"startFilterQueryText\" id=\"startFilterQueryText\">' + Messages.strFilter + '</button></div>' : '') +\n                        '    <div class=\"formelement\">' +\n                        '       <input type=\"checkbox\" id=\"noWHEREData\" name=\"noWHEREData\" value=\"1\"> ' +\n                        '       <label for=\"noWHEREData\"> ' + Messages.strIgnoreWhereAndGroup + '</label>' +\n                        '   </div' +\n                        '</fieldset>'\n                    );\n\n                    $('#noWHEREData').on('change', function () {\n                        filterQueries(true);\n                    });\n\n                    if (logData.numRows > 250) {\n                        $('#startFilterQueryText').on('click', filterQueries);\n                    } else {\n                        $('#filterQueryText').on('keyup', filterQueries);\n                    }\n                }\n\n                dlgBtns[Messages.strJumpToTable] = function () {\n                    $(this).dialog('close');\n                    $(document).scrollTop($('#logTable').offset().top);\n                };\n\n                $('#emptyDialog').dialog('option', 'buttons', dlgBtns);\n            }\n        );\n\n        /**\n         * Handles the actions performed when the user uses any of the\n         * log table filters which are the filter by name and grouping\n         * with ignoring data in WHERE clauses\n         *\n         * @param {boolean} varFilterChange Should be true when the users enabled or disabled\n         *                to group queries ignoring data in WHERE clauses\n         */\n        function filterQueries (varFilterChange) {\n            var textFilter;\n            var val = $('#filterQueryText').val();\n\n            if (val.length === 0) {\n                textFilter = null;\n            } else {\n                try {\n                    textFilter = new RegExp(val, 'i');\n                    $('#filterQueryText').removeClass('error');\n                } catch (e) {\n                    if (e instanceof SyntaxError) {\n                        $('#filterQueryText').addClass('error');\n                        textFilter = null;\n                    }\n                }\n            }\n\n            var rowSum = 0;\n            var totalSum = 0;\n            var i = 0;\n            var q;\n            var noVars = $('#noWHEREData').prop('checked');\n            var equalsFilter = /([^=]+)=(\\d+|(('|\"|).*?[^\\\\])\\4((\\s+)|$))/gi;\n            var functionFilter = /([a-z0-9_]+)\\(.+?\\)/gi;\n            var filteredQueries = {};\n            var filteredQueriesLines = {};\n            var hide = false;\n            var rowData;\n            var queryColumnName = runtime.logDataCols[runtime.logDataCols.length - 2];\n            var sumColumnName = runtime.logDataCols[runtime.logDataCols.length - 1];\n            var isSlowLog = opts.src === 'slow';\n            var columnSums = {};\n\n            // For the slow log we have to count many columns (query_time, lock_time, rows_examined, rows_sent, etc.)\n            var countRow = function (query, row) {\n                var cells = row.match(/<td>(.*?)<\\/td>/gi);\n                if (!columnSums[query]) {\n                    columnSums[query] = [0, 0, 0, 0];\n                }\n\n                // lock_time and query_time and displayed in timespan format\n                columnSums[query][0] += timeToSec(cells[2].replace(/(<td>|<\\/td>)/gi, ''));\n                columnSums[query][1] += timeToSec(cells[3].replace(/(<td>|<\\/td>)/gi, ''));\n                // rows_examind and rows_sent are just numbers\n                columnSums[query][2] += parseInt(cells[4].replace(/(<td>|<\\/td>)/gi, ''), 10);\n                columnSums[query][3] += parseInt(cells[5].replace(/(<td>|<\\/td>)/gi, ''), 10);\n            };\n\n            // We just assume the sql text is always in the second last column, and that the total count is right of it\n            $('#logTable').find('table tbody tr').children('td').eq(runtime.logDataCols.length - 2).each(function () {\n                var $t = $(this);\n                // If query is a SELECT and user enabled or disabled to group\n                // queries ignoring data in where statements, we\n                // need to re-calculate the sums of each row\n                if (varFilterChange && $t.html().match(/^SELECT/i)) {\n                    if (noVars) {\n                        // Group on => Sum up identical columns, and hide all but 1\n\n                        q = $t.text().replace(equalsFilter, '$1=...$6').trim();\n                        q = q.replace(functionFilter, ' $1(...)');\n\n                        // Js does not specify a limit on property name length,\n                        // so we can abuse it as index :-)\n                        if (filteredQueries[q]) {\n                            filteredQueries[q] += parseInt($t.next().text(), 10);\n                            totalSum += parseInt($t.next().text(), 10);\n                            hide = true;\n                        } else {\n                            filteredQueries[q] = parseInt($t.next().text(), 10);\n                            filteredQueriesLines[q] = i;\n                            $t.text(q);\n                        }\n                        if (isSlowLog) {\n                            countRow(q, $t.parent().html());\n                        }\n                    } else {\n                        // Group off: Restore original columns\n\n                        rowData = $t.parent().data('query');\n                        // Restore SQL text\n                        $t.text(rowData[queryColumnName]);\n                        // Restore total count\n                        $t.next().text(rowData[sumColumnName]);\n                        // Restore slow log columns\n                        if (isSlowLog) {\n                            $t.parent().children('td').eq(2).text(rowData.query_time);\n                            $t.parent().children('td').eq(3).text(rowData.lock_time);\n                            $t.parent().children('td').eq(4).text(rowData.rows_sent);\n                            $t.parent().children('td').eq(5).text(rowData.rows_examined);\n                        }\n                    }\n                }\n\n                // If not required to be hidden, do we need\n                // to hide because of a not matching text filter?\n                if (! hide && (textFilter !== null && ! textFilter.exec($t.text()))) {\n                    hide = true;\n                }\n\n                // Now display or hide this column\n                if (hide) {\n                    $t.parent().css('display', 'none');\n                } else {\n                    totalSum += parseInt($t.next().text(), 10);\n                    rowSum++;\n                    $t.parent().css('display', '');\n                }\n\n                hide = false;\n                i++;\n            });\n\n            // We finished summarizing counts => Update count values of all grouped entries\n            if (varFilterChange) {\n                if (noVars) {\n                    var numCol;\n                    var row;\n                    var $table = $('#logTable').find('table tbody');\n                    $.each(filteredQueriesLines, function (key, value) {\n                        if (filteredQueries[key] <= 1) {\n                            return;\n                        }\n\n                        row =  $table.children('tr').eq(value);\n                        numCol = row.children().eq(runtime.logDataCols.length - 1);\n                        numCol.text(filteredQueries[key]);\n\n                        if (isSlowLog) {\n                            row.children('td').eq(2).text(secToTime(columnSums[key][0]));\n                            row.children('td').eq(3).text(secToTime(columnSums[key][1]));\n                            row.children('td').eq(4).text(columnSums[key][2]);\n                            row.children('td').eq(5).text(columnSums[key][3]);\n                        }\n                    });\n                }\n\n                $('#logTable').find('table').trigger('update');\n                setTimeout(function () {\n                    $('#logTable').find('table').trigger('sorton', [[[runtime.logDataCols.length - 1, 1]]]);\n                }, 0);\n            }\n\n            // Display some stats at the bottom of the table\n            $('#logTable').find('table tfoot tr')\n                .html('<th colspan=\"' + (runtime.logDataCols.length - 1) + '\">' +\n                      Messages.strSumRows + ' ' + rowSum + '<span class=\"float-end\">' +\n                      Messages.strTotal + '</span></th><th class=\"text-end\">' + totalSum + '</th>');\n        }\n    }\n\n    /* Turns a timespan (12:12:12) into a number */\n    function timeToSec (timeStr) {\n        var time = timeStr.split(':');\n        return (parseInt(time[0], 10) * 3600) + (parseInt(time[1], 10) * 60) + parseInt(time[2], 10);\n    }\n\n    /* Turns a number into a timespan (100 into 00:01:40) */\n    function secToTime (timeInt) {\n        var time = timeInt;\n        var hours = Math.floor(time / 3600);\n        time -= hours * 3600;\n        var minutes = Math.floor(time / 60);\n        time -= minutes * 60;\n\n        if (hours < 10) {\n            hours = '0' + hours;\n        }\n        if (minutes < 10) {\n            minutes = '0' + minutes;\n        }\n        if (time < 10) {\n            time = '0' + time;\n        }\n\n        return hours + ':' + minutes + ':' + time;\n    }\n\n    /* Constructs the log table out of the retrieved server data */\n    function buildLogTable (data, groupInserts) {\n        var rows = data.rows;\n        var cols = [];\n        var $table = $('<table class=\"table table-light table-striped table-hover align-middle sortable\"></table>');\n        var $tBody;\n        var $tRow;\n        var $tCell;\n\n        $('#logTable').html($table);\n\n        var tempPushKey = function (key) {\n            cols.push(key);\n        };\n\n        var formatValue = function (name, value) {\n            if (name === 'user_host') {\n                return value.replace(/(\\[.*?\\])+/g, '');\n            }\n            return Functions.escapeHtml(value);\n        };\n\n        for (var i = 0, l = rows.length; i < l; i++) {\n            if (i === 0) {\n                $.each(rows[0], tempPushKey);\n                $table.append('<thead>' +\n                              '<tr><th class=\"text-nowrap\">' + cols.join('</th><th class=\"text-nowrap\">') + '</th></tr>' +\n                              '</thead>'\n                );\n\n                $table.append($tBody = $('<tbody></tbody>'));\n            }\n\n            $tBody.append($tRow = $('<tr class=\"noclick\"></tr>'));\n            for (var j = 0, ll = cols.length; j < ll; j++) {\n                // Assuming the query column is the second last\n                if (j === cols.length - 2 && rows[i][cols[j]].match(/^SELECT/i)) {\n                    $tRow.append($tCell = $('<td class=\"linkElem\">' + formatValue(cols[j], rows[i][cols[j]]) + '</td>'));\n                    $tCell.on('click', openQueryAnalyzer);\n                } else {\n                    $tRow.append('<td>' + formatValue(cols[j], rows[i][cols[j]]) + '</td>');\n                }\n\n                $tRow.data('query', rows[i]);\n            }\n        }\n\n        $table.append('<tfoot>' +\n                    '<tr><th colspan=\"' + (cols.length - 1) + '\">' + Messages.strSumRows +\n                    ' ' + data.numRows + '<span class=\"float-end\">' + Messages.strTotal +\n                    '</span></th><th class=\"text-end\">' + data.sum.TOTAL + '</th></tr></tfoot>');\n\n        // Append a tooltip to the count column, if there exist one\n        if ($('#logTable').find('tr').first().find('th').last().text().indexOf('#') > -1) {\n            $('#logTable').find('tr').first().find('th').last().append('&nbsp;' + Functions.getImage('b_help', '', { 'class': 'qroupedQueryInfoIcon' }));\n\n            var tooltipContent = Messages.strCountColumnExplanation;\n            if (groupInserts) {\n                tooltipContent += '<p>' + Messages.strMoreCountColumnExplanation + '</p>';\n            }\n\n            Functions.tooltip(\n                $('img.qroupedQueryInfoIcon'),\n                'img',\n                tooltipContent\n            );\n        }\n\n        $('#logTable').find('table').tablesorter({\n            sortList: [[cols.length - 1, 1]],\n            widgets: ['fast-zebra']\n        });\n\n        $('#logTable').find('table thead th')\n            .append('<div class=\"sorticon\"></div>');\n\n        return cols;\n    }\n\n    /* Opens the query analyzer dialog */\n    function openQueryAnalyzer () {\n        var rowData = $(this).parent().data('query');\n        var query = rowData.argument || rowData.sql_text;\n\n        if (codeMirrorEditor) {\n            // TODO: somehow Functions.sqlPrettyPrint messes up the query, needs be fixed\n            // query = Functions.sqlPrettyPrint(query);\n            codeMirrorEditor.setValue(query);\n            // Codemirror is bugged, it doesn't refresh properly sometimes.\n            // Following lines seem to fix that\n            setTimeout(function () {\n                codeMirrorEditor.refresh();\n            }, 50);\n        } else {\n            $('#sqlquery').val(query);\n        }\n\n        var profilingChart = null;\n        var dlgBtns = {};\n\n        dlgBtns[Messages.strAnalyzeQuery] = function () {\n            profilingChart = loadQueryAnalysis(rowData);\n        };\n        dlgBtns[Messages.strClose] = function () {\n            $(this).dialog('close');\n        };\n\n        $('#queryAnalyzerDialog').dialog({\n            width: 'auto',\n            height: 'auto',\n            resizable: false,\n            buttons: dlgBtns,\n            close: function () {\n                if (profilingChart !== null) {\n                    profilingChart.destroy();\n                }\n                $('#queryAnalyzerDialog').find('div.placeHolder').html('');\n                if (codeMirrorEditor) {\n                    codeMirrorEditor.setValue('');\n                } else {\n                    $('#sqlquery').val('');\n                }\n            }\n        });\n    }\n\n    /* Loads and displays the analyzed query data */\n    function loadQueryAnalysis (rowData) {\n        var db = rowData.db || '';\n        var profilingChart = null;\n\n        $('#queryAnalyzerDialog').find('div.placeHolder').html(\n            Messages.strAnalyzing + ' <img class=\"ajaxIcon\" src=\"' +\n            themeImagePath + 'ajax_clock_small.gif\" alt=\"\">');\n\n        $.post('index.php?route=/server/status/monitor/query', {\n            'ajax_request': true,\n            'query': codeMirrorEditor ? codeMirrorEditor.getValue() : $('#sqlquery').val(),\n            'database': db,\n            'server': CommonParams.get('server')\n        }, function (responseData) {\n            var data = responseData;\n            var i;\n            var l;\n            if (typeof data !== 'undefined' && data.success === true) {\n                data = data.message;\n            }\n            if (data.error) {\n                if (data.error.indexOf('1146') !== -1 || data.error.indexOf('1046') !== -1) {\n                    data.error = Messages.strServerLogError;\n                }\n                $('#queryAnalyzerDialog').find('div.placeHolder').html('<div class=\"alert alert-danger\" role=\"alert\">' + data.error + '</div>');\n                return;\n            }\n            var totalTime = 0;\n            // Float sux, I'll use table :(\n            $('#queryAnalyzerDialog').find('div.placeHolder')\n                .html('<table class=\"table table-borderless\"><tr><td class=\"explain\"></td><td class=\"chart\"></td></tr></table>');\n\n            var explain = '<b>' + Messages.strExplainOutput + '</b> ' + $('#explain_docu').html();\n            if (data.explain.length > 1) {\n                explain += ' (';\n                for (i = 0; i < data.explain.length; i++) {\n                    if (i > 0) {\n                        explain += ', ';\n                    }\n                    explain += '<a href=\"#showExplain-' + i + '\">' + i + '</a>';\n                }\n                explain += ')';\n            }\n            explain += '<p></p>';\n\n            var tempExplain = function (key, value) {\n                var newValue = (value === null) ? 'null' : Functions.escapeHtml(value);\n\n                if (key === 'type' && newValue.toLowerCase() === 'all') {\n                    newValue = '<span class=\"text-danger\">' + newValue + '</span>';\n                }\n                if (key === 'Extra') {\n                    newValue = newValue.replace(/(using (temporary|filesort))/gi, '<span class=\"text-danger\">$1</span>');\n                }\n                explain += key + ': ' + newValue + '<br>';\n            };\n\n            for (i = 0, l = data.explain.length; i < l; i++) {\n                explain += '<div class=\"explain-' + i + '\"' + (i > 0 ?  'style=\"display:none;\"' : '') + '>';\n                $.each(data.explain[i], tempExplain);\n                explain += '</div>';\n            }\n\n            explain += '<p><b>' + Messages.strAffectedRows + '</b> ' + data.affectedRows;\n\n            $('#queryAnalyzerDialog').find('div.placeHolder td.explain').append(explain);\n\n            $('#queryAnalyzerDialog').find('div.placeHolder a[href*=\"#showExplain\"]').on('click', function () {\n                var id = $(this).attr('href').split('-')[1];\n                $(this).parent().find('div[class*=\"explain\"]').hide();\n                $(this).parent().find('div[class*=\"explain-' + id + '\"]').show();\n            });\n\n            if (data.profiling) {\n                var chartData = [];\n                var numberTable = '<table class=\"table table-sm table-light table-striped table-hover w-auto queryNums\"><thead><tr><th>' + Messages.strStatus + '</th><th>' + Messages.strTime + '</th></tr></thead><tbody>';\n                var duration;\n                var otherTime = 0;\n\n                for (i = 0, l = data.profiling.length; i < l; i++) {\n                    duration = parseFloat(data.profiling[i].duration);\n\n                    totalTime += duration;\n\n                    numberTable += '<tr><td>' + data.profiling[i].state + ' </td><td> ' + Functions.prettyProfilingNum(duration, 2) + '</td></tr>';\n                }\n\n                // Only put those values in the pie which are > 2%\n                for (i = 0, l = data.profiling.length; i < l; i++) {\n                    duration = parseFloat(data.profiling[i].duration);\n\n                    if (duration / totalTime > 0.02) {\n                        chartData.push([Functions.prettyProfilingNum(duration, 2) + ' ' + data.profiling[i].state, duration]);\n                    } else {\n                        otherTime += duration;\n                    }\n                }\n\n                if (otherTime > 0) {\n                    chartData.push([Functions.prettyProfilingNum(otherTime, 2) + ' ' + Messages.strOther, otherTime]);\n                }\n\n                numberTable += '<tr><td><b>' + Messages.strTotalTime + '</b></td><td>' + Functions.prettyProfilingNum(totalTime, 2) + '</td></tr>';\n                numberTable += '</tbody></table>';\n\n                $('#queryAnalyzerDialog').find('div.placeHolder td.chart').append(\n                    '<b>' + Messages.strProfilingResults + ' ' + $('#profiling_docu').html() + '</b> ' +\n                    '(<a href=\"#showNums\">' + Messages.strTable + '</a>, <a href=\"#showChart\">' + Messages.strChart + '</a>)<br>' +\n                    numberTable + ' <div id=\"queryProfiling\"></div>');\n\n                $('#queryAnalyzerDialog').find('div.placeHolder a[href=\"#showNums\"]').on('click', function () {\n                    $('#queryAnalyzerDialog').find('#queryProfiling').hide();\n                    $('#queryAnalyzerDialog').find('table.queryNums').show();\n                    return false;\n                });\n\n                $('#queryAnalyzerDialog').find('div.placeHolder a[href=\"#showChart\"]').on('click', function () {\n                    $('#queryAnalyzerDialog').find('#queryProfiling').show();\n                    $('#queryAnalyzerDialog').find('table.queryNums').hide();\n                    return false;\n                });\n\n                profilingChart = Functions.createProfilingChart(\n                    'queryProfiling',\n                    chartData\n                );\n            }\n        });\n        return profilingChart;\n    }\n\n    /* Saves the monitor to localstorage */\n    function saveMonitor () {\n        var gridCopy = {};\n\n        $.each(runtime.charts, function (key, elem) {\n            gridCopy[key] = {};\n            gridCopy[key].nodes = elem.nodes;\n            gridCopy[key].settings = elem.settings;\n            gridCopy[key].title = elem.title;\n            gridCopy[key].series = elem.series;\n            gridCopy[key].maxYLabel = elem.maxYLabel;\n        });\n\n        if (isStorageSupported('localStorage')) {\n            window.localStorage.monitorCharts = JSON.stringify(gridCopy);\n            window.localStorage.monitorSettings = JSON.stringify(monitorSettings);\n            window.localStorage.monitorVersion = monitorProtocolVersion;\n        }\n\n        $('a[href=\"#clearMonitorConfig\"]').show();\n    }\n});\n\n// Run the monitor once loaded\nAJAX.registerOnload('server/status/monitor.js', function () {\n    $('a[href=\"#pauseCharts\"]').trigger('click');\n});\n"],"names":["runtime","serverTimeDiff","serverOs","isSuperUser","serverDbIsLocal","chartSize","monitorSettings","serverResponseError","btns","Messages","strReloadPage","window","location","reload","$","dialog","title","strRefreshFailed","html","Functions","getImage","strInvalidResponseExplanation","buttons","destroyGrid","charts","each","key","value","chart","destroy","err","refreshRequest","abort","clearTimeout","refreshTimeout","chartAI","AJAX","registerOnload","$jsDataForm","Date","getTime","find","val","registerTeardown","remove","off","attr","appendTo","on","$link","substring","show","offset","top","height","left","addClass","event","$cnt","pos","pageX","pageY","outerWidth","outerHeight","hide","removeClass","codeMirrorEditor","$elm","length","CodeMirror","fromTextArea","lineNumbers","matchBrackets","indentUnit","mode","lineWrapping","addDatepicker","oldChartData","newChart","chartSpacing","monitorProtocolVersion","redrawCharts","dataList","gridMaxPoints","xmin","xmax","defaultMonitorSettings","columns","width","gridRefresh","editMode","presetCharts","strQueryCacheEfficiency","series","label","nodes","dataPoints","type","name","transformFn","maxYLabel","strQueryCacheUsage","strQueryCacheUsed","selectionTimeDiff","selectionStartX","selectionStartY","drawTimeSpan","extend","strSystemCPUUsage","strAverageLoad","strSystemMemory","strTotalMemory","fill","dataType","strUsedMemory","valueDivisor","strSystemSwap","strTotalSwap","strUsedSwap","strBufferedMemory","strCachedMemory","strFreeMemory","strCachedSwap","strFreeSwap","defaultChartGrid","strQuestions","display","strChartConnectionsTitle","strConnections","strProcesses","strTraffic","strBytesSent","strBytesReceived","cpu","c3","c4","memory","c5","swap","preventDefault","toggle","sortableTable","ignoreRect","saveMonitor","parseInt","calculateChartSize","css","numColumns","$tr","first","tempManageCols","next","after","prepend","tempAddCol","append","cnt","i","nextAll","Math","round","refreshChartGrid","setTimeout","prop","alert","strAddOneSeriesWarning","addChart","$presetList","text","replace","modal","strNone","gridCopy","elem","settings","exportData","monitorCharts","blob","Blob","JSON","stringify","url","fileName","navigator","msSaveOrOpenBlob","URL","createObjectURL","href","revokeObjectURL","undefined","strImportDialogTitle","strImportDialogMessage","dlgBtns","strImport","input","reader","FileReader","onerror","strFailedParsingConfig","target","error","code","onload","e","data","result","json","parse","isStorageSupported","localStorage","rebuildGrid","strFailedBuildingGrid","removeItem","readAsText","files","strCancel","strResumeMonitor","strPauseMonitor","initGrid","$dialog","strClose","loadLogVars","getvars","vars","CommonParams","get","post","logVars","success","message","icon","msg","str","general_log","slow_query_log","strBothLogOn","strGenLogOn","strSlowLogOn","strBothLogOff","strCurrentSettings","log_output","strLogOutNotTable","strLogOutIsTable","long_query_time","sprintf","strSmallerLongQueryTimeAdvice","strLongQueryTimeSet","strChangeSettings","strSettingsAppliedGlobal","varValue","strSetLogOutput","strEnableVar","strDisableVar","setSetLongQueryTime","strNoSuperUser","nameValue","split","varName","checked","strChartTitle","selectedIndex","strKiB","strMiB","serie","unit","strDifferential","strDividedBy","strUnit","newSeries","push","escapeHtml","trigger","autocomplete","source","variableNames","monitorVersion","strIncompatibleMonitorConfig","strIncompatibleMonitorConfigDescription","eq","keys","sort","numCharts","numMissingCells","last","buildRequiredDataList","oldData","chartObj","l","dataPoint","j","ll","x","y","panelWidth","innerWidth","wdt","windowWidth","floor","initialize","grid","drawBorder","shadow","background","axes","xaxis","renderer","jqplot","DateAxisRenderer","tickOptions","formatString","showGridline","min","max","yaxis","tickInterval","seriesDefaults","rendererOptions","smooth","showLine","lineWidth","markerOptions","size","highlighter","stackSeries","formatter","byteFormatter","format","abs","tempTooltipContentEditor","seriesIndex","pointIndex","plot","tooltipHtml","timeValue","seriesValue","seriesLabel","seriesColor","color","_yaxis","tooltipContentEditor","shift","$legend","seriesColors","parent","ev","gridpos","datapos","selectionBox","document","body","id","fadeIn","ceil","getLogAnalyseDialog","$logAnalyseDialog","$dateStart","$dateEnd","strFromSlowLog","loadLog","strFromGeneralLog","showMillisec","showMicrosec","timeFormat","firstDay","firstDayOfCalendar","datepicker","dateStart","dateEnd","loadLogStatistics","src","start","end","removeVariables","limitTypes","chartData","diff","total","orderKey","chartID","chartValueTransform","parseFloat","splice","getMaxYLabel","ticks","replot","dataValues","maxY","k","v","cur","prev","newCur","newPrev","diffTotal","busy","idle","diffIdle","diffQHits","opts","logRequest","strAnalysingLogsTitle","strAnalysingLogs","themeImagePath","strCancelRequest","logData","rows","strNoDataFoundTitle","strNoDataFound","logDataCols","buildLogTable","strLoadingLogs","strLogDataLoaded","sum","newKey","charAt","toUpperCase","slice","toLowerCase","numRows","strFiltersForLogTable","strFilterByWordRegexp","strFilter","strIgnoreWhereAndGroup","filterQueries","strJumpToTable","scrollTop","varFilterChange","textFilter","RegExp","SyntaxError","rowSum","totalSum","q","noVars","equalsFilter","functionFilter","filteredQueries","filteredQueriesLines","rowData","queryColumnName","sumColumnName","isSlowLog","columnSums","countRow","query","row","cells","match","timeToSec","children","$t","trim","query_time","lock_time","rows_sent","rows_examined","exec","numCol","$table","secToTime","strSumRows","strTotal","timeStr","time","timeInt","hours","minutes","groupInserts","cols","$tBody","$tRow","$tCell","tempPushKey","formatValue","join","openQueryAnalyzer","TOTAL","indexOf","tooltipContent","strCountColumnExplanation","strMoreCountColumnExplanation","tooltip","tablesorter","sortList","widgets","argument","sql_text","setValue","refresh","profilingChart","strAnalyzeQuery","loadQueryAnalysis","resizable","close","db","strAnalyzing","getValue","responseData","strServerLogError","totalTime","explain","strExplainOutput","tempExplain","newValue","strAffectedRows","affectedRows","profiling","numberTable","strStatus","strTime","duration","otherTime","state","prettyProfilingNum","strOther","strTotalTime","strProfilingResults","strTable","strChart","createProfilingChart"],"sourceRoot":""}