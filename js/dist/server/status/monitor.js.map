{"version":3,"file":"server/status/monitor.js","mappings":"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","sources":["webpack://phpmyadmin/external var \"jQuery\"","webpack://phpmyadmin/./js/src/server/status/monitor.js"],"sourcesContent":["module.exports = jQuery;","import $ from 'jquery';\nimport { AJAX } from '../../modules/ajax.js';\nimport { Functions } from '../../modules/functions.js';\nimport { CommonParams } from '../../modules/common.js';\nimport tooltip from '../../modules/tooltip.js';\nimport createProfilingChart from '../../modules/functions/createProfilingChart.js';\nimport { escapeHtml } from '../../modules/functions/escape.js';\nimport getImageTag from '../../modules/functions/getImageTag.js';\nimport isStorageSupported from '../../modules/functions/isStorageSupported.js';\n\n/**\n * @fileoverview    Javascript functions used in server status monitor page\n * @name            Server Status Monitor\n *\n * @requires    jQueryUI\n */\n\n/* global firstDayOfCalendar, themeImagePath */ // templates/javascript/variables.twig\n/* global variableNames */ // templates/server/status/monitor/index.twig\n\nvar runtime = {};\nvar serverTimeDiff;\nvar serverOs;\nvar isSuperUser;\nvar serverDbIsLocal;\nvar chartSize;\nvar monitorSettings;\n\nfunction serverResponseError () {\n    var btns = {\n        [window.Messages.strReloadPage]: {\n            text: window.Messages.strReloadPage,\n            class: 'btn btn-primary',\n            click: function () {\n                window.location.reload();\n            },\n        },\n    };\n    $('#emptyDialog').dialog({\n        classes: {\n            'ui-dialog-titlebar-close': 'btn-close'\n        },\n        title: window.Messages.strRefreshFailed\n    });\n    $('#emptyDialog').html(\n        getImageTag('s_attention') +\n        window.Messages.strInvalidResponseExplanation\n    );\n    $('#emptyDialog').dialog({\n        classes: {\n            'ui-dialog-titlebar-close': 'btn-close'\n        },\n        buttons: btns\n    });\n}\n\n/**\n * Destroys all monitor related resources\n */\nfunction destroyGrid () {\n    if (runtime.charts) {\n        $.each(runtime.charts, function (key, value) {\n            try {\n                value.chart.destroy();\n            } catch (err) {\n                // continue regardless of error\n            }\n        });\n    }\n\n    try {\n        runtime.refreshRequest.abort();\n    } catch (err) {\n        // continue regardless of error\n    }\n    try {\n        clearTimeout(runtime.refreshTimeout);\n    } catch (err) {\n        // continue regardless of error\n    }\n    $('#chartGrid').html('');\n    runtime.charts = null;\n    runtime.chartAI = 0;\n    monitorSettings = null;\n}\n\nAJAX.registerOnload('server/status/monitor.js', function () {\n    var $jsDataForm = $('#js_data');\n    serverTimeDiff = new Date().getTime() - $jsDataForm.find('input[name=server_time]').val();\n    serverOs = $jsDataForm.find('input[name=server_os]').val();\n    isSuperUser = $jsDataForm.find('input[name=is_superuser]').val();\n    serverDbIsLocal = $jsDataForm.find('input[name=server_db_isLocal]').val();\n});\n\n/**\n * Unbind all event handlers before tearing down a page\n */\nAJAX.registerTeardown('server/status/monitor.js', function () {\n    $('#emptyDialog').remove();\n    $('a.popupLink').off('click');\n    $('body').off('click');\n});\n/**\n * Popup behaviour\n */\nAJAX.registerOnload('server/status/monitor.js', function () {\n    $('<div></div>')\n        .attr('id', 'emptyDialog')\n        .appendTo('#page_content');\n\n    $('a.popupLink').on('click', function () {\n        var $link = $(this);\n        $('div.' + $link.attr('href').substring(1))\n            .show()\n            .offset({ top: $link.offset().top + $link.height() + 5, left: $link.offset().left })\n            .addClass('openedPopup');\n\n        return false;\n    });\n    $('body').on('click', function (event) {\n        $('div.openedPopup').each(function () {\n            var $cnt = $(this);\n            var pos = $cnt.offset();\n            // Hide if the mouseclick is outside the popupcontent\n            if (event.pageX > pos.left + $cnt.outerWidth() ||\n                event.pageY > pos.top + $cnt.outerHeight()\n            ) {\n                $cnt.hide().removeClass('openedPopup');\n            }\n        });\n    });\n});\n\nAJAX.registerTeardown('server/status/monitor.js', function () {\n    $('a[href=\"#rearrangeCharts\"], a[href=\"#endChartEditMode\"]').off('click');\n    $('div.popupContent select[name=\"chartColumns\"]').off('change');\n    $('div.popupContent select[name=\"gridChartRefresh\"]').off('change');\n    $('a[href=\"#addNewChart\"]').off('click');\n    $('a[href=\"#exportMonitorConfig\"]').off('click');\n    $('a[href=\"#importMonitorConfig\"]').off('click');\n    $('a[href=\"#clearMonitorConfig\"]').off('click');\n    $('a[href=\"#pauseCharts\"]').off('click');\n    $('a[href=\"#monitorInstructionsDialog\"]').off('click');\n    $('input[name=\"chartType\"]').off('click');\n    $('input[name=\"useDivisor\"]').off('click');\n    $('input[name=\"useUnit\"]').off('click');\n    $('select[name=\"varChartList\"]').off('click');\n    $('a[href=\"#kibDivisor\"]').off('click');\n    $('a[href=\"#mibDivisor\"]').off('click');\n    $('a[href=\"#submitClearSeries\"]').off('click');\n    $('a[href=\"#submitAddSeries\"]').off('click');\n    // $(\"input#variableInput\").destroy();\n    $('#chartPreset').off('click');\n    $('#chartStatusVar').off('click');\n    destroyGrid();\n});\n\nAJAX.registerOnload('server/status/monitor.js', function () {\n    // Show tab links\n    $('div.tabLinks').show();\n    $('#loadingMonitorIcon').remove();\n    // Codemirror is loaded on demand so we might need to initialize it\n    if (! window.codeMirrorEditor) {\n        var $elm = $('#sqlquery');\n        if ($elm.length > 0 && typeof window.CodeMirror !== 'undefined') {\n            window.codeMirrorEditor = window.CodeMirror.fromTextArea(\n                $elm[0],\n                {\n                    lineNumbers: true,\n                    matchBrackets: true,\n                    indentUnit: 4,\n                    mode: 'text/x-mysql',\n                    lineWrapping: true\n                }\n            );\n        }\n    }\n    // Timepicker is loaded on demand so we need to initialize\n    // datetime fields from the 'load log' dialog\n    $('#logAnalyseDialog').find('.datetimefield').each(function () {\n        Functions.addDatepicker($(this));\n    });\n\n    /** ** Monitor charting implementation ****/\n    /* Saves the previous ajax response for differential values */\n    var oldChartData = null;\n    // Holds about to be created chart\n    var newChart = null;\n    var chartSpacing;\n\n    // Whenever the monitor object (runtime.charts) or the settings object\n    // (monitorSettings) changes in a way incompatible to the previous version,\n    // increase this number. It will reset the users monitor and settings object\n    // in their localStorage to the default configuration\n    var monitorProtocolVersion = '1.0';\n\n    // Runtime parameter of the monitor, is being fully set in initGrid()\n    runtime = {\n        // Holds all visible charts in the grid\n        charts: null,\n        // Stores the timeout handler so it can be cleared\n        refreshTimeout: null,\n        // Stores the GET request to refresh the charts\n        refreshRequest: null,\n        // Chart auto increment\n        chartAI: 0,\n        // To play/pause the monitor\n        redrawCharts: false,\n        // Object that contains a list of nodes that need to be retrieved\n        // from the server for chart updates\n        dataList: [],\n        // Current max points per chart (needed for auto calculation)\n        gridMaxPoints: 20,\n        // displayed time frame\n        xmin: -1,\n        xmax: -1\n    };\n    monitorSettings = null;\n\n    var defaultMonitorSettings = {\n        columns: 3,\n        chartSize: { width: 295, height: 250 },\n        // Max points in each chart. Settings it to 'auto' sets\n        // gridMaxPoints to (chartwidth - 40) / 12\n        gridMaxPoints: 'auto',\n        /* Refresh rate of all grid charts in ms */\n        gridRefresh: 5000\n    };\n\n    // Allows drag and drop rearrange and print/edit icons on charts\n    var editMode = false;\n\n    /* List of preconfigured charts that the user may select */\n    var presetCharts = {\n        // Query cache efficiency\n        'qce': {\n            title: window.Messages.strQueryCacheEfficiency,\n            series: [{\n                label: window.Messages.strQueryCacheEfficiency\n            }],\n            nodes: [{\n                dataPoints: [{ type: 'statusvar', name: 'Qcache_hits' }, { type: 'statusvar', name: 'Com_select' }],\n                transformFn: 'qce'\n            }],\n            maxYLabel: 0\n        },\n        // Query cache usage\n        'qcu': {\n            title: window.Messages.strQueryCacheUsage,\n            series: [{\n                label: window.Messages.strQueryCacheUsed\n            }],\n            nodes: [{\n                dataPoints: [{ type: 'statusvar', name: 'Qcache_free_memory' }, {\n                    type: 'servervar',\n                    name: 'query_cache_size'\n                }],\n                transformFn: 'qcu'\n            }],\n            maxYLabel: 0\n        }\n    };\n\n    // time span selection\n    var selectionTimeDiff = [];\n    var selectionStartX;\n    var selectionStartY;\n    var drawTimeSpan = false;\n\n    /* Add OS specific system info charts to the preset chart list */\n    switch (serverOs) {\n    case 'WINNT':\n        $.extend(presetCharts, {\n            'cpu': {\n                title: window.Messages.strSystemCPUUsage,\n                series: [{\n                    label: window.Messages.strAverageLoad\n                }],\n                nodes: [{\n                    dataPoints: [{ type: 'cpu', name: 'loadavg' }]\n                }],\n                maxYLabel: 100\n            },\n\n            'memory': {\n                title: window.Messages.strSystemMemory,\n                series: [{\n                    dataType: 'memory',\n                    label: window.Messages.strUsedMemory,\n                    fill: true\n                }, {\n                    label: window.Messages.strFreeMemory,\n                    fill: true\n                }],\n                nodes: [{ dataPoints: [{ type: 'memory', name: 'MemUsed' }], valueDivisor: 1024 },\n                    { dataPoints: [{ type: 'memory', name: 'MemFree' }], valueDivisor: 1024 }\n                ],\n                maxYLabel: 0\n            },\n\n            'swap': {\n                title: window.Messages.strSystemSwap,\n                series: [{\n                    label: window.Messages.strUsedSwap,\n                    fill: true\n                }, {\n                    label: window.Messages.strFreeSwap,\n                    fill: true\n                }],\n                nodes: [{ dataPoints: [{ type: 'memory', name: 'SwapUsed' }], valueDivisor: 1024 },\n                    { dataPoints: [{ type: 'memory', name: 'SwapFree' }], valueDivisor: 1024 }\n                ],\n                maxYLabel: 0\n            }\n        });\n        break;\n\n    case 'Linux':\n        $.extend(presetCharts, {\n            'cpu': {\n                title: window.Messages.strSystemCPUUsage,\n                series: [{\n                    label: window.Messages.strAverageLoad\n                }],\n                nodes: [{ dataPoints: [{ type: 'cpu', name: 'irrelevant' }], transformFn: 'cpu-linux' }],\n                maxYLabel: 0\n            },\n            'memory': {\n                title: window.Messages.strSystemMemory,\n                series: [\n                    { label: window.Messages.strBufferedMemory, fill: true },\n                    { label: window.Messages.strUsedMemory, fill: true },\n                    { label: window.Messages.strCachedMemory, fill: true },\n                    { label: window.Messages.strFreeMemory, fill: true }\n                ],\n                nodes: [\n                    { dataPoints: [{ type: 'memory', name: 'Buffers' }], valueDivisor: 1024 },\n                    { dataPoints: [{ type: 'memory', name: 'MemUsed' }], valueDivisor: 1024 },\n                    { dataPoints: [{ type: 'memory', name: 'Cached' }], valueDivisor: 1024 },\n                    { dataPoints: [{ type: 'memory', name: 'MemFree' }], valueDivisor: 1024 }\n                ],\n                maxYLabel: 0\n            },\n            'swap': {\n                title: window.Messages.strSystemSwap,\n                series: [\n                    { label: window.Messages.strCachedSwap, fill: true },\n                    { label: window.Messages.strUsedSwap, fill: true },\n                    { label: window.Messages.strFreeSwap, fill: true }\n                ],\n                nodes: [\n                    { dataPoints: [{ type: 'memory', name: 'SwapCached' }], valueDivisor: 1024 },\n                    { dataPoints: [{ type: 'memory', name: 'SwapUsed' }], valueDivisor: 1024 },\n                    { dataPoints: [{ type: 'memory', name: 'SwapFree' }], valueDivisor: 1024 }\n                ],\n                maxYLabel: 0\n            }\n        });\n        break;\n\n    case 'SunOS':\n        $.extend(presetCharts, {\n            'cpu': {\n                title: window.Messages.strSystemCPUUsage,\n                series: [{\n                    label: window.Messages.strAverageLoad\n                }],\n                nodes: [{\n                    dataPoints: [{ type: 'cpu', name: 'loadavg' }]\n                }],\n                maxYLabel: 0\n            },\n            'memory': {\n                title: window.Messages.strSystemMemory,\n                series: [\n                    { label: window.Messages.strUsedMemory, fill: true },\n                    { label: window.Messages.strFreeMemory, fill: true }\n                ],\n                nodes: [\n                    { dataPoints: [{ type: 'memory', name: 'MemUsed' }], valueDivisor: 1024 },\n                    { dataPoints: [{ type: 'memory', name: 'MemFree' }], valueDivisor: 1024 }\n                ],\n                maxYLabel: 0\n            },\n            'swap': {\n                title: window.Messages.strSystemSwap,\n                series: [\n                    { label: window.Messages.strUsedSwap, fill: true },\n                    { label: window.Messages.strFreeSwap, fill: true }\n                ],\n                nodes: [\n                    { dataPoints: [{ type: 'memory', name: 'SwapUsed' }], valueDivisor: 1024 },\n                    { dataPoints: [{ type: 'memory', name: 'SwapFree' }], valueDivisor: 1024 }\n                ],\n                maxYLabel: 0\n            }\n        });\n        break;\n    }\n\n    // Default setting for the chart grid\n    var defaultChartGrid = {\n        'c0': {\n            title: window.Messages.strQuestions,\n            series: [\n                { label: window.Messages.strQuestions }\n            ],\n            nodes: [\n                { dataPoints: [{ type: 'statusvar', name: 'Questions' }], display: 'differential' }\n            ],\n            maxYLabel: 0\n        },\n        'c1': {\n            title: window.Messages.strChartConnectionsTitle,\n            series: [\n                { label: window.Messages.strConnections },\n                { label: window.Messages.strProcesses }\n            ],\n            nodes: [\n                { dataPoints: [{ type: 'statusvar', name: 'Connections' }], display: 'differential' },\n                { dataPoints: [{ type: 'proc', name: 'processes' }] }\n            ],\n            maxYLabel: 0\n        },\n        'c2': {\n            title: window.Messages.strTraffic,\n            series: [\n                { label: window.Messages.strBytesSent },\n                { label: window.Messages.strBytesReceived }\n            ],\n            nodes: [\n                {\n                    dataPoints: [{ type: 'statusvar', name: 'Bytes_sent' }],\n                    display: 'differential',\n                    valueDivisor: 1024\n                },\n                {\n                    dataPoints: [{ type: 'statusvar', name: 'Bytes_received' }],\n                    display: 'differential',\n                    valueDivisor: 1024\n                }\n            ],\n            maxYLabel: 0\n        }\n    };\n\n    // Server is localhost => We can add cpu/memory/swap to the default chart\n    if (serverDbIsLocal && typeof presetCharts.cpu !== 'undefined') {\n        defaultChartGrid.c3 = presetCharts.cpu;\n        defaultChartGrid.c4 = presetCharts.memory;\n        defaultChartGrid.c5 = presetCharts.swap;\n    }\n\n    $('a[href=\"#rearrangeCharts\"], a[href=\"#endChartEditMode\"]').on('click', function (event) {\n        event.preventDefault();\n        editMode = ! editMode;\n        if ($(this).attr('href') === '#endChartEditMode') {\n            editMode = false;\n        }\n\n        $('a[href=\"#endChartEditMode\"]').toggle(editMode);\n\n        if (editMode) {\n            // Close the settings popup\n            $('div.popupContent').hide().removeClass('openedPopup');\n\n            $('#chartGrid').sortableTable({\n                ignoreRect: {\n                    top: 8,\n                    left: chartSize.width - 63,\n                    width: 54,\n                    height: 24\n                }\n            });\n        } else {\n            $('#chartGrid').sortableTable('destroy');\n        }\n        saveMonitor(); // Save settings\n        return false;\n    });\n\n    // global settings\n    $('div.popupContent select[name=\"chartColumns\"]').on('change', function () {\n        monitorSettings.columns = parseInt(this.value, 10);\n\n        calculateChartSize();\n        // Empty cells should keep their size so you can drop onto them\n        $('#chartGrid').find('tr td').css('width', chartSize.width + 'px');\n        $('#chartGrid').find('.monitorChart').css({\n            width: chartSize.width + 'px',\n            height: chartSize.height + 'px'\n        });\n\n        /* Reorder all charts that it fills all column cells */\n        var numColumns;\n        var $tr = $('#chartGrid').find('tr').first();\n\n        var tempManageCols = function () {\n            if (numColumns > monitorSettings.columns) {\n                if ($tr.next().length === 0) {\n                    $tr.after('<tr></tr>');\n                }\n                $tr.next().prepend($(this));\n            }\n            numColumns++;\n        };\n\n        var tempAddCol = function () {\n            if ($(this).next().length !== 0) {\n                $(this).append($(this).next().find('td').first());\n            }\n        };\n\n        while ($tr.length !== 0) {\n            numColumns = 1;\n            // To many cells in one row => put into next row\n            $tr.find('td').each(tempManageCols);\n\n            // To little cells in one row => for each cell to little,\n            // move all cells backwards by 1\n            if ($tr.next().length > 0) {\n                var cnt = monitorSettings.columns - $tr.find('td').length;\n                for (var i = 0; i < cnt; i++) {\n                    $tr.append($tr.next().find('td').first());\n                    $tr.nextAll().each(tempAddCol);\n                }\n            }\n\n            $tr = $tr.next();\n        }\n\n        if (monitorSettings.gridMaxPoints === 'auto') {\n            runtime.gridMaxPoints = Math.round((chartSize.width - 40) / 12);\n        }\n\n        runtime.xmin = new Date().getTime() - serverTimeDiff - runtime.gridMaxPoints * monitorSettings.gridRefresh;\n        runtime.xmax = new Date().getTime() - serverTimeDiff + monitorSettings.gridRefresh;\n\n        if (editMode) {\n            $('#chartGrid').sortableTable('refresh');\n        }\n\n        refreshChartGrid();\n        saveMonitor(); // Save settings\n    });\n\n    $('div.popupContent select[name=\"gridChartRefresh\"]').on('change', function () {\n        monitorSettings.gridRefresh = parseInt(this.value, 10) * 1000;\n        clearTimeout(runtime.refreshTimeout);\n\n        if (runtime.refreshRequest) {\n            runtime.refreshRequest.abort();\n        }\n\n        runtime.xmin = new Date().getTime() - serverTimeDiff - runtime.gridMaxPoints * monitorSettings.gridRefresh;\n        // fixing chart shift towards left on refresh rate change\n        // runtime.xmax = new Date().getTime() - serverTimeDiff + monitorSettings.gridRefresh;\n        runtime.refreshTimeout = setTimeout(refreshChartGrid, monitorSettings.gridRefresh);\n\n        saveMonitor(); // Save settings\n    });\n\n    $('a[href=\"#addNewChart\"]').on('click', function (event) {\n        event.preventDefault();\n\n        $('#addChartButton').on('click', function () {\n            var type = $('input[name=\"chartType\"]:checked').val();\n\n            if (type === 'preset') {\n                newChart = presetCharts[$('#addChartModal').find('select[name=\"presetCharts\"]').prop('value')];\n            } else {\n                // If user builds their own chart, it's being set/updated\n                // each time they add a series\n                // So here we only warn if they didn't add a series yet\n                if (! newChart || ! newChart.nodes || newChart.nodes.length === 0) {\n                    alert(window.Messages.strAddOneSeriesWarning);\n                    return;\n                }\n            }\n\n            newChart.title = $('input[name=\"chartTitle\"]').val();\n            // Add a cloned object to the chart grid\n            addChart($.extend(true, {}, newChart));\n\n            newChart = null;\n\n            saveMonitor(); // Save settings\n\n            $('#closeModalButton').off('click');\n        });\n\n        $('#closeModalButton').on('click', function () {\n            newChart = null;\n            $('span#clearSeriesLink').hide();\n            $('#seriesPreview').html('');\n            $('#closeModalButton').off('click');\n        });\n\n        var $presetList = $('#addChartModal').find('select[name=\"presetCharts\"]');\n        if ($presetList.html().length === 0) {\n            $.each(presetCharts, function (key, value) {\n                $presetList.append('<option value=\"' + key + '\">' + value.title + '</option>');\n            });\n            $presetList.on('change', function () {\n                $('input[name=\"chartTitle\"]').val(\n                    $presetList.find(':selected').text()\n                );\n                $('#chartPreset').prop('checked', true);\n            });\n            $('#chartPreset').on('click', function () {\n                $('input[name=\"chartTitle\"]').val(\n                    $presetList.find(':selected').text()\n                );\n            });\n            $('#chartStatusVar').on('click', function () {\n                $('input[name=\"chartTitle\"]').val(\n                    $('#chartSeries').find(':selected').text().replace(/_/g, ' ')\n                );\n            });\n            $('#chartSeries').on('change', function () {\n                $('input[name=\"chartTitle\"]').val(\n                    $('#chartSeries').find(':selected').text().replace(/_/g, ' ')\n                );\n            });\n        }\n\n        $('#addChartModal').modal('show');\n\n        $('#seriesPreview').html('<i>' + window.Messages.strNone + '</i>');\n\n        return false;\n    });\n\n    $('a[href=\"#exportMonitorConfig\"]').on('click', function (event) {\n        event.preventDefault();\n        var gridCopy = {};\n        $.each(runtime.charts, function (key, elem) {\n            gridCopy[key] = {};\n            gridCopy[key].nodes = elem.nodes;\n            gridCopy[key].series = elem.series;\n            gridCopy[key].settings = elem.settings;\n            gridCopy[key].title = elem.title;\n            gridCopy[key].maxYLabel = elem.maxYLabel;\n        });\n        var exportData = {\n            monitorCharts: gridCopy,\n            monitorSettings: monitorSettings\n        };\n\n        var blob = new Blob([JSON.stringify(exportData)], { type: 'application/octet-stream' });\n        var url = null;\n        var fileName = 'monitor-config.json';\n        if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n            window.navigator.msSaveOrOpenBlob(blob, fileName);\n        } else {\n            url = URL.createObjectURL(blob);\n            window.location.href = url;\n        }\n        setTimeout(function () {\n            // For some browsers it is necessary to delay revoking the ObjectURL\n            if (url !== null) {\n                window.URL.revokeObjectURL(url);\n            }\n            url = undefined;\n            blob = undefined;\n        }, 100);\n    });\n\n    $('a[href=\"#importMonitorConfig\"]').on('click', function (event) {\n        event.preventDefault();\n        $('#emptyDialog').dialog({\n            classes: {\n                'ui-dialog-titlebar-close': 'btn-close'\n            },\n            title: window.Messages.strImportDialogTitle\n        });\n        $('#emptyDialog').html(window.Messages.strImportDialogMessage + '<br><form>' +\n            '<input type=\"file\" name=\"file\" id=\"import_file\"> </form>');\n\n        var dlgBtns = {\n            [window.Messages.strImport]: {\n                text: window.Messages.strImport,\n                class: 'btn btn-primary',\n            },\n            [window.Messages.strCancel]: {\n                text: window.Messages.strCancel,\n                class: 'btn btn-secondary',\n            },\n        };\n\n        dlgBtns[window.Messages.strImport].click = function () {\n            var input = $('#emptyDialog').find('#import_file')[0];\n            var reader = new FileReader();\n\n            reader.onerror = function (event) {\n                alert(window.Messages.strFailedParsingConfig + '\\n' + event.target.error.code);\n            };\n            reader.onload = function (e) {\n                var data = e.target.result;\n                var json = null;\n                // Try loading config\n                try {\n                    json = JSON.parse(data);\n                } catch (err) {\n                    alert(window.Messages.strFailedParsingConfig);\n                    $('#emptyDialog').dialog('close');\n                    return;\n                }\n\n                // Basic check, is this a monitor config json?\n                if (! json || ! json.monitorCharts || ! json.monitorCharts) {\n                    alert(window.Messages.strFailedParsingConfig);\n                    $('#emptyDialog').dialog('close');\n                    return;\n                }\n\n                // If json ok, try applying config\n                try {\n                    if (isStorageSupported('localStorage')) {\n                        window.localStorage.monitorCharts = JSON.stringify(json.monitorCharts);\n                        window.localStorage.monitorSettings = JSON.stringify(json.monitorSettings);\n                    }\n                    rebuildGrid();\n                } catch (err) {\n                    alert(window.Messages.strFailedBuildingGrid);\n                    // If an exception is thrown, load default again\n                    if (isStorageSupported('localStorage')) {\n                        window.localStorage.removeItem('monitorCharts');\n                        window.localStorage.removeItem('monitorSettings');\n                    }\n                    rebuildGrid();\n                }\n\n                $('#emptyDialog').dialog('close');\n            };\n            reader.readAsText(input.files[0]);\n        };\n\n        dlgBtns[window.Messages.strCancel].click = function () {\n            $(this).dialog('close');\n        };\n\n        $('#emptyDialog').dialog({\n            classes: {\n                'ui-dialog-titlebar-close': 'btn-close'\n            },\n            width: 'auto',\n            height: 'auto',\n            buttons: dlgBtns\n        });\n    });\n\n    $('a[href=\"#clearMonitorConfig\"]').on('click', function (event) {\n        event.preventDefault();\n        if (isStorageSupported('localStorage')) {\n            window.localStorage.removeItem('monitorCharts');\n            window.localStorage.removeItem('monitorSettings');\n            window.localStorage.removeItem('monitorVersion');\n        }\n        $(this).hide();\n        rebuildGrid();\n    });\n\n    $('a[href=\"#pauseCharts\"]').on('click', function (event) {\n        event.preventDefault();\n        runtime.redrawCharts = ! runtime.redrawCharts;\n        if (! runtime.redrawCharts) {\n            $(this).html(getImageTag('play') + window.Messages.strResumeMonitor);\n        } else {\n            $(this).html(getImageTag('pause') + window.Messages.strPauseMonitor);\n            if (! runtime.charts) {\n                initGrid();\n                $('a[href=\"#settingsPopup\"]').show();\n            }\n        }\n        return false;\n    });\n\n    $('a[href=\"#monitorInstructionsDialog\"]').on('click', function (event) {\n        event.preventDefault();\n\n        var $dialog = $('#monitorInstructionsDialog');\n        var dlgBtns = {\n            [window.Messages.strClose]: {\n                text: window.Messages.strClose,\n                class: 'btn btn-primary',\n                click: function () {\n                    $(this).dialog('close');\n                }\n            },\n        };\n        $dialog.dialog({\n            classes: {\n                'ui-dialog-titlebar-close': 'btn-close'\n            },\n            width: '60%',\n            height: 'auto',\n            buttons: dlgBtns\n        }).find('img.ajaxIcon').show();\n\n        var loadLogVars = function (getvars) {\n            var vars = {\n                'ajax_request': true,\n                'server': CommonParams.get('server')\n            };\n            if (getvars) {\n                $.extend(vars, getvars);\n            }\n\n            $.post('index.php?route=/server/status/monitor/log-vars', vars,\n                function (data) {\n                    var logVars;\n                    if (typeof data !== 'undefined' && data.success === true) {\n                        logVars = data.message;\n                    } else {\n                        return serverResponseError();\n                    }\n                    var icon = getImageTag('s_success');\n                    var msg = '';\n                    var str = '';\n\n                    if (logVars.general_log === 'ON') {\n                        if (logVars.slow_query_log === 'ON') {\n                            msg = window.Messages.strBothLogOn;\n                        } else {\n                            msg = window.Messages.strGenLogOn;\n                        }\n                    }\n\n                    if (msg.length === 0 && logVars.slow_query_log === 'ON') {\n                        msg = window.Messages.strSlowLogOn;\n                    }\n\n                    if (msg.length === 0) {\n                        icon = getImageTag('s_error');\n                        msg = window.Messages.strBothLogOff;\n                    }\n\n                    str = '<b>' + window.Messages.strCurrentSettings + '</b><br><div class=\"smallIndent\">';\n                    str += icon + msg + '<br>';\n\n                    if (logVars.log_output !== 'TABLE') {\n                        str += getImageTag('s_error') + ' ' + window.Messages.strLogOutNotTable + '<br>';\n                    } else {\n                        str += getImageTag('s_success') + ' ' + window.Messages.strLogOutIsTable + '<br>';\n                    }\n\n                    if (logVars.slow_query_log === 'ON') {\n                        if (logVars.long_query_time > 2) {\n                            str += getImageTag('s_attention') + ' ';\n                            str += window.sprintf(window.Messages.strSmallerLongQueryTimeAdvice, logVars.long_query_time);\n                            str += '<br>';\n                        }\n\n                        if (logVars.long_query_time < 2) {\n                            str += getImageTag('s_success') + ' ';\n                            str += window.sprintf(window.Messages.strLongQueryTimeSet, logVars.long_query_time);\n                            str += '<br>';\n                        }\n                    }\n\n                    str += '</div>';\n\n                    if (isSuperUser) {\n                        str += '<p></p><b>' + window.Messages.strChangeSettings + '</b>';\n                        str += '<div class=\"smallIndent\">';\n                        str += window.Messages.strSettingsAppliedGlobal + '<br>';\n\n                        var varValue = 'TABLE';\n                        if (logVars.log_output === 'TABLE') {\n                            varValue = 'FILE';\n                        }\n\n                        str += '- <a class=\"set\" href=\"#log_output-' + varValue + '\">';\n                        str += window.sprintf(window.Messages.strSetLogOutput, varValue);\n                        str += ' </a><br>';\n\n                        if (logVars.general_log !== 'ON') {\n                            str += '- <a class=\"set\" href=\"#general_log-ON\">';\n                            str += window.sprintf(window.Messages.strEnableVar, 'general_log');\n                            str += ' </a><br>';\n                        } else {\n                            str += '- <a class=\"set\" href=\"#general_log-OFF\">';\n                            str += window.sprintf(window.Messages.strDisableVar, 'general_log');\n                            str += ' </a><br>';\n                        }\n\n                        if (logVars.slow_query_log !== 'ON') {\n                            str += '- <a class=\"set\" href=\"#slow_query_log-ON\">';\n                            str += window.sprintf(window.Messages.strEnableVar, 'slow_query_log');\n                            str += ' </a><br>';\n                        } else {\n                            str += '- <a class=\"set\" href=\"#slow_query_log-OFF\">';\n                            str += window.sprintf(window.Messages.strDisableVar, 'slow_query_log');\n                            str += ' </a><br>';\n                        }\n\n                        varValue = 5;\n                        if (logVars.long_query_time > 2) {\n                            varValue = 1;\n                        }\n\n                        str += '- <a class=\"set\" href=\"#long_query_time-' + varValue + '\">';\n                        str += window.sprintf(window.Messages.setSetLongQueryTime, varValue);\n                        str += ' </a><br>';\n                    } else {\n                        str += window.Messages.strNoSuperUser + '<br>';\n                    }\n\n                    str += '</div>';\n\n                    $dialog.find('div.monitorUse').toggle(\n                        logVars.log_output === 'TABLE' && (logVars.slow_query_log === 'ON' || logVars.general_log === 'ON')\n                    );\n\n                    $dialog.find('div.ajaxContent').html(str);\n                    $dialog.find('img.ajaxIcon').hide();\n                    $dialog.find('a.set').on('click', function () {\n                        var nameValue = $(this).attr('href').split('-');\n                        loadLogVars({ varName: nameValue[0].substring(1), varValue: nameValue[1] });\n                        $dialog.find('img.ajaxIcon').show();\n                    });\n                }\n            );\n        };\n\n\n        loadLogVars();\n\n        return false;\n    });\n\n    $('input[name=\"chartType\"]').on('change', function () {\n        $('#chartVariableSettings').toggle(this.checked && this.value === 'variable');\n        var title = $('input[name=\"chartTitle\"]').val();\n        if (title === window.Messages.strChartTitle ||\n            title === $('label[for=\"' + $('input[name=\"chartTitle\"]').data('lastRadio') + '\"]').text()\n        ) {\n            $('input[name=\"chartTitle\"]')\n                .data('lastRadio', $(this).attr('id'))\n                .val($('label[for=\"' + $(this).attr('id') + '\"]').text());\n        }\n    });\n\n    $('input[name=\"useDivisor\"]').on('change', function () {\n        $('span.divisorInput').toggle(this.checked);\n    });\n\n    $('input[name=\"useUnit\"]').on('change', function () {\n        $('span.unitInput').toggle(this.checked);\n    });\n\n    $('select[name=\"varChartList\"]').on('change', function () {\n        if (this.selectedIndex !== 0) {\n            $('#variableInput').val(this.value);\n        }\n    });\n\n    $('a[href=\"#kibDivisor\"]').on('click', function (event) {\n        event.preventDefault();\n        $('input[name=\"valueDivisor\"]').val(1024);\n        $('input[name=\"valueUnit\"]').val(window.Messages.strKiB);\n        $('span.unitInput').toggle(true);\n        $('input[name=\"useUnit\"]').prop('checked', true);\n        return false;\n    });\n\n    $('a[href=\"#mibDivisor\"]').on('click', function (event) {\n        event.preventDefault();\n        $('input[name=\"valueDivisor\"]').val(1024 * 1024);\n        $('input[name=\"valueUnit\"]').val(window.Messages.strMiB);\n        $('span.unitInput').toggle(true);\n        $('input[name=\"useUnit\"]').prop('checked', true);\n        return false;\n    });\n\n    $('a[href=\"#submitClearSeries\"]').on('click', function (event) {\n        event.preventDefault();\n        $('#seriesPreview').html('<i>' + window.Messages.strNone + '</i>');\n        newChart = null;\n        $('#clearSeriesLink').hide();\n    });\n\n    $('a[href=\"#submitAddSeries\"]').on('click', function (event) {\n        event.preventDefault();\n        if ($('#variableInput').val() === '') {\n            return false;\n        }\n\n        if (newChart === null) {\n            $('#seriesPreview').html('');\n\n            newChart = {\n                title: $('input[name=\"chartTitle\"]').val(),\n                nodes: [],\n                series: [],\n                maxYLabel: 0\n            };\n        }\n\n        var serie = {\n            dataPoints: [{ type: 'statusvar', name: $('#variableInput').val() }],\n            display: $('input[name=\"differentialValue\"]').prop('checked') ? 'differential' : ''\n        };\n\n        if (serie.dataPoints[0].name === 'Processes') {\n            serie.dataPoints[0].type = 'proc';\n        }\n\n        if ($('input[name=\"useDivisor\"]').prop('checked')) {\n            serie.valueDivisor = parseInt($('input[name=\"valueDivisor\"]').val(), 10);\n        }\n\n        if ($('input[name=\"useUnit\"]').prop('checked')) {\n            serie.unit = $('input[name=\"valueUnit\"]').val();\n        }\n\n        var str = serie.display === 'differential' ? ', ' + window.Messages.strDifferential : '';\n        str += serie.valueDivisor ? (', ' + window.sprintf(window.Messages.strDividedBy, serie.valueDivisor)) : '';\n        str += serie.unit ? (', ' + window.Messages.strUnit + ': ' + serie.unit) : '';\n\n        var newSeries = {\n            label: $('#variableInput').val().replace(/_/g, ' ')\n        };\n        newChart.series.push(newSeries);\n        $('#seriesPreview').append('- ' + escapeHtml(newSeries.label + str) + '<br>');\n        newChart.nodes.push(serie);\n        $('#variableInput').val('');\n        $('input[name=\"differentialValue\"]').prop('checked', true);\n        $('input[name=\"useDivisor\"]').prop('checked', false);\n        $('input[name=\"useUnit\"]').prop('checked', false);\n        $('input[name=\"useDivisor\"]').trigger('change');\n        $('input[name=\"useUnit\"]').trigger('change');\n        $('select[name=\"varChartList\"]').get(0).selectedIndex = 0;\n\n        $('#clearSeriesLink').show();\n\n        return false;\n    });\n\n    $('#variableInput').autocomplete({\n        source: variableNames\n    });\n\n    /* Initializes the monitor, called only once */\n    function initGrid () {\n        var i;\n\n        /* Apply default values & config */\n        if (isStorageSupported('localStorage')) {\n            if (typeof window.localStorage.monitorCharts !== 'undefined') {\n                runtime.charts = JSON.parse(window.localStorage.monitorCharts);\n            }\n            if (typeof window.localStorage.monitorSettings !== 'undefined') {\n                monitorSettings = JSON.parse(window.localStorage.monitorSettings);\n            }\n\n            $('a[href=\"#clearMonitorConfig\"]').toggle(runtime.charts !== null);\n\n            if (runtime.charts !== null\n                && typeof window.localStorage.monitorVersion !== 'undefined'\n                && monitorProtocolVersion !== window.localStorage.monitorVersion\n            ) {\n                $('#emptyDialog').dialog({\n                    classes: {\n                        'ui-dialog-titlebar-close': 'btn-close'\n                    },\n                    title: window.Messages.strIncompatibleMonitorConfig\n                });\n                $('#emptyDialog').html(window.Messages.strIncompatibleMonitorConfigDescription);\n\n                var dlgBtns = {\n                    [window.Messages.strClose]: {\n                        text: window.Messages.strClose,\n                        class: 'btn btn-primary',\n                        click: function () {\n                            $(this).dialog('close');\n                        }\n                    },\n                };\n\n                $('#emptyDialog').dialog({\n                    classes: {\n                        'ui-dialog-titlebar-close': 'btn-close'\n                    },\n                    width: 400,\n                    buttons: dlgBtns\n                });\n            }\n        }\n\n        if (runtime.charts === null) {\n            runtime.charts = defaultChartGrid;\n        }\n        if (monitorSettings === null) {\n            monitorSettings = defaultMonitorSettings;\n        }\n\n        $('select[name=\"gridChartRefresh\"]').val(monitorSettings.gridRefresh / 1000);\n        $('select[name=\"chartColumns\"]').val(monitorSettings.columns);\n\n        if (monitorSettings.gridMaxPoints === 'auto') {\n            runtime.gridMaxPoints = Math.round((monitorSettings.chartSize.width - 40) / 12);\n        } else {\n            runtime.gridMaxPoints = monitorSettings.gridMaxPoints;\n        }\n\n        runtime.xmin = new Date().getTime() - serverTimeDiff - runtime.gridMaxPoints * monitorSettings.gridRefresh;\n        runtime.xmax = new Date().getTime() - serverTimeDiff + monitorSettings.gridRefresh;\n\n        /* Calculate how much spacing there is between each chart */\n        $('#chartGrid').html('<tr><td></td><td></td></tr><tr><td></td><td></td></tr>');\n        chartSpacing = {\n            width: $('#chartGrid').find('td').eq(1).offset().left -\n                $('#chartGrid').find('td').eq(0).offset().left,\n            height: $('#chartGrid').find('tr').eq(1).find('td').eq(1).offset().top -\n                $('#chartGrid').find('tr').eq(0).find('td').eq(0).offset().top\n        };\n        $('#chartGrid').html('');\n\n        /* Add all charts - in correct order */\n        var keys = [];\n        $.each(runtime.charts, function (key) {\n            keys.push(key);\n        });\n        keys.sort();\n        for (i = 0; i < keys.length; i++) {\n            addChart(runtime.charts[keys[i]], true);\n        }\n\n        /* Fill in missing cells */\n        var numCharts = $('#chartGrid').find('.monitorChart').length;\n        var numMissingCells = (monitorSettings.columns - numCharts % monitorSettings.columns) % monitorSettings.columns;\n        for (i = 0; i < numMissingCells; i++) {\n            $('#chartGrid').find('tr').last().append('<td></td>');\n        }\n\n        // Empty cells should keep their size so you can drop onto them\n        calculateChartSize();\n        $('#chartGrid').find('tr td').css('width', chartSize.width + 'px');\n\n        buildRequiredDataList();\n        refreshChartGrid();\n    }\n\n    /* Calls destroyGrid() and initGrid(), but before doing so it saves the chart\n     * data from each chart and restores it after the monitor is initialized again */\n    function rebuildGrid () {\n        var oldData = null;\n        if (runtime.charts) {\n            oldData = {};\n            $.each(runtime.charts, function (key, chartObj) {\n                for (var i = 0, l = chartObj.nodes.length; i < l; i++) {\n                    oldData[chartObj.nodes[i].dataPoint] = [];\n                    for (var j = 0, ll = chartObj.chart.series[i].data.length; j < ll; j++) {\n                        oldData[chartObj.nodes[i].dataPoint].push([chartObj.chart.series[i].data[j].x, chartObj.chart.series[i].data[j].y]);\n                    }\n                }\n            });\n        }\n\n        destroyGrid();\n        initGrid();\n    }\n\n    /* Calculates the dynamic chart size that depends on the column width */\n    function calculateChartSize () {\n        var panelWidth;\n        if ($('body').height() > $(window).height()) { // has vertical scroll bar\n            panelWidth = $('#logTable').innerWidth();\n        } else {\n            panelWidth = $('#logTable').innerWidth() - 10; // leave some space for vertical scroll bar\n        }\n\n        var wdt = panelWidth;\n        var windowWidth = $(window).width();\n\n        if (windowWidth > 768) {\n            wdt = (panelWidth - monitorSettings.columns * Math.abs(chartSpacing.width)) / monitorSettings.columns;\n        }\n\n        chartSize = {\n            width: Math.floor(wdt),\n            height: Math.floor(0.75 * wdt)\n        };\n    }\n\n    /* Adds a chart to the chart grid */\n    function addChart (chartObj, initialize) {\n        var i;\n        var settings = {\n            title: escapeHtml(chartObj.title),\n            grid: {\n                drawBorder: false,\n                shadow: false,\n                background: 'rgba(0,0,0,0)'\n            },\n            axes: {\n                xaxis: {\n                    renderer: $.jqplot.DateAxisRenderer,\n                    tickOptions: {\n                        formatString: '%H:%M:%S',\n                        showGridline: false\n                    },\n                    min: runtime.xmin,\n                    max: runtime.xmax\n                },\n                yaxis: {\n                    min: 0,\n                    max: 100,\n                    tickInterval: 20\n                }\n            },\n            seriesDefaults: {\n                rendererOptions: {\n                    smooth: true\n                },\n                showLine: true,\n                lineWidth: 2,\n                markerOptions: {\n                    size: 6\n                }\n            },\n            highlighter: {\n                show: true\n            }\n        };\n\n        if (settings.title === window.Messages.strSystemCPUUsage ||\n            settings.title === window.Messages.strQueryCacheEfficiency\n        ) {\n            settings.axes.yaxis.tickOptions = {\n                formatString: '%d %%'\n            };\n        } else if (settings.title === window.Messages.strSystemMemory ||\n            settings.title === window.Messages.strSystemSwap\n        ) {\n            settings.stackSeries = true;\n            settings.axes.yaxis.tickOptions = {\n                formatter: $.jqplot.byteFormatter(2) // MiB\n            };\n        } else if (settings.title === window.Messages.strTraffic) {\n            settings.axes.yaxis.tickOptions = {\n                formatter: $.jqplot.byteFormatter(1) // KiB\n            };\n        } else if (settings.title === window.Messages.strQuestions ||\n            settings.title === window.Messages.strConnections\n        ) {\n            settings.axes.yaxis.tickOptions = {\n                formatter: function (format, val) {\n                    if (Math.abs(val) >= 1000000) {\n                        return $.jqplot.sprintf('%.3g M', val / 1000000);\n                    } else if (Math.abs(val) >= 1000) {\n                        return $.jqplot.sprintf('%.3g k', val / 1000);\n                    } else {\n                        return $.jqplot.sprintf('%d', val);\n                    }\n                }\n            };\n        }\n\n        settings.series = chartObj.series;\n\n        if ($('#' + 'gridchart' + runtime.chartAI).length === 0) {\n            var numCharts = $('#chartGrid').find('.monitorChart').length;\n\n            if (numCharts === 0 || (numCharts % monitorSettings.columns === 0)) {\n                $('#chartGrid').append('<tr></tr>');\n            }\n\n            if (! chartSize) {\n                calculateChartSize();\n            }\n            $('#chartGrid').find('tr').last().append(\n                '<td><div id=\"gridChartContainer' + runtime.chartAI + '\" class=\"\">' +\n                '<div class=\"ui-state-default monitorChart\"' +\n                ' id=\"gridchart' + runtime.chartAI + '\"' +\n                ' style=\"width:' + chartSize.width + 'px; height:' + chartSize.height + 'px;\"></div>' +\n                '</div></td>'\n            );\n        }\n\n        // Set series' data as [0,0], smooth lines won't plot with data array having null values.\n        // also chart won't plot initially with no data and data comes on refreshChartGrid()\n        var series = [];\n        for (i in chartObj.series) {\n            series.push([[0, 0]]);\n        }\n\n        var tempTooltipContentEditor = function (str, seriesIndex, pointIndex, plot) {\n            var j;\n            // TODO: move style to theme CSS\n            var tooltipHtml = '<div id=\"tooltip_editor\">';\n            // x value i.e. time\n            var timeValue = str.split(',')[0];\n            var seriesValue;\n            tooltipHtml += 'Time: ' + timeValue;\n            tooltipHtml += '<span id=\"tooltip_font\">';\n            // Add y values to the tooltip per series\n            for (j in plot.series) {\n                // get y value if present\n                if (plot.series[j].data.length > pointIndex) {\n                    seriesValue = plot.series[j].data[pointIndex][1];\n                } else {\n                    return;\n                }\n                var seriesLabel = plot.series[j].label;\n                var seriesColor = plot.series[j].color;\n                // format y value\n                if (plot.series[0]._yaxis.tickOptions.formatter) { // eslint-disable-line no-underscore-dangle\n                    // using formatter function\n                    // eslint-disable-next-line no-underscore-dangle\n                    seriesValue = plot.series[0]._yaxis.tickOptions.formatter('%s', seriesValue);\n                } else if (plot.series[0]._yaxis.tickOptions.formatString) { // eslint-disable-line no-underscore-dangle\n                    // using format string\n                    // eslint-disable-next-line no-underscore-dangle\n                    seriesValue = window.sprintf(plot.series[0]._yaxis.tickOptions.formatString, seriesValue);\n                }\n                tooltipHtml += '<br><span style=\"color:' + seriesColor + '\">' +\n                    seriesLabel + ': ' + seriesValue + '</span>';\n            }\n            tooltipHtml += '</span></div>';\n            return tooltipHtml;\n        };\n\n        // set Tooltip for each series\n        for (i in settings.series) {\n            settings.series[i].highlighter = {\n                show: true,\n                tooltipContentEditor: tempTooltipContentEditor\n            };\n        }\n\n        chartObj.chart = $.jqplot('gridchart' + runtime.chartAI, series, settings);\n        // remove [0,0] after plotting\n        for (i in chartObj.chart.series) {\n            chartObj.chart.series[i].data.shift();\n        }\n\n        var $legend = $('<div></div>').css('padding', '0.5em');\n        for (i in chartObj.chart.series) {\n            $legend.append(\n                $('<div></div>').append(\n                    $('<div>').css({\n                        width: '1em',\n                        height: '1em',\n                        background: chartObj.chart.seriesColors[i]\n                    }).addClass('float-start')\n                ).append(\n                    $('<div>').text(\n                        chartObj.chart.series[i].label\n                    ).addClass('float-start')\n                ).append(\n                    $('<div class=\"clearfloat\">')\n                ).addClass('float-start')\n            );\n        }\n        $('#gridchart' + runtime.chartAI)\n            .parent()\n            .append($legend);\n\n        if (initialize !== true) {\n            runtime.charts['c' + runtime.chartAI] = chartObj;\n            buildRequiredDataList();\n        }\n\n        // time span selection\n        $('#gridchart' + runtime.chartAI).on('jqplotMouseDown', function (ev, gridpos, datapos) {\n            drawTimeSpan = true;\n            selectionTimeDiff.push(datapos.xaxis);\n            if ($('#selection_box').length) {\n                $('#selection_box').remove();\n            }\n            var selectionBox = $('<div id=\"selection_box\" >');\n            // eslint-disable-next-line compat/compat\n            $(document.body).append(selectionBox);\n            selectionStartX = ev.pageX;\n            selectionStartY = ev.pageY;\n            selectionBox\n                .attr({ id: 'selection_box' })\n                .css({\n                    top: selectionStartY - gridpos.y,\n                    left: selectionStartX\n                })\n                .fadeIn();\n        });\n\n        $('#gridchart' + runtime.chartAI).on('jqplotMouseUp', function (ev, gridpos, datapos) {\n            if (! drawTimeSpan || editMode) {\n                return;\n            }\n\n            selectionTimeDiff.push(datapos.xaxis);\n\n            if (selectionTimeDiff[1] <= selectionTimeDiff[0]) {\n                selectionTimeDiff = [];\n                return;\n            }\n            // get date from timestamp\n            var min = new Date(Math.ceil(selectionTimeDiff[0]));\n            var max = new Date(Math.ceil(selectionTimeDiff[1]));\n            getLogAnalyseDialog(min, max);\n            selectionTimeDiff = [];\n            drawTimeSpan = false;\n        });\n\n        $('#gridchart' + runtime.chartAI).on('jqplotMouseMove', function (ev) {\n            if (! drawTimeSpan || editMode) {\n                return;\n            }\n            if (selectionStartX !== undefined) {\n                $('#selection_box')\n                    .css({\n                        width: Math.ceil(ev.pageX - selectionStartX)\n                    })\n                    .fadeIn();\n            }\n        });\n\n        $('#gridchart' + runtime.chartAI).on('jqplotMouseLeave', function () {\n            drawTimeSpan = false;\n        });\n\n        // eslint-disable-next-line compat/compat\n        $(document.body).on('mouseup', function () {\n            if ($('#selection_box').length) {\n                $('#selection_box').remove();\n            }\n        });\n\n        // Edit, Print icon only in edit mode\n        $('#chartGrid').find('div svg').find('*[zIndex=20], *[zIndex=21], *[zIndex=19]').toggle(editMode);\n\n        runtime.chartAI++;\n    }\n\n    function getLogAnalyseDialog (min, max) {\n        var $logAnalyseDialog = $('#logAnalyseDialog');\n        var $dateStart = $logAnalyseDialog.find('input[name=\"dateStart\"]');\n        var $dateEnd = $logAnalyseDialog.find('input[name=\"dateEnd\"]');\n        $dateStart.prop('readonly', true);\n        $dateEnd.prop('readonly', true);\n\n        var dlgBtns = {\n            [window.Messages.strFromSlowLog]: {\n                text: window.Messages.strFromSlowLog,\n                class: 'btn btn-secondary',\n            },\n            [window.Messages.strFromGeneralLog]: {\n                text: window.Messages.strFromGeneralLog,\n                class: 'btn btn-secondary',\n            },\n        };\n\n        dlgBtns[window.Messages.strFromSlowLog].click = function () {\n            loadLog('slow', min, max);\n            $(this).dialog('close');\n        };\n\n        dlgBtns[window.Messages.strFromGeneralLog].click = function () {\n            loadLog('general', min, max);\n            $(this).dialog('close');\n        };\n\n        $logAnalyseDialog.dialog({\n            classes: {\n                'ui-dialog-titlebar-close': 'btn-close'\n            },\n            width: 'auto',\n            height: 'auto',\n            buttons: dlgBtns\n        });\n\n        Functions.addDatepicker($dateStart, 'datetime', {\n            showMillisec: false,\n            showMicrosec: false,\n            timeFormat: 'HH:mm:ss',\n            firstDay: firstDayOfCalendar\n        });\n        Functions.addDatepicker($dateEnd, 'datetime', {\n            showMillisec: false,\n            showMicrosec: false,\n            timeFormat: 'HH:mm:ss',\n            firstDay: firstDayOfCalendar\n        });\n        $dateStart.datepicker('setDate', min);\n        $dateEnd.datepicker('setDate', max);\n    }\n\n    function loadLog (type, min, max) {\n        var dateStart = Date.parse($('#logAnalyseDialog').find('input[name=\"dateStart\"]').datepicker('getDate')) || min;\n        var dateEnd = Date.parse($('#logAnalyseDialog').find('input[name=\"dateEnd\"]').datepicker('getDate')) || max;\n\n        loadLogStatistics({\n            src: type,\n            start: dateStart,\n            end: dateEnd,\n            removeVariables: $('#removeVariables').prop('checked'),\n            limitTypes: $('#limitTypes').prop('checked')\n        });\n    }\n\n    /* Called in regular intervals, this function updates the values of each chart in the grid */\n    function refreshChartGrid () {\n        /* Send to server */\n        runtime.refreshRequest = $.post('index.php?route=/server/status/monitor/chart', {\n            'ajax_request': true,\n            'requiredData': JSON.stringify(runtime.dataList),\n            'server': CommonParams.get('server')\n        }, function (data) {\n            var chartData;\n            if (typeof data !== 'undefined' && data.success === true) {\n                chartData = data.message;\n            } else {\n                return serverResponseError();\n            }\n            var value;\n            var i = 0;\n            var diff;\n            var total;\n\n            /* Update values in each graph */\n            $.each(runtime.charts, function (orderKey, elem) {\n                var key = elem.chartID;\n                // If newly added chart, we have no data for it yet\n                if (! chartData[key]) {\n                    return;\n                }\n                // Draw all series\n                total = 0;\n                for (var j = 0; j < elem.nodes.length; j++) {\n                    // Update x-axis\n                    if (i === 0 && j === 0) {\n                        if (oldChartData === null) {\n                            diff = chartData.x - runtime.xmax;\n                        } else {\n                            diff = parseInt(chartData.x - oldChartData.x, 10);\n                        }\n\n                        runtime.xmin += diff;\n                        runtime.xmax += diff;\n                    }\n\n                    // elem.chart.xAxis[0].setExtremes(runtime.xmin, runtime.xmax, false);\n                    /* Calculate y value */\n\n                    // If transform function given, use it\n                    if (elem.nodes[j].transformFn) {\n                        value = chartValueTransform(\n                            elem.nodes[j].transformFn,\n                            chartData[key][j],\n                            // Check if first iteration (oldChartData==null), or if newly added chart oldChartData[key]==null\n                            (\n                                oldChartData === null ||\n                                oldChartData[key] === null ||\n                                oldChartData[key] === undefined ? null : oldChartData[key][j]\n                            )\n                        );\n\n                        // Otherwise use original value and apply differential and divisor if given,\n                        // in this case we have only one data point per series - located at chartData[key][j][0]\n                    } else {\n                        value = parseFloat(chartData[key][j][0].value);\n\n                        if (elem.nodes[j].display === 'differential') {\n                            if (oldChartData === null ||\n                                oldChartData[key] === null ||\n                                oldChartData[key] === undefined\n                            ) {\n                                continue;\n                            }\n                            value -= oldChartData[key][j][0].value;\n                        }\n\n                        if (elem.nodes[j].valueDivisor) {\n                            value = value / elem.nodes[j].valueDivisor;\n                        }\n                    }\n\n                    // Set y value, if defined\n                    if (value !== undefined) {\n                        elem.chart.series[j].data.push([chartData.x, value]);\n                        if (value > elem.maxYLabel) {\n                            elem.maxYLabel = value;\n                        } else if (elem.maxYLabel === 0) {\n                            elem.maxYLabel = 0.5;\n                        }\n                        // free old data point values and update maxYLabel\n                        if (elem.chart.series[j].data.length > runtime.gridMaxPoints &&\n                            elem.chart.series[j].data[0][0] < runtime.xmin\n                        ) {\n                            // check if the next freeable point is highest\n                            if (elem.maxYLabel <= elem.chart.series[j].data[0][1]) {\n                                elem.chart.series[j].data.splice(0, elem.chart.series[j].data.length - runtime.gridMaxPoints);\n                                elem.maxYLabel = getMaxYLabel(elem.chart.series[j].data);\n                            } else {\n                                elem.chart.series[j].data.splice(0, elem.chart.series[j].data.length - runtime.gridMaxPoints);\n                            }\n                        }\n                        if (elem.title === window.Messages.strSystemMemory ||\n                            elem.title === window.Messages.strSystemSwap\n                        ) {\n                            total += value;\n                        }\n                    }\n                }\n\n                // update chart options\n                // keep ticks number/positioning consistent while refreshrate changes\n                var tickInterval = (runtime.xmax - runtime.xmin) / 5;\n                elem.chart.axes.xaxis.ticks = [(runtime.xmax - tickInterval * 4),\n                    (runtime.xmax - tickInterval * 3), (runtime.xmax - tickInterval * 2),\n                    (runtime.xmax - tickInterval), runtime.xmax];\n\n                if (elem.title !== window.Messages.strSystemCPUUsage &&\n                    elem.title !== window.Messages.strQueryCacheEfficiency &&\n                    elem.title !== window.Messages.strSystemMemory &&\n                    elem.title !== window.Messages.strSystemSwap\n                ) {\n                    elem.chart.axes.yaxis.max = Math.ceil(elem.maxYLabel * 1.1);\n                    elem.chart.axes.yaxis.tickInterval = Math.ceil(elem.maxYLabel * 1.1 / 5);\n                } else if (elem.title === window.Messages.strSystemMemory ||\n                    elem.title === window.Messages.strSystemSwap\n                ) {\n                    elem.chart.axes.yaxis.max = Math.ceil(total * 1.1 / 100) * 100;\n                    elem.chart.axes.yaxis.tickInterval = Math.ceil(total * 1.1 / 5);\n                }\n                i++;\n\n                if (runtime.redrawCharts) {\n                    elem.chart.replot();\n                }\n            });\n\n            oldChartData = chartData;\n\n            runtime.refreshTimeout = setTimeout(refreshChartGrid, monitorSettings.gridRefresh);\n        });\n    }\n\n    /* Function to get highest plotted point's y label, to scale the chart,\n     * TODO: make jqplot's autoscale:true work here\n     */\n    function getMaxYLabel (dataValues) {\n        var maxY = dataValues[0][1];\n        $.each(dataValues, function (k, v) {\n            maxY = (v[1] > maxY) ? v[1] : maxY;\n        });\n        return maxY;\n    }\n\n    /* Function that supplies special value transform functions for chart values */\n    function chartValueTransform (name, cur, prev) {\n        switch (name) {\n        case 'cpu-linux':\n            if (prev === null) {\n                return undefined;\n            }\n            // cur and prev are datapoint arrays, but containing\n            // only 1 element for cpu-linux\n            var newCur = cur[0];\n            var newPrev = prev[0];\n\n            var diffTotal = newCur.busy + newCur.idle - (newPrev.busy + newPrev.idle);\n            var diffIdle = newCur.idle - newPrev.idle;\n            return 100 * (diffTotal - diffIdle) / diffTotal;\n\n            // Query cache efficiency (%)\n        case 'qce':\n            if (prev === null) {\n                return undefined;\n            }\n            // cur[0].value is Qcache_hits, cur[1].value is Com_select\n            var diffQHits = cur[0].value - prev[0].value;\n            // No NaN please :-)\n            if (cur[1].value - prev[1].value === 0) {\n                return 0;\n            }\n\n            return diffQHits / (cur[1].value - prev[1].value + diffQHits) * 100;\n\n            // Query cache usage (%)\n        case 'qcu':\n            if (cur[1].value === 0) {\n                return 0;\n            }\n            // cur[0].value is Qcache_free_memory, cur[1].value is query_cache_size\n            return 100 - cur[0].value / cur[1].value * 100;\n        }\n        return undefined;\n    }\n\n    /* Build list of nodes that need to be retrieved from server.\n     * It creates something like a stripped down version of the runtime.charts object.\n     */\n    function buildRequiredDataList () {\n        runtime.dataList = {};\n        // Store an own id, because the property name is subject of reordering,\n        // thus destroying our mapping with runtime.charts <=> runtime.dataList\n        var chartID = 0;\n        $.each(runtime.charts, function (key, chart) {\n            runtime.dataList[chartID] = [];\n            for (var i = 0, l = chart.nodes.length; i < l; i++) {\n                runtime.dataList[chartID][i] = chart.nodes[i].dataPoints;\n            }\n            runtime.charts[key].chartID = chartID;\n            chartID++;\n        });\n    }\n\n    /* Loads the log table data, generates the table and handles the filters */\n    function loadLogStatistics (opts) {\n        var logRequest = null;\n\n        if (! opts.removeVariables) {\n            opts.removeVariables = false;\n        }\n        if (! opts.limitTypes) {\n            opts.limitTypes = false;\n        }\n\n        $('#emptyDialog').dialog({\n            classes: {\n                'ui-dialog-titlebar-close': 'btn-close'\n            },\n            title: window.Messages.strAnalysingLogsTitle\n        });\n        $('#emptyDialog').html(window.Messages.strAnalysingLogs +\n            ' <img class=\"ajaxIcon\" src=\"' + themeImagePath +\n            'ajax_clock_small.gif\" alt=\"\">');\n\n        var dlgBtns = {\n            [window.Messages.strCancelRequest]: {\n                text: window.Messages.strCancelRequest,\n                class: 'btn btn-primary',\n            },\n        };\n\n        dlgBtns[window.Messages.strCancelRequest].click = function () {\n            if (logRequest !== null) {\n                logRequest.abort();\n            }\n\n            $(this).dialog('close');\n        };\n\n        $('#emptyDialog').dialog({\n            classes: {\n                'ui-dialog-titlebar-close': 'btn-close'\n            },\n            width: 'auto',\n            height: 'auto',\n            buttons: dlgBtns\n        });\n\n        var url = 'index.php?route=/server/status/monitor/slow-log';\n        if (opts.src === 'general') {\n            url = 'index.php?route=/server/status/monitor/general-log';\n        }\n        logRequest = $.post(\n            url,\n            {\n                'ajax_request': true,\n                'time_start': Math.round(opts.start / 1000),\n                'time_end': Math.round(opts.end / 1000),\n                'removeVariables': opts.removeVariables,\n                'limitTypes': opts.limitTypes,\n                'server': CommonParams.get('server')\n            },\n            function (data) {\n                var logData;\n                var dlgBtns = {\n                    [window.Messages.strClose]: {\n                        text: window.Messages.strClose,\n                        class: 'btn btn-primary',\n                    },\n                };\n                if (typeof data !== 'undefined' && data.success === true) {\n                    logData = data.message;\n                } else {\n                    return serverResponseError();\n                }\n\n                if (logData.rows.length === 0) {\n                    $('#emptyDialog').dialog({\n                        classes: {\n                            'ui-dialog-titlebar-close': 'btn-close'\n                        },\n                        title: window.Messages.strNoDataFoundTitle,\n                    });\n                    $('#emptyDialog').html('<p>' + window.Messages.strNoDataFound + '</p>');\n\n                    dlgBtns[window.Messages.strClose].click = function () {\n                        $(this).dialog('close');\n                    };\n\n                    $('#emptyDialog').dialog('option', 'buttons', dlgBtns);\n                    return;\n                }\n\n                runtime.logDataCols = buildLogTable(logData, opts.removeVariables);\n\n                /* Show some stats in the dialog */\n                $('#emptyDialog').dialog({\n                    classes: {\n                        'ui-dialog-titlebar-close': 'btn-close'\n                    },\n                    title: window.Messages.strLoadingLogs\n                });\n                $('#emptyDialog').html('<p>' + window.Messages.strLogDataLoaded + '</p>');\n                $.each(logData.sum, function (key, value) {\n                    var newKey = key.charAt(0).toUpperCase() + key.slice(1).toLowerCase();\n                    if (newKey === 'Total') {\n                        newKey = '<b>' + newKey + '</b>';\n                    }\n                    $('#emptyDialog').append(newKey + ': ' + value + '<br>');\n                });\n\n                /* Add filter options if more than a bunch of rows there to filter */\n                if (logData.numRows > 12) {\n                    $('#logTable').prepend(\n                        '<fieldset class=\"pma-fieldset\" id=\"logDataFilter\">' +\n                        '    <legend>' + window.Messages.strFiltersForLogTable + '</legend>' +\n                        '    <div class=\"formelement\">' +\n                        '        <label for=\"filterQueryText\">' + window.Messages.strFilterByWordRegexp + '</label>' +\n                        '        <input name=\"filterQueryText\" type=\"text\" id=\"filterQueryText\">' +\n                        '    </div>' +\n                        ((logData.numRows > 250) ? ' <div class=\"formelement\"><button class=\"btn btn-secondary\" name=\"startFilterQueryText\" id=\"startFilterQueryText\">' + window.Messages.strFilter + '</button></div>' : '') +\n                        '    <div class=\"formelement\">' +\n                        '       <input type=\"checkbox\" id=\"noWHEREData\" name=\"noWHEREData\" value=\"1\"> ' +\n                        '       <label for=\"noWHEREData\"> ' + window.Messages.strIgnoreWhereAndGroup + '</label>' +\n                        '   </div' +\n                        '</fieldset>'\n                    );\n\n                    $('#noWHEREData').on('change', function () {\n                        filterQueries(true);\n                    });\n\n                    if (logData.numRows > 250) {\n                        $('#startFilterQueryText').on('click', filterQueries);\n                    } else {\n                        $('#filterQueryText').on('keyup', filterQueries);\n                    }\n                }\n\n                dlgBtns[window.Messages.strJumpToTable] = {\n                    text: window.Messages.strJumpToTable,\n                    class: 'btn btn-secondary',\n                    click: function () {\n                        $(this).dialog('close');\n                        $(document).scrollTop($('#logTable').offset().top);\n                    },\n                };\n\n                $('#emptyDialog').dialog('option', 'buttons', dlgBtns);\n            }\n        );\n\n        /**\n         * Handles the actions performed when the user uses any of the\n         * log table filters which are the filter by name and grouping\n         * with ignoring data in WHERE clauses\n         *\n         * @param {boolean} varFilterChange Should be true when the users enabled or disabled\n         *                to group queries ignoring data in WHERE clauses\n         */\n        function filterQueries (varFilterChange) {\n            var textFilter;\n            var val = $('#filterQueryText').val();\n\n            if (val.length === 0) {\n                textFilter = null;\n            } else {\n                try {\n                    textFilter = new RegExp(val, 'i');\n                    $('#filterQueryText').removeClass('error');\n                } catch (e) {\n                    if (e instanceof SyntaxError) {\n                        $('#filterQueryText').addClass('error');\n                        textFilter = null;\n                    }\n                }\n            }\n\n            var rowSum = 0;\n            var totalSum = 0;\n            var i = 0;\n            var q;\n            var noVars = $('#noWHEREData').prop('checked');\n            var equalsFilter = /([^=]+)=(\\d+|(('|\"|).*?[^\\\\])\\4((\\s+)|$))/gi;\n            var functionFilter = /([a-z0-9_]+)\\(.+?\\)/gi;\n            var filteredQueries = {};\n            var filteredQueriesLines = {};\n            var hide = false;\n            var rowData;\n            var queryColumnName = runtime.logDataCols[runtime.logDataCols.length - 2];\n            var sumColumnName = runtime.logDataCols[runtime.logDataCols.length - 1];\n            var isSlowLog = opts.src === 'slow';\n            var columnSums = {};\n\n            // For the slow log we have to count many columns (query_time, lock_time, rows_examined, rows_sent, etc.)\n            var countRow = function (query, row) {\n                var cells = row.match(/<td>(.*?)<\\/td>/gi);\n                if (! columnSums[query]) {\n                    columnSums[query] = [0, 0, 0, 0];\n                }\n\n                // lock_time and query_time and displayed in timespan format\n                columnSums[query][0] += timeToSec(cells[2].replace(/(<td>|<\\/td>)/gi, ''));\n                columnSums[query][1] += timeToSec(cells[3].replace(/(<td>|<\\/td>)/gi, ''));\n                // rows_examind and rows_sent are just numbers\n                columnSums[query][2] += parseInt(cells[4].replace(/(<td>|<\\/td>)/gi, ''), 10);\n                columnSums[query][3] += parseInt(cells[5].replace(/(<td>|<\\/td>)/gi, ''), 10);\n            };\n\n            // We just assume the sql text is always in the second last column, and that the total count is right of it\n            $('#logTable').find('table tbody tr td.queryCell').each(function () {\n                var $t = $(this);\n                // If query is a SELECT and user enabled or disabled to group\n                // queries ignoring data in where statements, we\n                // need to re-calculate the sums of each row\n                if (varFilterChange && $t.html().match(/^SELECT/i)) {\n                    if (noVars) {\n                        // Group on => Sum up identical columns, and hide all but 1\n\n                        q = $t.text().replace(equalsFilter, '$1=...$6').trim();\n                        q = q.replace(functionFilter, ' $1(...)');\n\n                        // Js does not specify a limit on property name length,\n                        // so we can abuse it as index :-)\n                        if (filteredQueries[q]) {\n                            filteredQueries[q] += parseInt($t.next().text(), 10);\n                            totalSum += parseInt($t.next().text(), 10);\n                            hide = true;\n                        } else {\n                            filteredQueries[q] = parseInt($t.next().text(), 10);\n                            filteredQueriesLines[q] = i;\n                            $t.text(q);\n                        }\n                        if (isSlowLog) {\n                            countRow(q, $t.parent().html());\n                        }\n                    } else {\n                        // Group off: Restore original columns\n\n                        rowData = $t.parent().data('query');\n                        // Restore SQL text\n                        $t.text(rowData[queryColumnName]);\n                        // Restore total count\n                        $t.next().text(rowData[sumColumnName]);\n                        // Restore slow log columns\n                        if (isSlowLog) {\n                            $t.parent().children('td').eq(2).text(rowData.query_time);\n                            $t.parent().children('td').eq(3).text(rowData.lock_time);\n                            $t.parent().children('td').eq(4).text(rowData.rows_sent);\n                            $t.parent().children('td').eq(5).text(rowData.rows_examined);\n                        }\n                    }\n                }\n\n                // If not required to be hidden, do we need\n                // to hide because of a not matching text filter?\n                if (! hide && (textFilter !== null && ! textFilter.exec($t.text()))) {\n                    hide = true;\n                }\n\n                // Now display or hide this column\n                if (hide) {\n                    $t.parent().css('display', 'none');\n                } else {\n                    totalSum += parseInt($t.next().text(), 10);\n                    rowSum++;\n                    $t.parent().css('display', '');\n                }\n\n                hide = false;\n                i++;\n            });\n\n            // We finished summarizing counts => Update count values of all grouped entries\n            if (varFilterChange) {\n                if (noVars) {\n                    var numCol;\n                    var row;\n                    var $table = $('#logTable').find('table tbody');\n                    $.each(filteredQueriesLines, function (key, value) {\n                        if (filteredQueries[key] <= 1) {\n                            return;\n                        }\n\n                        row = $table.children('tr').eq(value);\n                        numCol = row.children().eq(runtime.logDataCols.length - 1);\n                        numCol.text(filteredQueries[key]);\n\n                        if (isSlowLog) {\n                            row.children('td').eq(2).text(secToTime(columnSums[key][0]));\n                            row.children('td').eq(3).text(secToTime(columnSums[key][1]));\n                            row.children('td').eq(4).text(columnSums[key][2]);\n                            row.children('td').eq(5).text(columnSums[key][3]);\n                        }\n                    });\n                }\n\n                $('#logTable').find('table').trigger('update');\n                setTimeout(function () {\n                    $('#logTable').find('table').trigger('sorton', [[[runtime.logDataCols.length - 1, 1]]]);\n                }, 0);\n            }\n\n            // Display some stats at the bottom of the table\n            $('#logTable').find('table tfoot tr')\n                .html('<th colspan=\"' + (runtime.logDataCols.length - 1) + '\">' +\n                    window.Messages.strSumRows + ' ' + rowSum + '<span class=\"float-end\">' +\n                    window.Messages.strTotal + '</span></th><th class=\"text-end\">' + totalSum + '</th>');\n        }\n    }\n\n    /* Turns a timespan (12:12:12) into a number */\n    function timeToSec (timeStr) {\n        var time = timeStr.split(':');\n        return (parseInt(time[0], 10) * 3600) + (parseInt(time[1], 10) * 60) + parseInt(time[2], 10);\n    }\n\n    /* Turns a number into a timespan (100 into 00:01:40) */\n    function secToTime (timeInt) {\n        var time = timeInt;\n        var hours = Math.floor(time / 3600);\n        time -= hours * 3600;\n        var minutes = Math.floor(time / 60);\n        time -= minutes * 60;\n\n        if (hours < 10) {\n            hours = '0' + hours;\n        }\n        if (minutes < 10) {\n            minutes = '0' + minutes;\n        }\n        if (time < 10) {\n            time = '0' + time;\n        }\n\n        return hours + ':' + minutes + ':' + time;\n    }\n\n    /* Constructs the log table out of the retrieved server data */\n    function buildLogTable (data, groupInserts) {\n        var rows = data.rows;\n        var cols = [];\n        var $table = $('<table class=\"table table-striped table-hover align-middle sortable\"></table>');\n        var $tBody;\n        var $tRow;\n        var $tCell;\n\n        $('#logTable').html($table);\n\n        var tempPushKey = function (key) {\n            cols.push(key);\n        };\n\n        var formatValue = function (name, value) {\n            if (name === 'user_host') {\n                return value.replace(/(\\[.*?\\])+/g, '');\n            }\n            return escapeHtml(value);\n        };\n\n        for (var i = 0, l = rows.length; i < l; i++) {\n            if (i === 0) {\n                $.each(rows[0], tempPushKey);\n                $table.append('<thead>' +\n                    '<tr><th class=\"text-nowrap\">' + cols.join('</th><th class=\"text-nowrap\">') + '</th></tr>' +\n                    '</thead>'\n                );\n\n                $table.append($tBody = $('<tbody></tbody>'));\n            }\n\n            $tBody.append($tRow = $('<tr class=\"noclick\"></tr>'));\n            for (var j = 0, ll = cols.length; j < ll; j++) {\n                // Assuming the query column is the second last\n                if (j === cols.length - 2 && rows[i][cols[j]].match(/^SELECT/i)) {\n                    $tRow.append($tCell = $('<td class=\"linkElem queryCell\">' + formatValue(cols[j], rows[i][cols[j]]) + '</td>'));\n                    $tCell.on('click', openQueryAnalyzer);\n                } else {\n                    $tRow.append('<td>' + formatValue(cols[j], rows[i][cols[j]]) + '</td>');\n                }\n\n                $tRow.data('query', rows[i]);\n            }\n        }\n\n        $table.append('<tfoot>' +\n            '<tr><th colspan=\"' + (cols.length - 1) + '\">' + window.Messages.strSumRows +\n            ' ' + data.numRows + '<span class=\"float-end\">' + window.Messages.strTotal +\n            '</span></th><th class=\"text-end\">' + data.sum.TOTAL + '</th></tr></tfoot>');\n\n        // Append a tooltip to the count column, if there exist one\n        if ($('#logTable').find('tr').first().find('th').last().text().indexOf('#') > -1) {\n            $('#logTable').find('tr').first().find('th').last().append('&nbsp;' + getImageTag('b_help', '', { 'class': 'qroupedQueryInfoIcon' }));\n\n            var tooltipContent = window.Messages.strCountColumnExplanation;\n            if (groupInserts) {\n                tooltipContent += '<p>' + window.Messages.strMoreCountColumnExplanation + '</p>';\n            }\n\n            tooltip($('img.qroupedQueryInfoIcon'), 'img', tooltipContent);\n        }\n\n        $('#logTable').find('table').tablesorter({\n            sortList: [[cols.length - 1, 1]],\n            widgets: ['fast-zebra']\n        });\n\n        $('#logTable').find('table thead th')\n            .append('<div class=\"sorticon\"></div>');\n\n        return cols;\n    }\n\n    /* Opens the query analyzer dialog */\n    function openQueryAnalyzer () {\n        var rowData = $(this).parent().data('query');\n        var query = rowData.argument || rowData.sql_text;\n\n        if (window.codeMirrorEditor) {\n            // TODO: somehow Functions.sqlPrettyPrint messes up the query, needs be fixed\n            // query = Functions.sqlPrettyPrint(query);\n            window.codeMirrorEditor.setValue(query);\n            // Codemirror is bugged, it doesn't refresh properly sometimes.\n            // Following lines seem to fix that\n            setTimeout(function () {\n                window.codeMirrorEditor.refresh();\n            }, 50);\n        } else {\n            $('#sqlquery').val(query);\n        }\n\n        var profilingChart = null;\n        var dlgBtns = {\n            [window.Messages.strAnalyzeQuery]: {\n                text: window.Messages.strAnalyzeQuery,\n                class: 'btn btn-primary',\n            },\n            [window.Messages.strClose]: {\n                text: window.Messages.strClose,\n                class: 'btn btn-secondary',\n            },\n        };\n\n        dlgBtns[window.Messages.strAnalyzeQuery].click = function () {\n            profilingChart = loadQueryAnalysis(rowData);\n        };\n        dlgBtns[window.Messages.strClose].click = function () {\n            $(this).dialog('close');\n        };\n\n        $('#queryAnalyzerDialog').dialog({\n            classes: {\n                'ui-dialog-titlebar-close': 'btn-close'\n            },\n            width: 'auto',\n            height: 'auto',\n            resizable: false,\n            buttons: dlgBtns,\n            close: function () {\n                if (profilingChart !== null) {\n                    profilingChart.destroy();\n                }\n                $('#queryAnalyzerDialog').find('div.placeHolder').html('');\n                if (window.codeMirrorEditor) {\n                    window.codeMirrorEditor.setValue('');\n                } else {\n                    $('#sqlquery').val('');\n                }\n            }\n        });\n    }\n\n    /* Loads and displays the analyzed query data */\n    function loadQueryAnalysis (rowData) {\n        var db = rowData.db || '';\n        var profilingChart = null;\n\n        $('#queryAnalyzerDialog').find('div.placeHolder').html(\n            window.Messages.strAnalyzing + ' <img class=\"ajaxIcon\" src=\"' +\n            themeImagePath + 'ajax_clock_small.gif\" alt=\"\">');\n\n        $.post('index.php?route=/server/status/monitor/query', {\n            'ajax_request': true,\n            'query': window.codeMirrorEditor ? window.codeMirrorEditor.getValue() : $('#sqlquery').val(),\n            'database': db,\n            'server': CommonParams.get('server')\n        }, function (responseData) {\n            var data = responseData;\n            var i;\n            var l;\n            if (typeof data !== 'undefined' && data.success === true) {\n                data = data.message;\n            }\n            if (data.error) {\n                if (data.error.indexOf('1146') !== -1 || data.error.indexOf('1046') !== -1) {\n                    data.error = window.Messages.strServerLogError;\n                }\n                $('#queryAnalyzerDialog').find('div.placeHolder').html('<div class=\"alert alert-danger\" role=\"alert\">' + data.error + '</div>');\n                return;\n            }\n            var totalTime = 0;\n            // Float sux, I'll use table :(\n            $('#queryAnalyzerDialog').find('div.placeHolder')\n                .html('<table class=\"table table-borderless\"><tr><td class=\"explain\"></td><td class=\"chart\"></td></tr></table>');\n\n            var explain = '<b>' + window.Messages.strExplainOutput + '</b> ' + $('#explain_docu').html();\n            if (data.explain.length > 1) {\n                explain += ' (';\n                for (i = 0; i < data.explain.length; i++) {\n                    if (i > 0) {\n                        explain += ', ';\n                    }\n                    explain += '<a href=\"#showExplain-' + i + '\">' + i + '</a>';\n                }\n                explain += ')';\n            }\n            explain += '<p></p>';\n\n            var tempExplain = function (key, value) {\n                var newValue = (value === null) ? 'null' : escapeHtml(value);\n\n                if (key === 'type' && newValue.toLowerCase() === 'all') {\n                    newValue = '<span class=\"text-danger\">' + newValue + '</span>';\n                }\n                if (key === 'Extra') {\n                    newValue = newValue.replace(/(using (temporary|filesort))/gi, '<span class=\"text-danger\">$1</span>');\n                }\n                explain += key + ': ' + newValue + '<br>';\n            };\n\n            for (i = 0, l = data.explain.length; i < l; i++) {\n                explain += '<div class=\"explain-' + i + '\"' + (i > 0 ? 'style=\"display:none;\"' : '') + '>';\n                $.each(data.explain[i], tempExplain);\n                explain += '</div>';\n            }\n\n            explain += '<p><b>' + window.Messages.strAffectedRows + '</b> ' + data.affectedRows;\n\n            $('#queryAnalyzerDialog').find('div.placeHolder td.explain').append(explain);\n\n            $('#queryAnalyzerDialog').find('div.placeHolder a[href*=\"#showExplain\"]').on('click', function () {\n                var id = $(this).attr('href').split('-')[1];\n                $(this).parent().find('div[class*=\"explain\"]').hide();\n                $(this).parent().find('div[class*=\"explain-' + id + '\"]').show();\n            });\n\n            if (data.profiling) {\n                var chartData = [];\n                var numberTable = '<table class=\"table table-sm table-striped table-hover w-auto queryNums\"><thead><tr><th>' + window.Messages.strStatus + '</th><th>' + window.Messages.strTime + '</th></tr></thead><tbody>';\n                var duration;\n                var otherTime = 0;\n\n                for (i = 0, l = data.profiling.length; i < l; i++) {\n                    duration = parseFloat(data.profiling[i].duration);\n\n                    totalTime += duration;\n\n                    numberTable += '<tr><td>' + data.profiling[i].state + ' </td><td> ' + Functions.prettyProfilingNum(duration, 2) + '</td></tr>';\n                }\n\n                // Only put those values in the pie which are > 2%\n                for (i = 0, l = data.profiling.length; i < l; i++) {\n                    duration = parseFloat(data.profiling[i].duration);\n\n                    if (duration / totalTime > 0.02) {\n                        chartData.push([Functions.prettyProfilingNum(duration, 2) + ' ' + data.profiling[i].state, duration]);\n                    } else {\n                        otherTime += duration;\n                    }\n                }\n\n                if (otherTime > 0) {\n                    chartData.push([Functions.prettyProfilingNum(otherTime, 2) + ' ' + window.Messages.strOther, otherTime]);\n                }\n\n                numberTable += '<tr><td><b>' + window.Messages.strTotalTime + '</b></td><td>' + Functions.prettyProfilingNum(totalTime, 2) + '</td></tr>';\n                numberTable += '</tbody></table>';\n\n                $('#queryAnalyzerDialog').find('div.placeHolder td.chart').append(\n                    '<b>' + window.Messages.strProfilingResults + ' ' + $('#profiling_docu').html() + '</b> ' +\n                    '(<a href=\"#showNums\">' + window.Messages.strTable + '</a>, <a href=\"#showChart\">' + window.Messages.strChart + '</a>)<br>' +\n                    numberTable + ' <div id=\"queryProfiling\"></div>');\n\n                $('#queryAnalyzerDialog').find('div.placeHolder a[href=\"#showNums\"]').on('click', function () {\n                    $('#queryAnalyzerDialog').find('#queryProfiling').hide();\n                    $('#queryAnalyzerDialog').find('table.queryNums').show();\n                    return false;\n                });\n\n                $('#queryAnalyzerDialog').find('div.placeHolder a[href=\"#showChart\"]').on('click', function () {\n                    $('#queryAnalyzerDialog').find('#queryProfiling').show();\n                    $('#queryAnalyzerDialog').find('table.queryNums').hide();\n                    return false;\n                });\n\n                profilingChart = createProfilingChart('queryProfiling', chartData);\n            }\n        });\n        return profilingChart;\n    }\n\n    /* Saves the monitor to localstorage */\n    function saveMonitor () {\n        var gridCopy = {};\n\n        $.each(runtime.charts, function (key, elem) {\n            gridCopy[key] = {};\n            gridCopy[key].nodes = elem.nodes;\n            gridCopy[key].settings = elem.settings;\n            gridCopy[key].title = elem.title;\n            gridCopy[key].series = elem.series;\n            gridCopy[key].maxYLabel = elem.maxYLabel;\n        });\n\n        if (isStorageSupported('localStorage')) {\n            window.localStorage.monitorCharts = JSON.stringify(gridCopy);\n            window.localStorage.monitorSettings = JSON.stringify(monitorSettings);\n            window.localStorage.monitorVersion = monitorProtocolVersion;\n        }\n\n        $('a[href=\"#clearMonitorConfig\"]').show();\n    }\n});\n\n// Run the monitor once loaded\nAJAX.registerOnload('server/status/monitor.js', function () {\n    $('a[href=\"#pauseCharts\"]').trigger('click');\n});\n"],"names":["$","AJAX","Functions","CommonParams","tooltip","createProfilingChart","escapeHtml","getImageTag","isStorageSupported","runtime","serverTimeDiff","serverOs","isSuperUser","serverDbIsLocal","chartSize","monitorSettings","serverResponseError","btns","window","Messages","strReloadPage","text","class","click","location","reload","dialog","classes","title","strRefreshFailed","html","strInvalidResponseExplanation","buttons","destroyGrid","charts","each","key","value","chart","destroy","err","refreshRequest","abort","clearTimeout","refreshTimeout","chartAI","registerOnload","$jsDataForm","Date","getTime","find","val","registerTeardown","remove","off","attr","appendTo","on","$link","substring","show","offset","top","height","left","addClass","event","$cnt","pos","pageX","outerWidth","pageY","outerHeight","hide","removeClass","codeMirrorEditor","$elm","length","CodeMirror","fromTextArea","lineNumbers","matchBrackets","indentUnit","mode","lineWrapping","addDatepicker","oldChartData","newChart","chartSpacing","monitorProtocolVersion","redrawCharts","dataList","gridMaxPoints","xmin","xmax","defaultMonitorSettings","columns","width","gridRefresh","editMode","presetCharts","strQueryCacheEfficiency","series","label","nodes","dataPoints","type","name","transformFn","maxYLabel","strQueryCacheUsage","strQueryCacheUsed","selectionTimeDiff","selectionStartX","selectionStartY","drawTimeSpan","extend","strSystemCPUUsage","strAverageLoad","strSystemMemory","dataType","strUsedMemory","fill","strFreeMemory","valueDivisor","strSystemSwap","strUsedSwap","strFreeSwap","strBufferedMemory","strCachedMemory","strCachedSwap","defaultChartGrid","strQuestions","display","strChartConnectionsTitle","strConnections","strProcesses","strTraffic","strBytesSent","strBytesReceived","cpu","c3","c4","memory","c5","swap","preventDefault","toggle","sortableTable","ignoreRect","saveMonitor","parseInt","calculateChartSize","css","numColumns","$tr","first","tempManageCols","next","after","prepend","tempAddCol","append","cnt","i","nextAll","Math","round","refreshChartGrid","setTimeout","prop","alert","strAddOneSeriesWarning","addChart","$presetList","replace","modal","strNone","gridCopy","elem","settings","exportData","monitorCharts","blob","Blob","JSON","stringify","url","fileName","navigator","msSaveOrOpenBlob","URL","createObjectURL","href","revokeObjectURL","undefined","strImportDialogTitle","strImportDialogMessage","dlgBtns","strImport","strCancel","input","reader","FileReader","onerror","strFailedParsingConfig","target","error","code","onload","e","data","result","json","parse","localStorage","rebuildGrid","strFailedBuildingGrid","removeItem","readAsText","files","strResumeMonitor","strPauseMonitor","initGrid","$dialog","strClose","loadLogVars","getvars","vars","get","post","logVars","success","message","icon","msg","str","general_log","slow_query_log","strBothLogOn","strGenLogOn","strSlowLogOn","strBothLogOff","strCurrentSettings","log_output","strLogOutNotTable","strLogOutIsTable","long_query_time","sprintf","strSmallerLongQueryTimeAdvice","strLongQueryTimeSet","strChangeSettings","strSettingsAppliedGlobal","varValue","strSetLogOutput","strEnableVar","strDisableVar","setSetLongQueryTime","strNoSuperUser","nameValue","split","varName","checked","strChartTitle","selectedIndex","strKiB","strMiB","serie","unit","strDifferential","strDividedBy","strUnit","newSeries","push","trigger","autocomplete","source","variableNames","monitorVersion","strIncompatibleMonitorConfig","strIncompatibleMonitorConfigDescription","eq","keys","sort","numCharts","numMissingCells","last","buildRequiredDataList","oldData","chartObj","l","dataPoint","j","ll","x","y","panelWidth","innerWidth","wdt","windowWidth","abs","floor","initialize","grid","drawBorder","shadow","background","axes","xaxis","renderer","jqplot","DateAxisRenderer","tickOptions","formatString","showGridline","min","max","yaxis","tickInterval","seriesDefaults","rendererOptions","smooth","showLine","lineWidth","markerOptions","size","highlighter","stackSeries","formatter","byteFormatter","format","tempTooltipContentEditor","seriesIndex","pointIndex","plot","tooltipHtml","timeValue","seriesValue","seriesLabel","seriesColor","color","_yaxis","tooltipContentEditor","shift","$legend","seriesColors","parent","ev","gridpos","datapos","selectionBox","document","body","id","fadeIn","ceil","getLogAnalyseDialog","$logAnalyseDialog","$dateStart","$dateEnd","strFromSlowLog","strFromGeneralLog","loadLog","showMillisec","showMicrosec","timeFormat","firstDay","firstDayOfCalendar","datepicker","dateStart","dateEnd","loadLogStatistics","src","start","end","removeVariables","limitTypes","chartData","diff","total","orderKey","chartID","chartValueTransform","parseFloat","splice","getMaxYLabel","ticks","replot","dataValues","maxY","k","v","cur","prev","newCur","newPrev","diffTotal","busy","idle","diffIdle","diffQHits","opts","logRequest","strAnalysingLogsTitle","strAnalysingLogs","themeImagePath","strCancelRequest","logData","rows","strNoDataFoundTitle","strNoDataFound","logDataCols","buildLogTable","strLoadingLogs","strLogDataLoaded","sum","newKey","charAt","toUpperCase","slice","toLowerCase","numRows","strFiltersForLogTable","strFilterByWordRegexp","strFilter","strIgnoreWhereAndGroup","filterQueries","strJumpToTable","scrollTop","varFilterChange","textFilter","RegExp","SyntaxError","rowSum","totalSum","q","noVars","equalsFilter","functionFilter","filteredQueries","filteredQueriesLines","rowData","queryColumnName","sumColumnName","isSlowLog","columnSums","countRow","query","row","cells","match","timeToSec","$t","trim","children","query_time","lock_time","rows_sent","rows_examined","exec","numCol","$table","secToTime","strSumRows","strTotal","timeStr","time","timeInt","hours","minutes","groupInserts","cols","$tBody","$tRow","$tCell","tempPushKey","formatValue","join","openQueryAnalyzer","TOTAL","indexOf","tooltipContent","strCountColumnExplanation","strMoreCountColumnExplanation","tablesorter","sortList","widgets","argument","sql_text","setValue","refresh","profilingChart","strAnalyzeQuery","loadQueryAnalysis","resizable","close","db","strAnalyzing","getValue","responseData","strServerLogError","totalTime","explain","strExplainOutput","tempExplain","newValue","strAffectedRows","affectedRows","profiling","numberTable","strStatus","strTime","duration","otherTime","state","prettyProfilingNum","strOther","strTotalTime","strProfilingResults","strTable","strChart"],"sourceRoot":""}