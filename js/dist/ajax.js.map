{"version":3,"file":"ajax.js","mappings":"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","sources":["webpack://phpmyadmin/./js/src/ajax.js"],"sourcesContent":["/* global Navigation */\n\n/**\n * This object handles ajax requests for pages. It also\n * handles the reloading of the main menu and scripts.\n *\n * @test-module AJAX\n */\nwindow.AJAX = {\n    /**\n     * @var {boolean} active Whether we are busy\n     */\n    active: false,\n    /**\n     * @var {object} source The object whose event initialized the request\n     */\n    source: null,\n    /**\n     * @var {object} xhr A reference to the ajax request that is currently running\n     */\n    xhr: null,\n    /**\n     * @var {object} lockedTargets, list of locked targets\n     */\n    lockedTargets: {},\n    // eslint-disable-next-line valid-jsdoc\n    /**\n     * @var {Function} callback Callback to execute after a successful request\n     *                          Used by window.CommonActions from common.js\n     */\n    callback: function () {},\n    /**\n     * @var {boolean} debug Makes noise in your Firebug console\n     */\n    debug: false,\n    /**\n     * @var {object} $msgbox A reference to a jQuery object that links to a message\n     *                     box that is generated by Functions.ajaxShowMessage()\n     */\n    $msgbox: null,\n    /**\n     * Given the filename of a script, returns a hash to be\n     * used to refer to all the events registered for the file\n     *\n     * @param {string} key key The filename for which to get the event name\n     *\n     * @return {number}\n     */\n    hash: function (key) {\n        var newKey = key;\n        /* https://burtleburtle.net/bob/hash/doobs.html#one */\n        newKey += '';\n        var len = newKey.length;\n        var hash = 0;\n        var i = 0;\n        for (; i < len; ++i) {\n            hash += newKey.charCodeAt(i);\n            hash += (hash << 10);\n            hash ^= (hash >> 6);\n        }\n        hash += (hash << 3);\n        hash ^= (hash >> 11);\n        hash += (hash << 15);\n        return Math.abs(hash);\n    },\n    /**\n     * Registers an onload event for a file\n     *\n     * @param {string} file   The filename for which to register the event\n     * @param {Function} func The function to execute when the page is ready\n     *\n     * @return {self} For chaining\n     */\n    registerOnload: function (file, func) {\n        var eventName = 'onload_' + window.AJAX.hash(file);\n        $(document).on(eventName, func);\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(\n                // no need to translate\n                'Registered event ' + eventName + ' for file ' + file\n            );\n        }\n        return this;\n    },\n    /**\n     * Registers a teardown event for a file. This is useful to execute functions\n     * that unbind events for page elements that are about to be removed.\n     *\n     * @param {string} file   The filename for which to register the event\n     * @param {Function} func The function to execute when\n     *                        the page is about to be torn down\n     *\n     * @return {self} For chaining\n     */\n    registerTeardown: function (file, func) {\n        var eventName = 'teardown_' + window.AJAX.hash(file);\n        $(document).on(eventName, func);\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(\n                // no need to translate\n                'Registered event ' + eventName + ' for file ' + file\n            );\n        }\n        return this;\n    },\n    /**\n     * Called when a page has finished loading, once for every\n     * file that registered to the onload event of that file.\n     *\n     * @param {string} file The filename for which to fire the event\n     *\n     * @return {void}\n     */\n    fireOnload: function (file) {\n        var eventName = 'onload_' + window.AJAX.hash(file);\n        $(document).trigger(eventName);\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(\n                // no need to translate\n                'Fired event ' + eventName + ' for file ' + file\n            );\n        }\n    },\n    /**\n     * Called just before a page is torn down, once for every\n     * file that registered to the teardown event of that file.\n     *\n     * @param {string} file The filename for which to fire the event\n     *\n     * @return {void}\n     */\n    fireTeardown: function (file) {\n        var eventName = 'teardown_' + window.AJAX.hash(file);\n        $(document).triggerHandler(eventName);\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(\n                // no need to translate\n                'Fired event ' + eventName + ' for file ' + file\n            );\n        }\n    },\n    /**\n     * function to handle lock page mechanism\n     *\n     * @param event the event object\n     *\n     * @return {void}\n     */\n    lockPageHandler: function (event) {\n        // don't consider checkbox event\n        if (typeof event.target !== 'undefined') {\n            if (event.target.type === 'checkbox') {\n                return;\n            }\n        }\n\n        var newHash = null;\n        var oldHash = null;\n        var lockId;\n        // CodeMirror lock\n        if (event.data.value === 3) {\n            newHash = event.data.content;\n            oldHash = true;\n            lockId = 'cm';\n        } else {\n            // Don't lock on enter.\n            if (0 === event.charCode) {\n                return;\n            }\n\n            lockId = $(this).data('lock-id');\n            if (typeof lockId === 'undefined') {\n                return;\n            }\n            /*\n             * @todo Fix Code mirror does not give correct full value (query)\n             * in textarea, it returns only the change in content.\n             */\n            if (event.data.value === 1) {\n                newHash = window.AJAX.hash($(this).val());\n            } else {\n                newHash = window.AJAX.hash($(this).is(':checked'));\n            }\n            oldHash = $(this).data('val-hash');\n        }\n        // Set lock if old value !== new value\n        // otherwise release lock\n        if (oldHash !== newHash) {\n            window.AJAX.lockedTargets[lockId] = true;\n        } else {\n            delete window.AJAX.lockedTargets[lockId];\n        }\n        // Show lock icon if locked targets is not empty.\n        // otherwise remove lock icon\n        if (!jQuery.isEmptyObject(window.AJAX.lockedTargets)) {\n            $('#lock_page_icon').html(Functions.getImage('s_lock', window.Messages.strLockToolTip).toString());\n        } else {\n            $('#lock_page_icon').html('');\n        }\n    },\n    /**\n     * resets the lock\n     *\n     * @return {void}\n     */\n    resetLock: function () {\n        window.AJAX.lockedTargets = {};\n        $('#lock_page_icon').html('');\n    },\n    handleMenu: {\n        replace: function (content) {\n            $('#floating_menubar').html(content)\n                // Remove duplicate wrapper\n                // TODO: don't send it in the response\n                .children().first().remove();\n            $('#topmenu').menuResizer(Functions.mainMenuResizerCallback);\n        }\n    },\n    /**\n     * Event handler for clicks on links and form submissions\n     *\n     * @param {KeyboardEvent} event Event data\n     *\n     * @return {boolean | void}\n     */\n    requestHandler: function (event) {\n        // In some cases we don't want to handle the request here and either\n        // leave the browser deal with it natively (e.g: file download)\n        // or leave an existing ajax event handler present elsewhere deal with it\n        var href = $(this).attr('href');\n        if (typeof event !== 'undefined' && (event.shiftKey || event.ctrlKey || event.metaKey)) {\n            return true;\n        } else if ($(this).attr('target')) {\n            return true;\n        } else if ($(this).hasClass('ajax') || $(this).hasClass('disableAjax')) {\n            // reset the lockedTargets object, as specified AJAX operation has finished\n            window.AJAX.resetLock();\n            return true;\n        } else if (href && href.match(/^#/)) {\n            return true;\n        } else if (href && href.match(/^mailto/)) {\n            return true;\n        } else if ($(this).hasClass('ui-datepicker-next') ||\n            $(this).hasClass('ui-datepicker-prev')\n        ) {\n            return true;\n        }\n\n        if (typeof event !== 'undefined') {\n            event.preventDefault();\n            event.stopImmediatePropagation();\n        }\n\n        // triggers a confirm dialog if:\n        // the user has performed some operations on loaded page\n        // the user clicks on some link, (won't trigger for buttons)\n        // the click event is not triggered by script\n        if (typeof event !== 'undefined' && event.type === 'click' &&\n            event.isTrigger !== true &&\n            !jQuery.isEmptyObject(window.AJAX.lockedTargets) &&\n            confirm(window.Messages.strConfirmNavigation) === false\n        ) {\n            return false;\n        }\n        window.AJAX.resetLock();\n        var isLink = !! href || false;\n        var previousLinkAborted = false;\n\n        if (window.AJAX.active === true) {\n            // Cancel the old request if abortable, when the user requests\n            // something else. Otherwise silently bail out, as there is already\n            // a request well in progress.\n            if (window.AJAX.xhr) {\n                // In case of a link request, attempt aborting\n                window.AJAX.xhr.abort();\n                if (window.AJAX.xhr.status === 0 && window.AJAX.xhr.statusText === 'abort') {\n                    // If aborted\n                    window.AJAX.$msgbox = Functions.ajaxShowMessage(window.Messages.strAbortedRequest);\n                    window.AJAX.active = false;\n                    window.AJAX.xhr = null;\n                    previousLinkAborted = true;\n                } else {\n                    // If can't abort\n                    return false;\n                }\n            } else {\n                // In case submitting a form, don't attempt aborting\n                return false;\n            }\n        }\n\n        window.AJAX.source = $(this);\n\n        $('html, body').animate({ scrollTop: 0 }, 'fast');\n\n        var url = isLink ? href : $(this).attr('action');\n        var argsep = window.CommonParams.get('arg_separator');\n        var params = 'ajax_request=true' + argsep + 'ajax_page_request=true';\n        var dataPost = window.AJAX.source.getPostData();\n        if (! isLink) {\n            params += argsep + $(this).serialize();\n        } else if (dataPost) {\n            params += argsep + dataPost;\n            isLink = false;\n        }\n\n        if (window.AJAX.debug) {\n            // eslint-disable-next-line no-console\n            console.log('Loading: ' + url); // no need to translate\n        }\n\n        if (isLink) {\n            window.AJAX.active = true;\n            window.AJAX.$msgbox = Functions.ajaxShowMessage();\n            // Save reference for the new link request\n            window.AJAX.xhr = $.get(url, params, window.AJAX.responseHandler);\n            var state = {\n                url : href\n            };\n            if (previousLinkAborted) {\n                // hack: there is already an aborted entry on stack\n                // so just modify the aborted one\n                history.replaceState(state, null, href);\n            } else {\n                history.pushState(state, null, href);\n            }\n        } else {\n            /**\n             * Manually fire the onsubmit event for the form, if any.\n             * The event was saved in the jQuery data object by an onload\n             * handler defined below. Workaround for bug #3583316\n             */\n            var onsubmit = $(this).data('onsubmit');\n            // Submit the request if there is no onsubmit handler\n            // or if it returns a value that evaluates to true\n            if (typeof onsubmit !== 'function' || onsubmit.apply(this, [event])) {\n                window.AJAX.active = true;\n                window.AJAX.$msgbox = Functions.ajaxShowMessage();\n                if ($(this).attr('id') === 'login_form') {\n                    $.post(url, params, window.AJAX.loginResponseHandler);\n                } else {\n                    $.post(url, params, window.AJAX.responseHandler);\n                }\n            }\n        }\n    },\n    /**\n     * Response handler to handle login request from login modal after session expiration\n     *\n     * To refer to self use 'window.AJAX', instead of 'this' as this function\n     * is called in the jQuery context.\n     *\n     * @param {object} data Event data\n     *\n     * @return {void}\n     */\n    loginResponseHandler: function (data) {\n        if (typeof data === 'undefined' || data === null) {\n            return;\n        }\n        Functions.ajaxRemoveMessage(window.AJAX.$msgbox);\n\n        window.CommonParams.set('token', data.new_token);\n\n        window.AJAX.scriptHandler.load([]);\n\n        if (data.displayMessage) {\n            $('#page_content').prepend(data.displayMessage);\n            Functions.highlightSql($('#page_content'));\n        }\n\n        $('#pma_errors').remove();\n\n        var msg = '';\n        if (data.errSubmitMsg) {\n            msg = data.errSubmitMsg;\n        }\n        if (data.errors) {\n            $('<div></div>', { id : 'pma_errors', class : 'clearfloat d-print-none' })\n                .insertAfter('#selflink')\n                .append(data.errors);\n            // bind for php error reporting forms (bottom)\n            $('#pma_ignore_errors_bottom').on('click', function (e) {\n                e.preventDefault();\n                Functions.ignorePhpErrors();\n            });\n            $('#pma_ignore_all_errors_bottom').on('click', function (e) {\n                e.preventDefault();\n                Functions.ignorePhpErrors(false);\n            });\n            // In case of 'sendErrorReport'='always'\n            // submit the hidden error reporting form.\n            if (data.sendErrorAlways === '1' &&\n                data.stopErrorReportLoop !== '1'\n            ) {\n                $('#pma_report_errors_form').trigger('submit');\n                Functions.ajaxShowMessage(window.Messages.phpErrorsBeingSubmitted, false);\n                $('html, body').animate({ scrollTop:$(document).height() }, 'slow');\n            } else if (data.promptPhpErrors) {\n                // otherwise just prompt user if it is set so.\n                msg = msg + window.Messages.phpErrorsFound;\n                // scroll to bottom where all the errors are displayed.\n                $('html, body').animate({ scrollTop:$(document).height() }, 'slow');\n            }\n        }\n\n        Functions.ajaxShowMessage(msg, false);\n        // bind for php error reporting forms (popup)\n        $('#pma_ignore_errors_popup').on('click', function () {\n            Functions.ignorePhpErrors();\n        });\n        $('#pma_ignore_all_errors_popup').on('click', function () {\n            Functions.ignorePhpErrors(false);\n        });\n\n        if (typeof data.success !== 'undefined' && data.success) {\n            // reload page if user trying to login has changed\n            if (window.CommonParams.get('user') !== data.params.user) {\n                window.location = 'index.php';\n                Functions.ajaxShowMessage(window.Messages.strLoading, false);\n                window.AJAX.active = false;\n                window.AJAX.xhr = null;\n                return;\n            }\n            // remove the login modal if the login is successful otherwise show error.\n            if (typeof data.logged_in !== 'undefined' && data.logged_in === 1) {\n                if ($('#modalOverlay').length) {\n                    $('#modalOverlay').remove();\n                }\n                $('fieldset.disabled_for_expiration').removeAttr('disabled').removeClass('disabled_for_expiration');\n                window.AJAX.fireTeardown('functions.js');\n                window.AJAX.fireOnload('functions.js');\n            }\n            if (typeof data.new_token !== 'undefined') {\n                $('input[name=token]').val(data.new_token);\n            }\n        } else if (typeof data.logged_in !== 'undefined' && data.logged_in === 0) {\n            $('#modalOverlay').replaceWith(data.error);\n        } else {\n            Functions.ajaxShowMessage(data.error, false);\n            window.AJAX.active = false;\n            window.AJAX.xhr = null;\n            Functions.handleRedirectAndReload(data);\n            if (data.fieldWithError) {\n                $(':input.error').removeClass('error');\n                $('#' + data.fieldWithError).addClass('error');\n            }\n        }\n    },\n    /**\n     * Called after the request that was initiated by this.requestHandler()\n     * has completed successfully or with a caught error. For completely\n     * failed requests or requests with uncaught errors, see the .ajaxError\n     * handler at the bottom of this file.\n     *\n     * To refer to self use 'window.AJAX', instead of 'this' as this function\n     * is called in the jQuery context.\n     *\n     * @param {object} data Event data\n     *\n     * @return {void}\n     */\n    responseHandler: function (data) {\n        if (typeof data === 'undefined' || data === null) {\n            return;\n        }\n        // Can be a string when an error occurred and only HTML was returned.\n        if (typeof data === 'string') {\n            Functions.ajaxRemoveMessage(window.AJAX.$msgbox);\n            Functions.ajaxShowMessage($(data).text(), false, 'error');\n            window.AJAX.active = false;\n            window.AJAX.xhr = null;\n            return;\n        }\n        if (typeof data.success !== 'undefined' && data.success) {\n            $('html, body').animate({ scrollTop: 0 }, 'fast');\n            Functions.ajaxRemoveMessage(window.AJAX.$msgbox);\n\n            if (data.redirect) {\n                Functions.ajaxShowMessage(data.redirect, false);\n                window.AJAX.active = false;\n                window.AJAX.xhr = null;\n                return;\n            }\n\n            window.AJAX.scriptHandler.reset(function () {\n                if (data.reloadNavigation) {\n                    Navigation.reload();\n                }\n                if (data.title) {\n                    $('title').replaceWith(data.title);\n                }\n                if (data.menu) {\n                    var state = {\n                        url : data.selflink,\n                        menu : data.menu\n                    };\n                    history.replaceState(state, null);\n                    window.AJAX.handleMenu.replace(data.menu);\n                }\n                if (data.disableNaviSettings) {\n                    Navigation.disableSettings();\n                } else {\n                    Navigation.ensureSettings(data.selflink);\n                }\n\n                // Remove all containers that may have\n                // been added outside of #page_content\n                $('body').children()\n                    .not('#pma_navigation')\n                    .not('#floating_menubar')\n                    .not('#page_nav_icons')\n                    .not('#page_content')\n                    .not('#selflink')\n                    .not('#pma_header')\n                    .not('#pma_footer')\n                    .not('#pma_demo')\n                    .not('#pma_console_container')\n                    .not('#prefs_autoload')\n                    .remove();\n                // Replace #page_content with new content\n                if (data.message && data.message.length > 0) {\n                    $('#page_content').replaceWith(\n                        '<div id=\\'page_content\\'>' + data.message + '</div>'\n                    );\n                    Functions.highlightSql($('#page_content'));\n                    Functions.checkNumberOfFields();\n                }\n\n                if (data.selflink) {\n                    var source = data.selflink.split('?')[0];\n                    // Check for faulty links\n                    var $selflinkReplace = {\n                        'index.php?route=/import': 'index.php?route=/table/sql',\n                        'index.php?route=/table/chart': 'index.php?route=/sql',\n                        'index.php?route=/table/gis-visualization': 'index.php?route=/sql'\n                    };\n                    if ($selflinkReplace[source]) {\n                        var replacement = $selflinkReplace[source];\n                        data.selflink = data.selflink.replace(source, replacement);\n                    }\n                    $('#selflink').find('> a').attr('href', data.selflink);\n                }\n                if (data.params) {\n                    window.CommonParams.setAll(data.params);\n                }\n                if (data.scripts) {\n                    window.AJAX.scriptHandler.load(data.scripts);\n                }\n                if (data.displayMessage) {\n                    $('#page_content').prepend(data.displayMessage);\n                    Functions.highlightSql($('#page_content'));\n                }\n\n                $('#pma_errors').remove();\n\n                var msg = '';\n                if (data.errSubmitMsg) {\n                    msg = data.errSubmitMsg;\n                }\n                if (data.errors) {\n                    $('<div></div>', { id : 'pma_errors', class : 'clearfloat d-print-none' })\n                        .insertAfter('#selflink')\n                        .append(data.errors);\n                    // bind for php error reporting forms (bottom)\n                    $('#pma_ignore_errors_bottom').on('click', function (e) {\n                        e.preventDefault();\n                        Functions.ignorePhpErrors();\n                    });\n                    $('#pma_ignore_all_errors_bottom').on('click', function (e) {\n                        e.preventDefault();\n                        Functions.ignorePhpErrors(false);\n                    });\n                    // In case of 'sendErrorReport'='always'\n                    // submit the hidden error reporting form.\n                    if (data.sendErrorAlways === '1' &&\n                        data.stopErrorReportLoop !== '1'\n                    ) {\n                        $('#pma_report_errors_form').trigger('submit');\n                        Functions.ajaxShowMessage(window.Messages.phpErrorsBeingSubmitted, false);\n                        $('html, body').animate({ scrollTop:$(document).height() }, 'slow');\n                    } else if (data.promptPhpErrors) {\n                        // otherwise just prompt user if it is set so.\n                        msg = msg + window.Messages.phpErrorsFound;\n                        // scroll to bottom where all the errors are displayed.\n                        $('html, body').animate({ scrollTop:$(document).height() }, 'slow');\n                    }\n                }\n                Functions.ajaxShowMessage(msg, false);\n                // bind for php error reporting forms (popup)\n                $('#pma_ignore_errors_popup').on('click', function () {\n                    Functions.ignorePhpErrors();\n                });\n                $('#pma_ignore_all_errors_popup').on('click', function () {\n                    Functions.ignorePhpErrors(false);\n                });\n\n                if (typeof window.AJAX.callback === 'function') {\n                    window.AJAX.callback.call();\n                }\n                window.AJAX.callback = function () {};\n            });\n        } else {\n            Functions.ajaxShowMessage(data.error, false);\n            Functions.ajaxRemoveMessage(window.AJAX.$msgbox);\n            var $ajaxError = $('<div></div>');\n            $ajaxError.attr({ 'id': 'ajaxError' });\n            $('#page_content').append($ajaxError);\n            $ajaxError.html(data.error);\n            $('html, body').animate({ scrollTop: $(document).height() }, 200);\n            window.AJAX.active = false;\n            window.AJAX.xhr = null;\n            Functions.handleRedirectAndReload(data);\n            if (data.fieldWithError) {\n                $(':input.error').removeClass('error');\n                $('#' + data.fieldWithError).addClass('error');\n            }\n        }\n    },\n    /**\n     * This object is in charge of downloading scripts,\n     * keeping track of what's downloaded and firing\n     * the onload event for them when the page is ready.\n     */\n    scriptHandler: {\n        /**\n         * @var {string[]} scripts The list of files already downloaded\n         */\n        scripts: [],\n        /**\n         * @var {string} scriptsVersion version of phpMyAdmin from which the\n         *                              scripts have been loaded\n         */\n        scriptsVersion: null,\n        /**\n         * @var {string[]} scriptsToBeLoaded The list of files that\n         *                                   need to be downloaded\n         */\n        scriptsToBeLoaded: [],\n        /**\n         * @var {string[]} scriptsToBeFired The list of files for which\n         *                                  to fire the onload and unload events\n         */\n        scriptsToBeFired: [],\n        scriptsCompleted: false,\n        /**\n         * Records that a file has been downloaded\n         *\n         * @param {string} file The filename\n         * @param {string} fire Whether this file will be registering\n         *                      onload/teardown events\n         *\n         * @return {self} For chaining\n         */\n        add: function (file, fire) {\n            this.scripts.push(file);\n            if (fire) {\n                // Record whether to fire any events for the file\n                // This is necessary to correctly tear down the initial page\n                this.scriptsToBeFired.push(file);\n            }\n            return this;\n        },\n        /**\n         * Download a list of js files in one request\n         *\n         * @param {string[]} files An array of filenames and flags\n         * @param {Function} callback\n         *\n         * @return {void}\n         */\n        load: function (files, callback) {\n            var self = this;\n            var i;\n            // Clear loaded scripts if they are from another version of phpMyAdmin.\n            // Depends on common params being set before loading scripts in responseHandler\n            if (self.scriptsVersion === null) {\n                self.scriptsVersion = window.CommonParams.get('version');\n            } else if (self.scriptsVersion !== window.CommonParams.get('version')) {\n                self.scripts = [];\n                self.scriptsVersion = window.CommonParams.get('version');\n            }\n            self.scriptsCompleted = false;\n            self.scriptsToBeFired = [];\n            // We need to first complete list of files to load\n            // as next loop will directly fire requests to load them\n            // and that triggers removal of them from\n            // self.scriptsToBeLoaded\n            for (i in files) {\n                self.scriptsToBeLoaded.push(files[i].name);\n                if (files[i].fire) {\n                    self.scriptsToBeFired.push(files[i].name);\n                }\n            }\n            for (i in files) {\n                var script = files[i].name;\n                // Only for scripts that we don't already have\n                if ($.inArray(script, self.scripts) === -1) {\n                    this.add(script);\n                    this.appendScript(script, callback);\n                } else {\n                    self.done(script, callback);\n                }\n            }\n            // Trigger callback if there is nothing else to load\n            self.done(null, callback);\n        },\n        /**\n         * Called whenever all files are loaded\n         *\n         * @param {string} script\n         * @param {Function?} callback\n         *\n         * @return {void}\n         */\n        done: function (script, callback) {\n            if ($.inArray(script, this.scriptsToBeFired)) {\n                window.AJAX.fireOnload(script);\n            }\n            if ($.inArray(script, this.scriptsToBeLoaded)) {\n                this.scriptsToBeLoaded.splice($.inArray(script, this.scriptsToBeLoaded), 1);\n            }\n            if (script === null) {\n                this.scriptsCompleted = true;\n            }\n            /* We need to wait for last signal (with null) or last script load */\n            window.AJAX.active = (this.scriptsToBeLoaded.length > 0) || ! this.scriptsCompleted;\n            /* Run callback on last script */\n            if (! window.AJAX.active && typeof callback === 'function') {\n                callback();\n            }\n        },\n        /**\n         * Appends a script element to the head to load the scripts\n         *\n         * @param {string} name\n         * @param {Function} callback\n         *\n         * @return {void}\n         */\n        appendScript: function (name, callback) {\n            var head = document.head || document.getElementsByTagName('head')[0];\n            var script = document.createElement('script');\n            var self = this;\n\n            script.type = 'text/javascript';\n            var file = name.indexOf('vendor/') !== -1 ? name : 'dist/' + name;\n            script.src = 'js/' + file + '?' + 'v=' + encodeURIComponent(window.CommonParams.get('version'));\n            script.async = false;\n            script.onload = function () {\n                self.done(name, callback);\n            };\n            head.appendChild(script);\n        },\n        /**\n         * Fires all the teardown event handlers for the current page\n         * and rebinds all forms and links to the request handler\n         *\n         * @param {Function} callback The callback to call after resetting\n         *\n         * @return {void}\n         */\n        reset: function (callback) {\n            for (var i in this.scriptsToBeFired) {\n                window.AJAX.fireTeardown(this.scriptsToBeFired[i]);\n            }\n            this.scriptsToBeFired = [];\n            /**\n             * Re-attach a generic event handler to clicks\n             * on pages and submissions of forms\n             */\n            $(document).off('click', 'a').on('click', 'a', window.AJAX.requestHandler);\n            $(document).off('submit', 'form').on('submit', 'form', window.AJAX.requestHandler);\n            callback();\n        }\n    },\n\n    /**\n     * Here we register a function that will remove the onsubmit event from all\n     * forms that will be handled by the generic page loader. We then save this\n     * event handler in the \"jQuery data\", so that we can fire it up later in\n     * window.AJAX.requestHandler().\n     *\n     * See bug #3583316\n     */\n    removeSubmitEvents: function () {\n        // Registering the onload event for functions.js\n        // ensures that it will be fired for all pages\n        $('form').not('.ajax').not('.disableAjax').each(function () {\n            if ($(this).attr('onsubmit')) {\n                $(this).data('onsubmit', this.onsubmit).attr('onsubmit', '');\n            }\n        });\n\n        var $pageContent = $('#page_content');\n        /**\n         * Workaround for passing submit button name,value on ajax form submit\n         * by appending hidden element with submit button name and value.\n         */\n        $pageContent.on('click', 'form input[type=submit]', function () {\n            var buttonName = $(this).attr('name');\n            if (typeof buttonName === 'undefined') {\n                return;\n            }\n            $(this).closest('form').append($('<input>', {\n                'type': 'hidden',\n                'name': buttonName,\n                'value': $(this).val()\n            }));\n        });\n\n        /**\n         * Attach event listener to events when user modify visible\n         * Input,Textarea and select fields to make changes in forms\n         */\n        $pageContent.on(\n            'keyup change',\n            'form.lock-page textarea, ' +\n            'form.lock-page input[type=\"text\"], ' +\n            'form.lock-page input[type=\"number\"], ' +\n            'form.lock-page select',\n            { value: 1 },\n            window.AJAX.lockPageHandler\n        );\n        $pageContent.on(\n            'change',\n            'form.lock-page input[type=\"checkbox\"], ' +\n            'form.lock-page input[type=\"radio\"]',\n            { value: 2 },\n            window.AJAX.lockPageHandler\n        );\n        /**\n         * Reset lock when lock-page form reset event is fired\n         * Note: reset does not bubble in all browser so attach to\n         * form directly.\n         */\n        $('form.lock-page').on('reset', function () {\n            window.AJAX.resetLock();\n        });\n    },\n\n    /**\n     * Page load event handler\n     * @return {function}\n     */\n    loadEventHandler: function () {\n        return function () {\n            var menuContent = $('<div></div>')\n                .append($('#server-breadcrumb').clone())\n                .append($('#topmenucontainer').clone())\n                .html();\n\n            // set initial state reload\n            var initState = ('state' in window.history && window.history.state !== null);\n            var initURL = $('#selflink').find('> a').attr('href') || location.href;\n            var state = {\n                url: initURL,\n                menu: menuContent\n            };\n            history.replaceState(state, null);\n\n            $(window).on('popstate', function (event) {\n                var initPop = (!initState && location.href === initURL);\n                initState = true;\n                // check if popstate fired on first page itself\n                if (initPop) {\n                    return;\n                }\n                var state = event.originalEvent.state;\n                if (state && state.menu) {\n                    window.AJAX.$msgbox = Functions.ajaxShowMessage();\n                    var params = 'ajax_request=true' + window.CommonParams.get('arg_separator') + 'ajax_page_request=true';\n                    var url = state.url || location.href;\n                    $.get(url, params, window.AJAX.responseHandler);\n                    // TODO: Check if sometimes menu is not retrieved from server,\n                    // Not sure but it seems menu was missing only for printview which\n                    // been removed lately, so if it's right some dead menu checks/fallbacks\n                    // may need to be removed from this file and Header.php\n                    // window.AJAX.handleMenu.replace(event.originalEvent.state.menu);\n                }\n            });\n        };\n    },\n\n    /**\n     * Gracefully handle fatal server errors (e.g: 500 - Internal server error)\n     * @return {function}\n     */\n    getFatalErrorHandler: function () {\n        return function (event, request) {\n            if (window.AJAX.debug) {\n                // eslint-disable-next-line no-console\n                console.log('AJAX error: status=' + request.status + ', text=' + request.statusText);\n            }\n            // Don't handle aborted requests\n            if (request.status !== 0 || request.statusText !== 'abort') {\n                var details = '';\n                var state = request.state();\n\n                if (\n                    'responseJSON' in request &&\n                    'isErrorResponse' in request.responseJSON &&\n                    request.responseJSON.isErrorResponse\n                ) {\n                    Functions.ajaxShowMessage(\n                        '<div class=\"alert alert-danger\" role=\"alert\">' +\n                        Functions.escapeHtml(request.responseJSON.error) +\n                        '</div>',\n                        false\n                    );\n                    window.AJAX.active = false;\n                    window.AJAX.xhr = null;\n\n                    return;\n                }\n\n                if (request.status !== 0) {\n                    details += '<div>' + Functions.escapeHtml(Functions.sprintf(window.Messages.strErrorCode, request.status)) + '</div>';\n                }\n                details += '<div>' + Functions.escapeHtml(Functions.sprintf(window.Messages.strErrorText, request.statusText + ' (' + state + ')')) + '</div>';\n                if (state === 'rejected' || state === 'timeout') {\n                    details += '<div>' + Functions.escapeHtml(window.Messages.strErrorConnection) + '</div>';\n                }\n                Functions.ajaxShowMessage(\n                    '<div class=\"alert alert-danger\" role=\"alert\">' +\n                    window.Messages.strErrorProcessingRequest +\n                    details +\n                    '</div>',\n                    false\n                );\n                window.AJAX.active = false;\n                window.AJAX.xhr = null;\n            }\n        };\n    }\n};\n"],"names":["window","AJAX","active","source","xhr","lockedTargets","callback","debug","$msgbox","hash","key","newKey","len","length","i","charCodeAt","Math","abs","registerOnload","file","func","eventName","$","document","on","console","log","registerTeardown","fireOnload","trigger","fireTeardown","triggerHandler","lockPageHandler","event","target","type","newHash","oldHash","lockId","data","value","content","charCode","val","is","jQuery","isEmptyObject","html","Functions","getImage","Messages","strLockToolTip","toString","resetLock","handleMenu","replace","children","first","remove","menuResizer","mainMenuResizerCallback","requestHandler","href","attr","shiftKey","ctrlKey","metaKey","hasClass","match","preventDefault","stopImmediatePropagation","isTrigger","confirm","strConfirmNavigation","isLink","previousLinkAborted","abort","status","statusText","ajaxShowMessage","strAbortedRequest","animate","scrollTop","url","argsep","CommonParams","get","params","dataPost","getPostData","serialize","responseHandler","state","history","replaceState","pushState","onsubmit","apply","post","loginResponseHandler","ajaxRemoveMessage","set","new_token","scriptHandler","load","displayMessage","prepend","highlightSql","msg","errSubmitMsg","errors","id","class","insertAfter","append","e","ignorePhpErrors","sendErrorAlways","stopErrorReportLoop","phpErrorsBeingSubmitted","height","promptPhpErrors","phpErrorsFound","success","user","location","strLoading","logged_in","removeAttr","removeClass","replaceWith","error","handleRedirectAndReload","fieldWithError","addClass","text","redirect","reset","reloadNavigation","Navigation","reload","title","menu","selflink","disableNaviSettings","disableSettings","ensureSettings","not","message","checkNumberOfFields","split","$selflinkReplace","replacement","find","setAll","scripts","call","$ajaxError","scriptsVersion","scriptsToBeLoaded","scriptsToBeFired","scriptsCompleted","add","fire","push","files","self","name","script","inArray","appendScript","done","splice","head","getElementsByTagName","createElement","indexOf","src","encodeURIComponent","async","onload","appendChild","off","removeSubmitEvents","each","$pageContent","buttonName","closest","loadEventHandler","menuContent","clone","initState","initURL","initPop","originalEvent","getFatalErrorHandler","request","details","responseJSON","isErrorResponse","escapeHtml","sprintf","strErrorCode","strErrorText","strErrorConnection","strErrorProcessingRequest"],"sourceRoot":""}