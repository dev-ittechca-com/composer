{"version":3,"file":"ajax.js","mappings":"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","sources":["webpack://phpmyadmin/./js/src/ajax.js"],"sourcesContent":["/**\n * This object handles ajax requests for pages. It also\n * handles the reloading of the main menu and scripts.\n *\n * @test-module AJAX\n */\nvar AJAX = {\n    /**\n     * @var {boolean} active Whether we are busy\n     */\n    active: false,\n    /**\n     * @var {object} source The object whose event initialized the request\n     */\n    source: null,\n    /**\n     * @var {object} xhr A reference to the ajax request that is currently running\n     */\n    xhr: null,\n    /**\n     * @var {object} lockedTargets, list of locked targets\n     */\n    lockedTargets: {},\n    // eslint-disable-next-line valid-jsdoc\n    /**\n     * @var {Function} callback Callback to execute after a successful request\n     *                          Used by CommonActions from common.js\n     */\n    callback: function () {},\n    /**\n     * @var {boolean} debug Makes noise in your Firebug console\n     */\n    debug: false,\n    /**\n     * @var {object} $msgbox A reference to a jQuery object that links to a message\n     *                     box that is generated by Functions.ajaxShowMessage()\n     */\n    $msgbox: null,\n    /**\n     * Given the filename of a script, returns a hash to be\n     * used to refer to all the events registered for the file\n     *\n     * @param {string} key key The filename for which to get the event name\n     *\n     * @return {number}\n     */\n    hash: function (key) {\n        var newKey = key;\n        /* https://burtleburtle.net/bob/hash/doobs.html#one */\n        newKey += '';\n        var len = newKey.length;\n        var hash = 0;\n        var i = 0;\n        for (; i < len; ++i) {\n            hash += newKey.charCodeAt(i);\n            hash += (hash << 10);\n            hash ^= (hash >> 6);\n        }\n        hash += (hash << 3);\n        hash ^= (hash >> 11);\n        hash += (hash << 15);\n        return Math.abs(hash);\n    },\n    /**\n     * Registers an onload event for a file\n     *\n     * @param {string} file   The filename for which to register the event\n     * @param {Function} func The function to execute when the page is ready\n     *\n     * @return {self} For chaining\n     */\n    registerOnload: function (file, func) {\n        var eventName = 'onload_' + AJAX.hash(file);\n        $(document).on(eventName, func);\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(\n                // no need to translate\n                'Registered event ' + eventName + ' for file ' + file\n            );\n        }\n        return this;\n    },\n    /**\n     * Registers a teardown event for a file. This is useful to execute functions\n     * that unbind events for page elements that are about to be removed.\n     *\n     * @param {string} file   The filename for which to register the event\n     * @param {Function} func The function to execute when\n     *                        the page is about to be torn down\n     *\n     * @return {self} For chaining\n     */\n    registerTeardown: function (file, func) {\n        var eventName = 'teardown_' + AJAX.hash(file);\n        $(document).on(eventName, func);\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(\n                // no need to translate\n                'Registered event ' + eventName + ' for file ' + file\n            );\n        }\n        return this;\n    },\n    /**\n     * Called when a page has finished loading, once for every\n     * file that registered to the onload event of that file.\n     *\n     * @param {string} file The filename for which to fire the event\n     *\n     * @return {void}\n     */\n    fireOnload: function (file) {\n        var eventName = 'onload_' + AJAX.hash(file);\n        $(document).trigger(eventName);\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(\n                // no need to translate\n                'Fired event ' + eventName + ' for file ' + file\n            );\n        }\n    },\n    /**\n     * Called just before a page is torn down, once for every\n     * file that registered to the teardown event of that file.\n     *\n     * @param {string} file The filename for which to fire the event\n     *\n     * @return {void}\n     */\n    fireTeardown: function (file) {\n        var eventName = 'teardown_' + AJAX.hash(file);\n        $(document).triggerHandler(eventName);\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(\n                // no need to translate\n                'Fired event ' + eventName + ' for file ' + file\n            );\n        }\n    },\n    /**\n     * function to handle lock page mechanism\n     *\n     * @param event the event object\n     *\n     * @return {void}\n     */\n    lockPageHandler: function (event) {\n        // don't consider checkbox event\n        if (typeof event.target !== 'undefined') {\n            if (event.target.type === 'checkbox') {\n                return;\n            }\n        }\n\n        var newHash = null;\n        var oldHash = null;\n        var lockId;\n        // CodeMirror lock\n        if (event.data.value === 3) {\n            newHash = event.data.content;\n            oldHash = true;\n            lockId = 'cm';\n        } else {\n            // Don't lock on enter.\n            if (0 === event.charCode) {\n                return;\n            }\n\n            lockId = $(this).data('lock-id');\n            if (typeof lockId === 'undefined') {\n                return;\n            }\n            /*\n             * @todo Fix Code mirror does not give correct full value (query)\n             * in textarea, it returns only the change in content.\n             */\n            if (event.data.value === 1) {\n                newHash = AJAX.hash($(this).val());\n            } else {\n                newHash = AJAX.hash($(this).is(':checked'));\n            }\n            oldHash = $(this).data('val-hash');\n        }\n        // Set lock if old value !== new value\n        // otherwise release lock\n        if (oldHash !== newHash) {\n            AJAX.lockedTargets[lockId] = true;\n        } else {\n            delete AJAX.lockedTargets[lockId];\n        }\n        // Show lock icon if locked targets is not empty.\n        // otherwise remove lock icon\n        if (!jQuery.isEmptyObject(AJAX.lockedTargets)) {\n            $('#lock_page_icon').html(Functions.getImage('s_lock', Messages.strLockToolTip).toString());\n        } else {\n            $('#lock_page_icon').html('');\n        }\n    },\n    /**\n     * resets the lock\n     *\n     * @return {void}\n     */\n    resetLock: function () {\n        AJAX.lockedTargets = {};\n        $('#lock_page_icon').html('');\n    },\n    handleMenu: {\n        replace: function (content) {\n            $('#floating_menubar').html(content)\n                // Remove duplicate wrapper\n                // TODO: don't send it in the response\n                .children().first().remove();\n            $('#topmenu').menuResizer(Functions.mainMenuResizerCallback);\n        }\n    },\n    /**\n     * Event handler for clicks on links and form submissions\n     *\n     * @param {KeyboardEvent} event Event data\n     *\n     * @return {boolean | void}\n     */\n    requestHandler: function (event) {\n        // In some cases we don't want to handle the request here and either\n        // leave the browser deal with it natively (e.g: file download)\n        // or leave an existing ajax event handler present elsewhere deal with it\n        var href = $(this).attr('href');\n        if (typeof event !== 'undefined' && (event.shiftKey || event.ctrlKey || event.metaKey)) {\n            return true;\n        } else if ($(this).attr('target')) {\n            return true;\n        } else if ($(this).hasClass('ajax') || $(this).hasClass('disableAjax')) {\n            // reset the lockedTargets object, as specified AJAX operation has finished\n            AJAX.resetLock();\n            return true;\n        } else if (href && href.match(/^#/)) {\n            return true;\n        } else if (href && href.match(/^mailto/)) {\n            return true;\n        } else if ($(this).hasClass('ui-datepicker-next') ||\n            $(this).hasClass('ui-datepicker-prev')\n        ) {\n            return true;\n        }\n\n        if (typeof event !== 'undefined') {\n            event.preventDefault();\n            event.stopImmediatePropagation();\n        }\n\n        // triggers a confirm dialog if:\n        // the user has performed some operations on loaded page\n        // the user clicks on some link, (won't trigger for buttons)\n        // the click event is not triggered by script\n        if (typeof event !== 'undefined' && event.type === 'click' &&\n            event.isTrigger !== true &&\n            !jQuery.isEmptyObject(AJAX.lockedTargets) &&\n            confirm(Messages.strConfirmNavigation) === false\n        ) {\n            return false;\n        }\n        AJAX.resetLock();\n        var isLink = !! href || false;\n        var previousLinkAborted = false;\n\n        if (AJAX.active === true) {\n            // Cancel the old request if abortable, when the user requests\n            // something else. Otherwise silently bail out, as there is already\n            // a request well in progress.\n            if (AJAX.xhr) {\n                // In case of a link request, attempt aborting\n                AJAX.xhr.abort();\n                if (AJAX.xhr.status === 0 && AJAX.xhr.statusText === 'abort') {\n                    // If aborted\n                    AJAX.$msgbox = Functions.ajaxShowMessage(Messages.strAbortedRequest);\n                    AJAX.active = false;\n                    AJAX.xhr = null;\n                    previousLinkAborted = true;\n                } else {\n                    // If can't abort\n                    return false;\n                }\n            } else {\n                // In case submitting a form, don't attempt aborting\n                return false;\n            }\n        }\n\n        AJAX.source = $(this);\n\n        $('html, body').animate({ scrollTop: 0 }, 'fast');\n\n        var url = isLink ? href : $(this).attr('action');\n        var argsep = CommonParams.get('arg_separator');\n        var params = 'ajax_request=true' + argsep + 'ajax_page_request=true';\n        var dataPost = AJAX.source.getPostData();\n        if (! isLink) {\n            params += argsep + $(this).serialize();\n        } else if (dataPost) {\n            params += argsep + dataPost;\n            isLink = false;\n        }\n\n        if (AJAX.debug) {\n            // eslint-disable-next-line no-console\n            console.log('Loading: ' + url); // no need to translate\n        }\n\n        if (isLink) {\n            AJAX.active = true;\n            AJAX.$msgbox = Functions.ajaxShowMessage();\n            // Save reference for the new link request\n            AJAX.xhr = $.get(url, params, AJAX.responseHandler);\n            var state = {\n                url : href\n            };\n            if (previousLinkAborted) {\n                // hack: there is already an aborted entry on stack\n                // so just modify the aborted one\n                history.replaceState(state, null, href);\n            } else {\n                history.pushState(state, null, href);\n            }\n        } else {\n            /**\n             * Manually fire the onsubmit event for the form, if any.\n             * The event was saved in the jQuery data object by an onload\n             * handler defined below. Workaround for bug #3583316\n             */\n            var onsubmit = $(this).data('onsubmit');\n            // Submit the request if there is no onsubmit handler\n            // or if it returns a value that evaluates to true\n            if (typeof onsubmit !== 'function' || onsubmit.apply(this, [event])) {\n                AJAX.active = true;\n                AJAX.$msgbox = Functions.ajaxShowMessage();\n                if ($(this).attr('id') === 'login_form') {\n                    $.post(url, params, AJAX.loginResponseHandler);\n                } else {\n                    $.post(url, params, AJAX.responseHandler);\n                }\n            }\n        }\n    },\n    /**\n     * Response handler to handle login request from login modal after session expiration\n     *\n     * To refer to self use 'AJAX', instead of 'this' as this function\n     * is called in the jQuery context.\n     *\n     * @param {object} data Event data\n     *\n     * @return {void}\n     */\n    loginResponseHandler: function (data) {\n        if (typeof data === 'undefined' || data === null) {\n            return;\n        }\n        Functions.ajaxRemoveMessage(AJAX.$msgbox);\n\n        CommonParams.set('token', data.new_token);\n\n        AJAX.scriptHandler.load([]);\n\n        if (data.displayMessage) {\n            $('#page_content').prepend(data.displayMessage);\n            Functions.highlightSql($('#page_content'));\n        }\n\n        $('#pma_errors').remove();\n\n        var msg = '';\n        if (data.errSubmitMsg) {\n            msg = data.errSubmitMsg;\n        }\n        if (data.errors) {\n            $('<div></div>', { id : 'pma_errors', class : 'clearfloat d-print-none' })\n                .insertAfter('#selflink')\n                .append(data.errors);\n            // bind for php error reporting forms (bottom)\n            $('#pma_ignore_errors_bottom').on('click', function (e) {\n                e.preventDefault();\n                Functions.ignorePhpErrors();\n            });\n            $('#pma_ignore_all_errors_bottom').on('click', function (e) {\n                e.preventDefault();\n                Functions.ignorePhpErrors(false);\n            });\n            // In case of 'sendErrorReport'='always'\n            // submit the hidden error reporting form.\n            if (data.sendErrorAlways === '1' &&\n                data.stopErrorReportLoop !== '1'\n            ) {\n                $('#pma_report_errors_form').trigger('submit');\n                Functions.ajaxShowMessage(Messages.phpErrorsBeingSubmitted, false);\n                $('html, body').animate({ scrollTop:$(document).height() }, 'slow');\n            } else if (data.promptPhpErrors) {\n                // otherwise just prompt user if it is set so.\n                msg = msg + Messages.phpErrorsFound;\n                // scroll to bottom where all the errors are displayed.\n                $('html, body').animate({ scrollTop:$(document).height() }, 'slow');\n            }\n        }\n\n        Functions.ajaxShowMessage(msg, false);\n        // bind for php error reporting forms (popup)\n        $('#pma_ignore_errors_popup').on('click', function () {\n            Functions.ignorePhpErrors();\n        });\n        $('#pma_ignore_all_errors_popup').on('click', function () {\n            Functions.ignorePhpErrors(false);\n        });\n\n        if (typeof data.success !== 'undefined' && data.success) {\n            // reload page if user trying to login has changed\n            if (CommonParams.get('user') !== data.params.user) {\n                window.location = 'index.php';\n                Functions.ajaxShowMessage(Messages.strLoading, false);\n                AJAX.active = false;\n                AJAX.xhr = null;\n                return;\n            }\n            // remove the login modal if the login is successful otherwise show error.\n            if (typeof data.logged_in !== 'undefined' && data.logged_in === 1) {\n                if ($('#modalOverlay').length) {\n                    $('#modalOverlay').remove();\n                }\n                $('fieldset.disabled_for_expiration').removeAttr('disabled').removeClass('disabled_for_expiration');\n                AJAX.fireTeardown('functions.js');\n                AJAX.fireOnload('functions.js');\n            }\n            if (typeof data.new_token !== 'undefined') {\n                $('input[name=token]').val(data.new_token);\n            }\n        } else if (typeof data.logged_in !== 'undefined' && data.logged_in === 0) {\n            $('#modalOverlay').replaceWith(data.error);\n        } else {\n            Functions.ajaxShowMessage(data.error, false);\n            AJAX.active = false;\n            AJAX.xhr = null;\n            Functions.handleRedirectAndReload(data);\n            if (data.fieldWithError) {\n                $(':input.error').removeClass('error');\n                $('#' + data.fieldWithError).addClass('error');\n            }\n        }\n    },\n    /**\n     * Called after the request that was initiated by this.requestHandler()\n     * has completed successfully or with a caught error. For completely\n     * failed requests or requests with uncaught errors, see the .ajaxError\n     * handler at the bottom of this file.\n     *\n     * To refer to self use 'AJAX', instead of 'this' as this function\n     * is called in the jQuery context.\n     *\n     * @param {object} data Event data\n     *\n     * @return {void}\n     */\n    responseHandler: function (data) {\n        if (typeof data === 'undefined' || data === null) {\n            return;\n        }\n        if (typeof data.success !== 'undefined' && data.success) {\n            $('html, body').animate({ scrollTop: 0 }, 'fast');\n            Functions.ajaxRemoveMessage(AJAX.$msgbox);\n\n            if (data.redirect) {\n                Functions.ajaxShowMessage(data.redirect, false);\n                AJAX.active = false;\n                AJAX.xhr = null;\n                return;\n            }\n\n            AJAX.scriptHandler.reset(function () {\n                if (data.reloadNavigation) {\n                    Navigation.reload();\n                }\n                if (data.title) {\n                    $('title').replaceWith(data.title);\n                }\n                if (data.menu) {\n                    var state = {\n                        url : data.selflink,\n                        menu : data.menu\n                    };\n                    history.replaceState(state, null);\n                    AJAX.handleMenu.replace(data.menu);\n                }\n                if (data.disableNaviSettings) {\n                    Navigation.disableSettings();\n                } else {\n                    Navigation.ensureSettings(data.selflink);\n                }\n\n                // Remove all containers that may have\n                // been added outside of #page_content\n                $('body').children()\n                    .not('#pma_navigation')\n                    .not('#floating_menubar')\n                    .not('#page_nav_icons')\n                    .not('#page_content')\n                    .not('#selflink')\n                    .not('#pma_header')\n                    .not('#pma_footer')\n                    .not('#pma_demo')\n                    .not('#pma_console_container')\n                    .not('#prefs_autoload')\n                    .remove();\n                // Replace #page_content with new content\n                if (data.message && data.message.length > 0) {\n                    $('#page_content').replaceWith(\n                        '<div id=\\'page_content\\'>' + data.message + '</div>'\n                    );\n                    Functions.highlightSql($('#page_content'));\n                    Functions.checkNumberOfFields();\n                }\n\n                if (data.selflink) {\n                    var source = data.selflink.split('?')[0];\n                    // Check for faulty links\n                    var $selflinkReplace = {\n                        'index.php?route=/import': 'index.php?route=/table/sql',\n                        'index.php?route=/table/chart': 'index.php?route=/sql',\n                        'index.php?route=/table/gis-visualization': 'index.php?route=/sql'\n                    };\n                    if ($selflinkReplace[source]) {\n                        var replacement = $selflinkReplace[source];\n                        data.selflink = data.selflink.replace(source, replacement);\n                    }\n                    $('#selflink').find('> a').attr('href', data.selflink);\n                }\n                if (data.params) {\n                    CommonParams.setAll(data.params);\n                }\n                if (data.scripts) {\n                    AJAX.scriptHandler.load(data.scripts);\n                }\n                if (data.displayMessage) {\n                    $('#page_content').prepend(data.displayMessage);\n                    Functions.highlightSql($('#page_content'));\n                }\n\n                $('#pma_errors').remove();\n\n                var msg = '';\n                if (data.errSubmitMsg) {\n                    msg = data.errSubmitMsg;\n                }\n                if (data.errors) {\n                    $('<div></div>', { id : 'pma_errors', class : 'clearfloat d-print-none' })\n                        .insertAfter('#selflink')\n                        .append(data.errors);\n                    // bind for php error reporting forms (bottom)\n                    $('#pma_ignore_errors_bottom').on('click', function (e) {\n                        e.preventDefault();\n                        Functions.ignorePhpErrors();\n                    });\n                    $('#pma_ignore_all_errors_bottom').on('click', function (e) {\n                        e.preventDefault();\n                        Functions.ignorePhpErrors(false);\n                    });\n                    // In case of 'sendErrorReport'='always'\n                    // submit the hidden error reporting form.\n                    if (data.sendErrorAlways === '1' &&\n                        data.stopErrorReportLoop !== '1'\n                    ) {\n                        $('#pma_report_errors_form').trigger('submit');\n                        Functions.ajaxShowMessage(Messages.phpErrorsBeingSubmitted, false);\n                        $('html, body').animate({ scrollTop:$(document).height() }, 'slow');\n                    } else if (data.promptPhpErrors) {\n                        // otherwise just prompt user if it is set so.\n                        msg = msg + Messages.phpErrorsFound;\n                        // scroll to bottom where all the errors are displayed.\n                        $('html, body').animate({ scrollTop:$(document).height() }, 'slow');\n                    }\n                }\n                Functions.ajaxShowMessage(msg, false);\n                // bind for php error reporting forms (popup)\n                $('#pma_ignore_errors_popup').on('click', function () {\n                    Functions.ignorePhpErrors();\n                });\n                $('#pma_ignore_all_errors_popup').on('click', function () {\n                    Functions.ignorePhpErrors(false);\n                });\n\n                if (typeof AJAX.callback === 'function') {\n                    AJAX.callback.call();\n                }\n                AJAX.callback = function () {};\n            });\n        } else {\n            Functions.ajaxShowMessage(data.error, false);\n            Functions.ajaxRemoveMessage(AJAX.$msgbox);\n            var $ajaxError = $('<div></div>');\n            $ajaxError.attr({ 'id': 'ajaxError' });\n            $('#page_content').append($ajaxError);\n            $ajaxError.html(data.error);\n            $('html, body').animate({ scrollTop: $(document).height() }, 200);\n            AJAX.active = false;\n            AJAX.xhr = null;\n            Functions.handleRedirectAndReload(data);\n            if (data.fieldWithError) {\n                $(':input.error').removeClass('error');\n                $('#' + data.fieldWithError).addClass('error');\n            }\n        }\n    },\n    /**\n     * This object is in charge of downloading scripts,\n     * keeping track of what's downloaded and firing\n     * the onload event for them when the page is ready.\n     */\n    scriptHandler: {\n        /**\n         * @var {string[]} scripts The list of files already downloaded\n         */\n        scripts: [],\n        /**\n         * @var {string} scriptsVersion version of phpMyAdmin from which the\n         *                              scripts have been loaded\n         */\n        scriptsVersion: null,\n        /**\n         * @var {string[]} scriptsToBeLoaded The list of files that\n         *                                   need to be downloaded\n         */\n        scriptsToBeLoaded: [],\n        /**\n         * @var {string[]} scriptsToBeFired The list of files for which\n         *                                  to fire the onload and unload events\n         */\n        scriptsToBeFired: [],\n        scriptsCompleted: false,\n        /**\n         * Records that a file has been downloaded\n         *\n         * @param {string} file The filename\n         * @param {string} fire Whether this file will be registering\n         *                      onload/teardown events\n         *\n         * @return {self} For chaining\n         */\n        add: function (file, fire) {\n            this.scripts.push(file);\n            if (fire) {\n                // Record whether to fire any events for the file\n                // This is necessary to correctly tear down the initial page\n                this.scriptsToBeFired.push(file);\n            }\n            return this;\n        },\n        /**\n         * Download a list of js files in one request\n         *\n         * @param {string[]} files An array of filenames and flags\n         * @param {Function} callback\n         *\n         * @return {void}\n         */\n        load: function (files, callback) {\n            var self = this;\n            var i;\n            // Clear loaded scripts if they are from another version of phpMyAdmin.\n            // Depends on common params being set before loading scripts in responseHandler\n            if (self.scriptsVersion === null) {\n                self.scriptsVersion = CommonParams.get('version');\n            } else if (self.scriptsVersion !== CommonParams.get('version')) {\n                self.scripts = [];\n                self.scriptsVersion = CommonParams.get('version');\n            }\n            self.scriptsCompleted = false;\n            self.scriptsToBeFired = [];\n            // We need to first complete list of files to load\n            // as next loop will directly fire requests to load them\n            // and that triggers removal of them from\n            // self.scriptsToBeLoaded\n            for (i in files) {\n                self.scriptsToBeLoaded.push(files[i].name);\n                if (files[i].fire) {\n                    self.scriptsToBeFired.push(files[i].name);\n                }\n            }\n            for (i in files) {\n                var script = files[i].name;\n                // Only for scripts that we don't already have\n                if ($.inArray(script, self.scripts) === -1) {\n                    this.add(script);\n                    this.appendScript(script, callback);\n                } else {\n                    self.done(script, callback);\n                }\n            }\n            // Trigger callback if there is nothing else to load\n            self.done(null, callback);\n        },\n        /**\n         * Called whenever all files are loaded\n         *\n         * @param {string} script\n         * @param {Function?} callback\n         *\n         * @return {void}\n         */\n        done: function (script, callback) {\n            if ($.inArray(script, this.scriptsToBeFired)) {\n                AJAX.fireOnload(script);\n            }\n            if ($.inArray(script, this.scriptsToBeLoaded)) {\n                this.scriptsToBeLoaded.splice($.inArray(script, this.scriptsToBeLoaded), 1);\n            }\n            if (script === null) {\n                this.scriptsCompleted = true;\n            }\n            /* We need to wait for last signal (with null) or last script load */\n            AJAX.active = (this.scriptsToBeLoaded.length > 0) || ! this.scriptsCompleted;\n            /* Run callback on last script */\n            if (! AJAX.active && typeof callback === 'function') {\n                callback();\n            }\n        },\n        /**\n         * Appends a script element to the head to load the scripts\n         *\n         * @param {string} name\n         * @param {Function} callback\n         *\n         * @return {void}\n         */\n        appendScript: function (name, callback) {\n            var head = document.head || document.getElementsByTagName('head')[0];\n            var script = document.createElement('script');\n            var self = this;\n\n            script.type = 'text/javascript';\n            var file = name.indexOf('vendor/') !== -1 ? name : 'dist/' + name;\n            script.src = 'js/' + file + '?' + 'v=' + encodeURIComponent(CommonParams.get('version'));\n            script.async = false;\n            script.onload = function () {\n                self.done(name, callback);\n            };\n            head.appendChild(script);\n        },\n        /**\n         * Fires all the teardown event handlers for the current page\n         * and rebinds all forms and links to the request handler\n         *\n         * @param {Function} callback The callback to call after resetting\n         *\n         * @return {void}\n         */\n        reset: function (callback) {\n            for (var i in this.scriptsToBeFired) {\n                AJAX.fireTeardown(this.scriptsToBeFired[i]);\n            }\n            this.scriptsToBeFired = [];\n            /**\n             * Re-attach a generic event handler to clicks\n             * on pages and submissions of forms\n             */\n            $(document).off('click', 'a').on('click', 'a', AJAX.requestHandler);\n            $(document).off('submit', 'form').on('submit', 'form', AJAX.requestHandler);\n            callback();\n        }\n    }\n};\n\n/**\n * Here we register a function that will remove the onsubmit event from all\n * forms that will be handled by the generic page loader. We then save this\n * event handler in the \"jQuery data\", so that we can fire it up later in\n * AJAX.requestHandler().\n *\n * See bug #3583316\n */\nAJAX.registerOnload('functions.js', function () {\n    // Registering the onload event for functions.js\n    // ensures that it will be fired for all pages\n    $('form').not('.ajax').not('.disableAjax').each(function () {\n        if ($(this).attr('onsubmit')) {\n            $(this).data('onsubmit', this.onsubmit).attr('onsubmit', '');\n        }\n    });\n\n    var $pageContent = $('#page_content');\n    /**\n     * Workaround for passing submit button name,value on ajax form submit\n     * by appending hidden element with submit button name and value.\n     */\n    $pageContent.on('click', 'form input[type=submit]', function () {\n        var buttonName = $(this).attr('name');\n        if (typeof buttonName === 'undefined') {\n            return;\n        }\n        $(this).closest('form').append($('<input>', {\n            'type' : 'hidden',\n            'name' : buttonName,\n            'value': $(this).val()\n        }));\n    });\n\n    /**\n     * Attach event listener to events when user modify visible\n     * Input,Textarea and select fields to make changes in forms\n     */\n    $pageContent.on(\n        'keyup change',\n        'form.lock-page textarea, ' +\n        'form.lock-page input[type=\"text\"], ' +\n        'form.lock-page input[type=\"number\"], ' +\n        'form.lock-page select',\n        { value:1 },\n        AJAX.lockPageHandler\n    );\n    $pageContent.on(\n        'change',\n        'form.lock-page input[type=\"checkbox\"], ' +\n        'form.lock-page input[type=\"radio\"]',\n        { value:2 },\n        AJAX.lockPageHandler\n    );\n    /**\n     * Reset lock when lock-page form reset event is fired\n     * Note: reset does not bubble in all browser so attach to\n     * form directly.\n     */\n    $('form.lock-page').on('reset', function () {\n        AJAX.resetLock();\n    });\n});\n\n/**\n * Page load event handler\n */\n$(function () {\n    var menuContent = $('<div></div>')\n        .append($('#server-breadcrumb').clone())\n        .append($('#topmenucontainer').clone())\n        .html();\n\n    // set initial state reload\n    var initState = ('state' in window.history && window.history.state !== null);\n    var initURL = $('#selflink').find('> a').attr('href') || location.href;\n    var state = {\n        url : initURL,\n        menu : menuContent\n    };\n    history.replaceState(state, null);\n\n    $(window).on('popstate', function (event) {\n        var initPop = (! initState && location.href === initURL);\n        initState = true;\n        // check if popstate fired on first page itself\n        if (initPop) {\n            return;\n        }\n        var state = event.originalEvent.state;\n        if (state && state.menu) {\n            AJAX.$msgbox = Functions.ajaxShowMessage();\n            var params = 'ajax_request=true' + CommonParams.get('arg_separator') + 'ajax_page_request=true';\n            var url = state.url || location.href;\n            $.get(url, params, AJAX.responseHandler);\n            // TODO: Check if sometimes menu is not retrieved from server,\n            // Not sure but it seems menu was missing only for printview which\n            // been removed lately, so if it's right some dead menu checks/fallbacks\n            // may need to be removed from this file and Header.php\n            // AJAX.handleMenu.replace(event.originalEvent.state.menu);\n        }\n    });\n});\n\n/**\n * Attach a generic event handler to clicks\n * on pages and submissions of forms\n */\n$(document).on('click', 'a', AJAX.requestHandler);\n$(document).on('submit', 'form', AJAX.requestHandler);\n\n/**\n * Gracefully handle fatal server errors\n * (e.g: 500 - Internal server error)\n */\n$(document).on('ajaxError', function (event, request) {\n    if (AJAX.debug) {\n        // eslint-disable-next-line no-console\n        console.log('AJAX error: status=' + request.status + ', text=' + request.statusText);\n    }\n    // Don't handle aborted requests\n    if (request.status !== 0 || request.statusText !== 'abort') {\n        var details = '';\n        var state = request.state();\n\n        if (request.status !== 0) {\n            details += '<div>' + Functions.escapeHtml(Functions.sprintf(Messages.strErrorCode, request.status)) + '</div>';\n        }\n        details += '<div>' + Functions.escapeHtml(Functions.sprintf(Messages.strErrorText, request.statusText + ' (' + state + ')')) + '</div>';\n        if (state === 'rejected' || state === 'timeout') {\n            details += '<div>' + Functions.escapeHtml(Messages.strErrorConnection) + '</div>';\n        }\n        Functions.ajaxShowMessage(\n            '<div class=\"alert alert-danger\" role=\"alert\">' +\n            Messages.strErrorProcessingRequest +\n            details +\n            '</div>',\n            false\n        );\n        AJAX.active = false;\n        AJAX.xhr = null;\n    }\n});\n"],"names":["AJAX","active","source","xhr","lockedTargets","callback","debug","$msgbox","hash","key","newKey","len","length","i","charCodeAt","Math","abs","registerOnload","file","func","eventName","$","document","on","console","log","registerTeardown","fireOnload","trigger","fireTeardown","triggerHandler","lockPageHandler","event","target","type","newHash","oldHash","lockId","data","value","content","charCode","val","is","jQuery","isEmptyObject","html","Functions","getImage","Messages","strLockToolTip","toString","resetLock","handleMenu","replace","children","first","remove","menuResizer","mainMenuResizerCallback","requestHandler","href","attr","shiftKey","ctrlKey","metaKey","hasClass","match","preventDefault","stopImmediatePropagation","isTrigger","confirm","strConfirmNavigation","isLink","previousLinkAborted","abort","status","statusText","ajaxShowMessage","strAbortedRequest","animate","scrollTop","url","argsep","CommonParams","get","params","dataPost","getPostData","serialize","responseHandler","state","history","replaceState","pushState","onsubmit","apply","post","loginResponseHandler","ajaxRemoveMessage","set","new_token","scriptHandler","load","displayMessage","prepend","highlightSql","msg","errSubmitMsg","errors","id","class","insertAfter","append","e","ignorePhpErrors","sendErrorAlways","stopErrorReportLoop","phpErrorsBeingSubmitted","height","promptPhpErrors","phpErrorsFound","success","user","window","location","strLoading","logged_in","removeAttr","removeClass","replaceWith","error","handleRedirectAndReload","fieldWithError","addClass","redirect","reset","reloadNavigation","Navigation","reload","title","menu","selflink","disableNaviSettings","disableSettings","ensureSettings","not","message","checkNumberOfFields","split","$selflinkReplace","replacement","find","setAll","scripts","call","$ajaxError","scriptsVersion","scriptsToBeLoaded","scriptsToBeFired","scriptsCompleted","add","fire","push","files","self","name","script","inArray","appendScript","done","splice","head","getElementsByTagName","createElement","indexOf","src","encodeURIComponent","async","onload","appendChild","off","each","$pageContent","buttonName","closest","menuContent","clone","initState","initURL","initPop","originalEvent","request","details","escapeHtml","sprintf","strErrorCode","strErrorText","strErrorConnection","strErrorProcessingRequest"],"sourceRoot":""}