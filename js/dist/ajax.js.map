{"version":3,"file":"ajax.js","mappings":"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","sources":["webpack://phpmyadmin/./js/src/ajax.js"],"sourcesContent":["/**\n * This object handles ajax requests for pages. It also\n * handles the reloading of the main menu and scripts.\n *\n * @test-module AJAX\n */\nvar AJAX = {\n    /**\n     * @var {boolean} active Whether we are busy\n     */\n    active: false,\n    /**\n     * @var {object} source The object whose event initialized the request\n     */\n    source: null,\n    /**\n     * @var {object} xhr A reference to the ajax request that is currently running\n     */\n    xhr: null,\n    /**\n     * @var {object} lockedTargets, list of locked targets\n     */\n    lockedTargets: {},\n    // eslint-disable-next-line valid-jsdoc\n    /**\n     * @var {Function} callback Callback to execute after a successful request\n     *                          Used by CommonActions from common.js\n     */\n    callback: function () {},\n    /**\n     * @var {boolean} debug Makes noise in your Firebug console\n     */\n    debug: false,\n    /**\n     * @var {object} $msgbox A reference to a jQuery object that links to a message\n     *                     box that is generated by Functions.ajaxShowMessage()\n     */\n    $msgbox: null,\n    /**\n     * Given the filename of a script, returns a hash to be\n     * used to refer to all the events registered for the file\n     *\n     * @param {string} key key The filename for which to get the event name\n     *\n     * @return {number}\n     */\n    hash: function (key) {\n        var newKey = key;\n        /* https://burtleburtle.net/bob/hash/doobs.html#one */\n        newKey += '';\n        var len = newKey.length;\n        var hash = 0;\n        var i = 0;\n        for (; i < len; ++i) {\n            hash += newKey.charCodeAt(i);\n            hash += (hash << 10);\n            hash ^= (hash >> 6);\n        }\n        hash += (hash << 3);\n        hash ^= (hash >> 11);\n        hash += (hash << 15);\n        return Math.abs(hash);\n    },\n    /**\n     * Registers an onload event for a file\n     *\n     * @param {string} file   The filename for which to register the event\n     * @param {Function} func The function to execute when the page is ready\n     *\n     * @return {self} For chaining\n     */\n    registerOnload: function (file, func) {\n        var eventName = 'onload_' + AJAX.hash(file);\n        $(document).on(eventName, func);\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(\n                // no need to translate\n                'Registered event ' + eventName + ' for file ' + file\n            );\n        }\n        return this;\n    },\n    /**\n     * Registers a teardown event for a file. This is useful to execute functions\n     * that unbind events for page elements that are about to be removed.\n     *\n     * @param {string} file   The filename for which to register the event\n     * @param {Function} func The function to execute when\n     *                        the page is about to be torn down\n     *\n     * @return {self} For chaining\n     */\n    registerTeardown: function (file, func) {\n        var eventName = 'teardown_' + AJAX.hash(file);\n        $(document).on(eventName, func);\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(\n                // no need to translate\n                'Registered event ' + eventName + ' for file ' + file\n            );\n        }\n        return this;\n    },\n    /**\n     * Called when a page has finished loading, once for every\n     * file that registered to the onload event of that file.\n     *\n     * @param {string} file The filename for which to fire the event\n     *\n     * @return {void}\n     */\n    fireOnload: function (file) {\n        var eventName = 'onload_' + AJAX.hash(file);\n        $(document).trigger(eventName);\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(\n                // no need to translate\n                'Fired event ' + eventName + ' for file ' + file\n            );\n        }\n    },\n    /**\n     * Called just before a page is torn down, once for every\n     * file that registered to the teardown event of that file.\n     *\n     * @param {string} file The filename for which to fire the event\n     *\n     * @return {void}\n     */\n    fireTeardown: function (file) {\n        var eventName = 'teardown_' + AJAX.hash(file);\n        $(document).triggerHandler(eventName);\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(\n                // no need to translate\n                'Fired event ' + eventName + ' for file ' + file\n            );\n        }\n    },\n    /**\n     * function to handle lock page mechanism\n     *\n     * @param event the event object\n     *\n     * @return {void}\n     */\n    lockPageHandler: function (event) {\n        // don't consider checkbox event\n        if (typeof event.target !== 'undefined') {\n            if (event.target.type === 'checkbox') {\n                return;\n            }\n        }\n\n        var newHash = null;\n        var oldHash = null;\n        var lockId;\n        // CodeMirror lock\n        if (event.data.value === 3) {\n            newHash = event.data.content;\n            oldHash = true;\n            lockId = 'cm';\n        } else {\n            // Don't lock on enter.\n            if (0 === event.charCode) {\n                return;\n            }\n\n            lockId = $(this).data('lock-id');\n            if (typeof lockId === 'undefined') {\n                return;\n            }\n            /*\n             * @todo Fix Code mirror does not give correct full value (query)\n             * in textarea, it returns only the change in content.\n             */\n            if (event.data.value === 1) {\n                newHash = AJAX.hash($(this).val());\n            } else {\n                newHash = AJAX.hash($(this).is(':checked'));\n            }\n            oldHash = $(this).data('val-hash');\n        }\n        // Set lock if old value !== new value\n        // otherwise release lock\n        if (oldHash !== newHash) {\n            AJAX.lockedTargets[lockId] = true;\n        } else {\n            delete AJAX.lockedTargets[lockId];\n        }\n        // Show lock icon if locked targets is not empty.\n        // otherwise remove lock icon\n        if (!jQuery.isEmptyObject(AJAX.lockedTargets)) {\n            $('#lock_page_icon').html(Functions.getImage('s_lock', Messages.strLockToolTip).toString());\n        } else {\n            $('#lock_page_icon').html('');\n        }\n    },\n    /**\n     * resets the lock\n     *\n     * @return {void}\n     */\n    resetLock: function () {\n        AJAX.lockedTargets = {};\n        $('#lock_page_icon').html('');\n    },\n    handleMenu: {\n        replace: function (content) {\n            $('#floating_menubar').html(content)\n                // Remove duplicate wrapper\n                // TODO: don't send it in the response\n                .children().first().remove();\n            $('#topmenu').menuResizer(Functions.mainMenuResizerCallback);\n        }\n    },\n    /**\n     * Event handler for clicks on links and form submissions\n     *\n     * @param {KeyboardEvent} event Event data\n     *\n     * @return {boolean | void}\n     */\n    requestHandler: function (event) {\n        // In some cases we don't want to handle the request here and either\n        // leave the browser deal with it natively (e.g: file download)\n        // or leave an existing ajax event handler present elsewhere deal with it\n        var href = $(this).attr('href');\n        if (typeof event !== 'undefined' && (event.shiftKey || event.ctrlKey || event.metaKey)) {\n            return true;\n        } else if ($(this).attr('target')) {\n            return true;\n        } else if ($(this).hasClass('ajax') || $(this).hasClass('disableAjax')) {\n            // reset the lockedTargets object, as specified AJAX operation has finished\n            AJAX.resetLock();\n            return true;\n        } else if (href && href.match(/^#/)) {\n            return true;\n        } else if (href && href.match(/^mailto/)) {\n            return true;\n        } else if ($(this).hasClass('ui-datepicker-next') ||\n            $(this).hasClass('ui-datepicker-prev')\n        ) {\n            return true;\n        }\n\n        if (typeof event !== 'undefined') {\n            event.preventDefault();\n            event.stopImmediatePropagation();\n        }\n\n        // triggers a confirm dialog if:\n        // the user has performed some operations on loaded page\n        // the user clicks on some link, (won't trigger for buttons)\n        // the click event is not triggered by script\n        if (typeof event !== 'undefined' && event.type === 'click' &&\n            event.isTrigger !== true &&\n            !jQuery.isEmptyObject(AJAX.lockedTargets) &&\n            confirm(Messages.strConfirmNavigation) === false\n        ) {\n            return false;\n        }\n        AJAX.resetLock();\n        var isLink = !! href || false;\n        var previousLinkAborted = false;\n\n        if (AJAX.active === true) {\n            // Cancel the old request if abortable, when the user requests\n            // something else. Otherwise silently bail out, as there is already\n            // a request well in progress.\n            if (AJAX.xhr) {\n                // In case of a link request, attempt aborting\n                AJAX.xhr.abort();\n                if (AJAX.xhr.status === 0 && AJAX.xhr.statusText === 'abort') {\n                    // If aborted\n                    AJAX.$msgbox = Functions.ajaxShowMessage(Messages.strAbortedRequest);\n                    AJAX.active = false;\n                    AJAX.xhr = null;\n                    previousLinkAborted = true;\n                } else {\n                    // If can't abort\n                    return false;\n                }\n            } else {\n                // In case submitting a form, don't attempt aborting\n                return false;\n            }\n        }\n\n        AJAX.source = $(this);\n\n        $('html, body').animate({ scrollTop: 0 }, 'fast');\n\n        var url = isLink ? href : $(this).attr('action');\n        var argsep = CommonParams.get('arg_separator');\n        var params = 'ajax_request=true' + argsep + 'ajax_page_request=true';\n        var dataPost = AJAX.source.getPostData();\n        if (! isLink) {\n            params += argsep + $(this).serialize();\n        } else if (dataPost) {\n            params += argsep + dataPost;\n            isLink = false;\n        }\n\n        if (AJAX.debug) {\n            // eslint-disable-next-line no-console\n            console.log('Loading: ' + url); // no need to translate\n        }\n\n        if (isLink) {\n            AJAX.active = true;\n            AJAX.$msgbox = Functions.ajaxShowMessage();\n            // Save reference for the new link request\n            AJAX.xhr = $.get(url, params, AJAX.responseHandler);\n            var state = {\n                url : href\n            };\n            if (previousLinkAborted) {\n                // hack: there is already an aborted entry on stack\n                // so just modify the aborted one\n                history.replaceState(state, null, href);\n            } else {\n                history.pushState(state, null, href);\n            }\n        } else {\n            /**\n             * Manually fire the onsubmit event for the form, if any.\n             * The event was saved in the jQuery data object by an onload\n             * handler defined below. Workaround for bug #3583316\n             */\n            var onsubmit = $(this).data('onsubmit');\n            // Submit the request if there is no onsubmit handler\n            // or if it returns a value that evaluates to true\n            if (typeof onsubmit !== 'function' || onsubmit.apply(this, [event])) {\n                AJAX.active = true;\n                AJAX.$msgbox = Functions.ajaxShowMessage();\n                if ($(this).attr('id') === 'login_form') {\n                    $.post(url, params, AJAX.loginResponseHandler);\n                } else {\n                    $.post(url, params, AJAX.responseHandler);\n                }\n            }\n        }\n    },\n    /**\n     * Response handler to handle login request from login modal after session expiration\n     *\n     * To refer to self use 'AJAX', instead of 'this' as this function\n     * is called in the jQuery context.\n     *\n     * @param {object} data Event data\n     *\n     * @return {void}\n     */\n    loginResponseHandler: function (data) {\n        if (typeof data === 'undefined' || data === null) {\n            return;\n        }\n        Functions.ajaxRemoveMessage(AJAX.$msgbox);\n\n        CommonParams.set('token', data.new_token);\n\n        AJAX.scriptHandler.load([]);\n\n        if (data.displayMessage) {\n            $('#page_content').prepend(data.displayMessage);\n            Functions.highlightSql($('#page_content'));\n        }\n\n        $('#pma_errors').remove();\n\n        var msg = '';\n        if (data.errSubmitMsg) {\n            msg = data.errSubmitMsg;\n        }\n        if (data.errors) {\n            $('<div></div>', { id : 'pma_errors', class : 'clearfloat d-print-none' })\n                .insertAfter('#selflink')\n                .append(data.errors);\n            // bind for php error reporting forms (bottom)\n            $('#pma_ignore_errors_bottom').on('click', function (e) {\n                e.preventDefault();\n                Functions.ignorePhpErrors();\n            });\n            $('#pma_ignore_all_errors_bottom').on('click', function (e) {\n                e.preventDefault();\n                Functions.ignorePhpErrors(false);\n            });\n            // In case of 'sendErrorReport'='always'\n            // submit the hidden error reporting form.\n            if (data.sendErrorAlways === '1' &&\n                data.stopErrorReportLoop !== '1'\n            ) {\n                $('#pma_report_errors_form').trigger('submit');\n                Functions.ajaxShowMessage(Messages.phpErrorsBeingSubmitted, false);\n                $('html, body').animate({ scrollTop:$(document).height() }, 'slow');\n            } else if (data.promptPhpErrors) {\n                // otherwise just prompt user if it is set so.\n                msg = msg + Messages.phpErrorsFound;\n                // scroll to bottom where all the errors are displayed.\n                $('html, body').animate({ scrollTop:$(document).height() }, 'slow');\n            }\n        }\n\n        Functions.ajaxShowMessage(msg, false);\n        // bind for php error reporting forms (popup)\n        $('#pma_ignore_errors_popup').on('click', function () {\n            Functions.ignorePhpErrors();\n        });\n        $('#pma_ignore_all_errors_popup').on('click', function () {\n            Functions.ignorePhpErrors(false);\n        });\n\n        if (typeof data.success !== 'undefined' && data.success) {\n            // reload page if user trying to login has changed\n            if (CommonParams.get('user') !== data.params.user) {\n                window.location = 'index.php';\n                Functions.ajaxShowMessage(Messages.strLoading, false);\n                AJAX.active = false;\n                AJAX.xhr = null;\n                return;\n            }\n            // remove the login modal if the login is successful otherwise show error.\n            if (typeof data.logged_in !== 'undefined' && data.logged_in === 1) {\n                if ($('#modalOverlay').length) {\n                    $('#modalOverlay').remove();\n                }\n                $('fieldset.disabled_for_expiration').removeAttr('disabled').removeClass('disabled_for_expiration');\n                AJAX.fireTeardown('functions.js');\n                AJAX.fireOnload('functions.js');\n            }\n            if (typeof data.new_token !== 'undefined') {\n                $('input[name=token]').val(data.new_token);\n            }\n        } else if (typeof data.logged_in !== 'undefined' && data.logged_in === 0) {\n            $('#modalOverlay').replaceWith(data.error);\n        } else {\n            Functions.ajaxShowMessage(data.error, false);\n            AJAX.active = false;\n            AJAX.xhr = null;\n            Functions.handleRedirectAndReload(data);\n            if (data.fieldWithError) {\n                $(':input.error').removeClass('error');\n                $('#' + data.fieldWithError).addClass('error');\n            }\n        }\n    },\n    /**\n     * Called after the request that was initiated by this.requestHandler()\n     * has completed successfully or with a caught error. For completely\n     * failed requests or requests with uncaught errors, see the .ajaxError\n     * handler at the bottom of this file.\n     *\n     * To refer to self use 'AJAX', instead of 'this' as this function\n     * is called in the jQuery context.\n     *\n     * @param {object} data Event data\n     *\n     * @return {void}\n     */\n    responseHandler: function (data) {\n        if (typeof data === 'undefined' || data === null) {\n            return;\n        }\n        if (typeof data.success !== 'undefined' && data.success) {\n            $('html, body').animate({ scrollTop: 0 }, 'fast');\n            Functions.ajaxRemoveMessage(AJAX.$msgbox);\n\n            if (data.redirect) {\n                Functions.ajaxShowMessage(data.redirect, false);\n                AJAX.active = false;\n                AJAX.xhr = null;\n                return;\n            }\n\n            AJAX.scriptHandler.reset(function () {\n                if (data.reloadNavigation) {\n                    Navigation.reload();\n                }\n                if (data.title) {\n                    $('title').replaceWith(data.title);\n                }\n                if (data.menu) {\n                    var state = {\n                        url : data.selflink,\n                        menu : data.menu\n                    };\n                    history.replaceState(state, null);\n                    AJAX.handleMenu.replace(data.menu);\n                }\n                if (data.disableNaviSettings) {\n                    Navigation.disableSettings();\n                } else {\n                    Navigation.ensureSettings(data.selflink);\n                }\n\n                // Remove all containers that may have\n                // been added outside of #page_content\n                $('body').children()\n                    .not('#pma_navigation')\n                    .not('#floating_menubar')\n                    .not('#page_nav_icons')\n                    .not('#page_content')\n                    .not('#selflink')\n                    .not('#pma_header')\n                    .not('#pma_footer')\n                    .not('#pma_demo')\n                    .not('#pma_console_container')\n                    .not('#prefs_autoload')\n                    .remove();\n                // Replace #page_content with new content\n                if (data.message && data.message.length > 0) {\n                    $('#page_content').replaceWith(\n                        '<div id=\\'page_content\\'>' + data.message + '</div>'\n                    );\n                    Functions.highlightSql($('#page_content'));\n                    Functions.checkNumberOfFields();\n                }\n\n                if (data.selflink) {\n                    var source = data.selflink.split('?')[0];\n                    // Check for faulty links\n                    var $selflinkReplace = {\n                        'index.php?route=/import': 'index.php?route=/table/sql',\n                        'index.php?route=/table/chart': 'index.php?route=/sql',\n                        'index.php?route=/table/gis-visualization': 'index.php?route=/sql'\n                    };\n                    if ($selflinkReplace[source]) {\n                        var replacement = $selflinkReplace[source];\n                        data.selflink = data.selflink.replace(source, replacement);\n                    }\n                    $('#selflink').find('> a').attr('href', data.selflink);\n                }\n                if (data.params) {\n                    CommonParams.setAll(data.params);\n                }\n                if (data.scripts) {\n                    AJAX.scriptHandler.load(data.scripts);\n                }\n                if (data.displayMessage) {\n                    $('#page_content').prepend(data.displayMessage);\n                    Functions.highlightSql($('#page_content'));\n                }\n\n                $('#pma_errors').remove();\n\n                var msg = '';\n                if (data.errSubmitMsg) {\n                    msg = data.errSubmitMsg;\n                }\n                if (data.errors) {\n                    $('<div></div>', { id : 'pma_errors', class : 'clearfloat d-print-none' })\n                        .insertAfter('#selflink')\n                        .append(data.errors);\n                    // bind for php error reporting forms (bottom)\n                    $('#pma_ignore_errors_bottom').on('click', function (e) {\n                        e.preventDefault();\n                        Functions.ignorePhpErrors();\n                    });\n                    $('#pma_ignore_all_errors_bottom').on('click', function (e) {\n                        e.preventDefault();\n                        Functions.ignorePhpErrors(false);\n                    });\n                    // In case of 'sendErrorReport'='always'\n                    // submit the hidden error reporting form.\n                    if (data.sendErrorAlways === '1' &&\n                        data.stopErrorReportLoop !== '1'\n                    ) {\n                        $('#pma_report_errors_form').trigger('submit');\n                        Functions.ajaxShowMessage(Messages.phpErrorsBeingSubmitted, false);\n                        $('html, body').animate({ scrollTop:$(document).height() }, 'slow');\n                    } else if (data.promptPhpErrors) {\n                        // otherwise just prompt user if it is set so.\n                        msg = msg + Messages.phpErrorsFound;\n                        // scroll to bottom where all the errors are displayed.\n                        $('html, body').animate({ scrollTop:$(document).height() }, 'slow');\n                    }\n                }\n                Functions.ajaxShowMessage(msg, false);\n                // bind for php error reporting forms (popup)\n                $('#pma_ignore_errors_popup').on('click', function () {\n                    Functions.ignorePhpErrors();\n                });\n                $('#pma_ignore_all_errors_popup').on('click', function () {\n                    Functions.ignorePhpErrors(false);\n                });\n\n                if (typeof AJAX.callback === 'function') {\n                    AJAX.callback.call();\n                }\n                AJAX.callback = function () {};\n            });\n        } else {\n            Functions.ajaxShowMessage(data.error, false);\n            Functions.ajaxRemoveMessage(AJAX.$msgbox);\n            var $ajaxError = $('<div></div>');\n            $ajaxError.attr({ 'id': 'ajaxError' });\n            $('#page_content').append($ajaxError);\n            $ajaxError.html(data.error);\n            $('html, body').animate({ scrollTop: $(document).height() }, 200);\n            AJAX.active = false;\n            AJAX.xhr = null;\n            Functions.handleRedirectAndReload(data);\n            if (data.fieldWithError) {\n                $(':input.error').removeClass('error');\n                $('#' + data.fieldWithError).addClass('error');\n            }\n        }\n    },\n    /**\n     * This object is in charge of downloading scripts,\n     * keeping track of what's downloaded and firing\n     * the onload event for them when the page is ready.\n     */\n    scriptHandler: {\n        /**\n         * @var {string[]} scripts The list of files already downloaded\n         */\n        scripts: [],\n        /**\n         * @var {string} scriptsVersion version of phpMyAdmin from which the\n         *                              scripts have been loaded\n         */\n        scriptsVersion: null,\n        /**\n         * @var {string[]} scriptsToBeLoaded The list of files that\n         *                                   need to be downloaded\n         */\n        scriptsToBeLoaded: [],\n        /**\n         * @var {string[]} scriptsToBeFired The list of files for which\n         *                                  to fire the onload and unload events\n         */\n        scriptsToBeFired: [],\n        scriptsCompleted: false,\n        /**\n         * Records that a file has been downloaded\n         *\n         * @param {string} file The filename\n         * @param {string} fire Whether this file will be registering\n         *                      onload/teardown events\n         *\n         * @return {self} For chaining\n         */\n        add: function (file, fire) {\n            this.scripts.push(file);\n            if (fire) {\n                // Record whether to fire any events for the file\n                // This is necessary to correctly tear down the initial page\n                this.scriptsToBeFired.push(file);\n            }\n            return this;\n        },\n        /**\n         * Download a list of js files in one request\n         *\n         * @param {string[]} files An array of filenames and flags\n         * @param {Function} callback\n         *\n         * @return {void}\n         */\n        load: function (files, callback) {\n            var self = this;\n            var i;\n            // Clear loaded scripts if they are from another version of phpMyAdmin.\n            // Depends on common params being set before loading scripts in responseHandler\n            if (self.scriptsVersion === null) {\n                self.scriptsVersion = CommonParams.get('version');\n            } else if (self.scriptsVersion !== CommonParams.get('version')) {\n                self.scripts = [];\n                self.scriptsVersion = CommonParams.get('version');\n            }\n            self.scriptsCompleted = false;\n            self.scriptsToBeFired = [];\n            // We need to first complete list of files to load\n            // as next loop will directly fire requests to load them\n            // and that triggers removal of them from\n            // self.scriptsToBeLoaded\n            for (i in files) {\n                self.scriptsToBeLoaded.push(files[i].name);\n                if (files[i].fire) {\n                    self.scriptsToBeFired.push(files[i].name);\n                }\n            }\n            for (i in files) {\n                var script = files[i].name;\n                // Only for scripts that we don't already have\n                if ($.inArray(script, self.scripts) === -1) {\n                    this.add(script);\n                    this.appendScript(script, callback);\n                } else {\n                    self.done(script, callback);\n                }\n            }\n            // Trigger callback if there is nothing else to load\n            self.done(null, callback);\n        },\n        /**\n         * Called whenever all files are loaded\n         *\n         * @param {string} script\n         * @param {Function?} callback\n         *\n         * @return {void}\n         */\n        done: function (script, callback) {\n            if ($.inArray(script, this.scriptsToBeFired)) {\n                AJAX.fireOnload(script);\n            }\n            if ($.inArray(script, this.scriptsToBeLoaded)) {\n                this.scriptsToBeLoaded.splice($.inArray(script, this.scriptsToBeLoaded), 1);\n            }\n            if (script === null) {\n                this.scriptsCompleted = true;\n            }\n            /* We need to wait for last signal (with null) or last script load */\n            AJAX.active = (this.scriptsToBeLoaded.length > 0) || ! this.scriptsCompleted;\n            /* Run callback on last script */\n            if (! AJAX.active && typeof callback === 'function') {\n                callback();\n            }\n        },\n        /**\n         * Appends a script element to the head to load the scripts\n         *\n         * @param {string} name\n         * @param {Function} callback\n         *\n         * @return {void}\n         */\n        appendScript: function (name, callback) {\n            var head = document.head || document.getElementsByTagName('head')[0];\n            var script = document.createElement('script');\n            var self = this;\n\n            script.type = 'text/javascript';\n            var file = name.indexOf('vendor/') !== -1 ? name : 'dist/' + name;\n            script.src = 'js/' + file + '?' + 'v=' + encodeURIComponent(CommonParams.get('version'));\n            script.async = false;\n            script.onload = function () {\n                self.done(name, callback);\n            };\n            head.appendChild(script);\n        },\n        /**\n         * Fires all the teardown event handlers for the current page\n         * and rebinds all forms and links to the request handler\n         *\n         * @param {Function} callback The callback to call after resetting\n         *\n         * @return {void}\n         */\n        reset: function (callback) {\n            for (var i in this.scriptsToBeFired) {\n                AJAX.fireTeardown(this.scriptsToBeFired[i]);\n            }\n            this.scriptsToBeFired = [];\n            /**\n             * Re-attach a generic event handler to clicks\n             * on pages and submissions of forms\n             */\n            $(document).off('click', 'a').on('click', 'a', AJAX.requestHandler);\n            $(document).off('submit', 'form').on('submit', 'form', AJAX.requestHandler);\n            callback();\n        }\n    }\n};\n\n/**\n * Here we register a function that will remove the onsubmit event from all\n * forms that will be handled by the generic page loader. We then save this\n * event handler in the \"jQuery data\", so that we can fire it up later in\n * AJAX.requestHandler().\n *\n * See bug #3583316\n */\nAJAX.registerOnload('functions.js', function () {\n    // Registering the onload event for functions.js\n    // ensures that it will be fired for all pages\n    $('form').not('.ajax').not('.disableAjax').each(function () {\n        if ($(this).attr('onsubmit')) {\n            $(this).data('onsubmit', this.onsubmit).attr('onsubmit', '');\n        }\n    });\n\n    var $pageContent = $('#page_content');\n    /**\n     * Workaround for passing submit button name,value on ajax form submit\n     * by appending hidden element with submit button name and value.\n     */\n    $pageContent.on('click', 'form input[type=submit]', function () {\n        var buttonName = $(this).attr('name');\n        if (typeof buttonName === 'undefined') {\n            return;\n        }\n        $(this).closest('form').append($('<input>', {\n            'type' : 'hidden',\n            'name' : buttonName,\n            'value': $(this).val()\n        }));\n    });\n\n    /**\n     * Attach event listener to events when user modify visible\n     * Input,Textarea and select fields to make changes in forms\n     */\n    $pageContent.on(\n        'keyup change',\n        'form.lock-page textarea, ' +\n        'form.lock-page input[type=\"text\"], ' +\n        'form.lock-page input[type=\"number\"], ' +\n        'form.lock-page select',\n        { value:1 },\n        AJAX.lockPageHandler\n    );\n    $pageContent.on(\n        'change',\n        'form.lock-page input[type=\"checkbox\"], ' +\n        'form.lock-page input[type=\"radio\"]',\n        { value:2 },\n        AJAX.lockPageHandler\n    );\n    /**\n     * Reset lock when lock-page form reset event is fired\n     * Note: reset does not bubble in all browser so attach to\n     * form directly.\n     */\n    $('form.lock-page').on('reset', function () {\n        AJAX.resetLock();\n    });\n});\n\n/**\n * Page load event handler\n */\n$(function () {\n    var menuContent = $('<div></div>')\n        .append($('#server-breadcrumb').clone())\n        .append($('#topmenucontainer').clone())\n        .html();\n\n    // set initial state reload\n    var initState = ('state' in window.history && window.history.state !== null);\n    var initURL = $('#selflink').find('> a').attr('href') || location.href;\n    var state = {\n        url : initURL,\n        menu : menuContent\n    };\n    history.replaceState(state, null);\n\n    $(window).on('popstate', function (event) {\n        var initPop = (! initState && location.href === initURL);\n        initState = true;\n        // check if popstate fired on first page itself\n        if (initPop) {\n            return;\n        }\n        var state = event.originalEvent.state;\n        if (state && state.menu) {\n            AJAX.$msgbox = Functions.ajaxShowMessage();\n            var params = 'ajax_request=true' + CommonParams.get('arg_separator') + 'ajax_page_request=true';\n            var url = state.url || location.href;\n            $.get(url, params, AJAX.responseHandler);\n            // TODO: Check if sometimes menu is not retrieved from server,\n            // Not sure but it seems menu was missing only for printview which\n            // been removed lately, so if it's right some dead menu checks/fallbacks\n            // may need to be removed from this file and Header.php\n            // AJAX.handleMenu.replace(event.originalEvent.state.menu);\n        }\n    });\n});\n\n/**\n * Attach a generic event handler to clicks\n * on pages and submissions of forms\n */\n$(document).on('click', 'a', AJAX.requestHandler);\n$(document).on('submit', 'form', AJAX.requestHandler);\n\n/**\n * Gracefully handle fatal server errors\n * (e.g: 500 - Internal server error)\n */\n$(document).on('ajaxError', function (event, request) {\n    if (AJAX.debug) {\n        // eslint-disable-next-line no-console\n        console.log('AJAX error: status=' + request.status + ', text=' + request.statusText);\n    }\n    // Don't handle aborted requests\n    if (request.status !== 0 || request.statusText !== 'abort') {\n        var details = '';\n        var state = request.state();\n\n        if (\n            'responseJSON' in request &&\n            'isErrorResponse' in request.responseJSON &&\n            request.responseJSON.isErrorResponse\n        ) {\n            Functions.ajaxShowMessage(\n                '<div class=\"alert alert-danger\" role=\"alert\">' +\n                Functions.escapeHtml(request.responseJSON.error) +\n                '</div>',\n                false\n            );\n            AJAX.active = false;\n            AJAX.xhr = null;\n\n            return;\n        }\n\n        if (request.status !== 0) {\n            details += '<div>' + Functions.escapeHtml(Functions.sprintf(Messages.strErrorCode, request.status)) + '</div>';\n        }\n        details += '<div>' + Functions.escapeHtml(Functions.sprintf(Messages.strErrorText, request.statusText + ' (' + state + ')')) + '</div>';\n        if (state === 'rejected' || state === 'timeout') {\n            details += '<div>' + Functions.escapeHtml(Messages.strErrorConnection) + '</div>';\n        }\n        Functions.ajaxShowMessage(\n            '<div class=\"alert alert-danger\" role=\"alert\">' +\n            Messages.strErrorProcessingRequest +\n            details +\n            '</div>',\n            false\n        );\n        AJAX.active = false;\n        AJAX.xhr = null;\n    }\n});\n"],"names":["AJAX","active","source","xhr","lockedTargets","callback","debug","$msgbox","hash","key","newKey","len","length","i","charCodeAt","Math","abs","registerOnload","file","func","eventName","$","document","on","console","log","registerTeardown","fireOnload","trigger","fireTeardown","triggerHandler","lockPageHandler","event","target","type","newHash","oldHash","lockId","data","value","content","charCode","val","is","jQuery","isEmptyObject","html","Functions","getImage","Messages","strLockToolTip","toString","resetLock","handleMenu","replace","children","first","remove","menuResizer","mainMenuResizerCallback","requestHandler","href","attr","shiftKey","ctrlKey","metaKey","hasClass","match","preventDefault","stopImmediatePropagation","isTrigger","confirm","strConfirmNavigation","isLink","previousLinkAborted","abort","status","statusText","ajaxShowMessage","strAbortedRequest","animate","scrollTop","url","argsep","CommonParams","get","params","dataPost","getPostData","serialize","responseHandler","state","history","replaceState","pushState","onsubmit","apply","post","loginResponseHandler","ajaxRemoveMessage","set","new_token","scriptHandler","load","displayMessage","prepend","highlightSql","msg","errSubmitMsg","errors","id","class","insertAfter","append","e","ignorePhpErrors","sendErrorAlways","stopErrorReportLoop","phpErrorsBeingSubmitted","height","promptPhpErrors","phpErrorsFound","success","user","window","location","strLoading","logged_in","removeAttr","removeClass","replaceWith","error","handleRedirectAndReload","fieldWithError","addClass","redirect","reset","reloadNavigation","Navigation","reload","title","menu","selflink","disableNaviSettings","disableSettings","ensureSettings","not","message","checkNumberOfFields","split","$selflinkReplace","replacement","find","setAll","scripts","call","$ajaxError","scriptsVersion","scriptsToBeLoaded","scriptsToBeFired","scriptsCompleted","add","fire","push","files","self","name","script","inArray","appendScript","done","splice","head","getElementsByTagName","createElement","indexOf","src","encodeURIComponent","async","onload","appendChild","off","each","$pageContent","buttonName","closest","menuContent","clone","initState","initURL","initPop","originalEvent","request","details","responseJSON","isErrorResponse","escapeHtml","sprintf","strErrorCode","strErrorText","strErrorConnection","strErrorProcessingRequest"],"sourceRoot":""}