{"version":3,"file":"jquery.sortable-table.js","mappings":"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","sources":["webpack://phpmyadmin/./js/src/jquery.sortable-table.js"],"sourcesContent":["/**\n * This file is internal to phpMyAdmin.\n * @license see the main phpMyAdmin license.\n *\n * @fileoverview    A jquery plugin that allows drag&drop sorting in tables.\n *                  Coded because JQuery UI sortable doesn't support tables. Also it has no animation\n *\n * @name            Sortable Table JQuery plugin\n *\n * @requires        jQuery\n */\n\n/**\n * Options:\n *\n * $('table').sortableTable({\n *   ignoreRect: { top, left, width, height } - Relative coordinates on each element. If the user clicks\n *                                              in this area, it is not seen as a drag&drop request. Useful for toolbars etc.\n *   events: {\n *     start: callback function when the user starts dragging\n *     drop: callback function after an element has been dropped\n *   }\n * })\n */\n\n/**\n * Commands:\n *\n * $('table').sortableTable('init')    - equivalent to $('table').sortableTable()\n * $('table').sortableTable('refresh') - if the table has been changed, refresh correctly assigns all events again\n * $('table').sortableTable('destroy') - removes all events from the table\n */\n\n/**\n * Setup:\n *\n * Can be applied on any table, there is just one convention.\n * Each cell (<td>) has to contain one and only one element (preferably div or span)\n * which is the actually draggable element.\n */\n(function ($) {\n    jQuery.fn.sortableTable = function (method) {\n        var methods = {\n            init: function (options) {\n                var tb = new SortableTableInstance(this, options);\n                tb.init();\n                $(this).data('sortableTable', tb);\n            },\n            refresh: function () {\n                $(this).data('sortableTable').refresh();\n            },\n            destroy: function () {\n                $(this).data('sortableTable').destroy();\n            }\n        };\n\n        if (methods[method]) {\n            return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));\n        } else if (typeof method === 'object' || !method) {\n            return methods.init.apply(this, arguments);\n        } else {\n            $.error('Method ' + method + ' does not exist on jQuery.sortableTable');\n        }\n\n        function SortableTableInstance (table, options = {}) {\n            var down = false;\n            var $draggedEl;\n            var oldCell;\n            var previewMove;\n            var id;\n\n            /* Mouse handlers on the child elements */\n            var onMouseUp = function (e) {\n                dropAt(e.pageX, e.pageY);\n            };\n\n            var onMouseDown = function (e) {\n                $draggedEl = $(this).children();\n                if ($draggedEl.length === 0) {\n                    return;\n                }\n                if (options.ignoreRect && insideRect({ x: e.pageX - $draggedEl.offset().left, y: e.pageY - $draggedEl.offset().top }, options.ignoreRect)) {\n                    return;\n                }\n\n                down = true;\n                oldCell = this;\n\n                if (options.events && options.events.start) {\n                    options.events.start(this);\n                }\n\n                return false;\n            };\n\n            var globalMouseMove = function (e) {\n                if (down) {\n                    move(e.pageX, e.pageY);\n\n                    if (inside($(oldCell), e.pageX, e.pageY)) {\n                        if (previewMove !== null) {\n                            moveTo(previewMove);\n                            previewMove = null;\n                        }\n                    } else {\n                        $(table).find('td').each(function () {\n                            if (inside($(this), e.pageX, e.pageY)) {\n                                if ($(previewMove).attr('class') !== $(this).children().first().attr('class')) {\n                                    if (previewMove !== null) {\n                                        moveTo(previewMove);\n                                    }\n                                    previewMove = $(this).children().first();\n                                    if (previewMove.length > 0) {\n                                        moveTo($(previewMove), {\n                                            pos: {\n                                                top: $(oldCell).offset().top - $(previewMove).parent().offset().top,\n                                                left: $(oldCell).offset().left - $(previewMove).parent().offset().left\n                                            }\n                                        });\n                                    }\n                                }\n\n                                return false;\n                            }\n                        });\n                    }\n                }\n\n                return false;\n            };\n\n            var globalMouseOut = function () {\n                if (down) {\n                    down = false;\n                    if (previewMove) {\n                        moveTo(previewMove);\n                    }\n                    moveTo($draggedEl);\n                    previewMove = null;\n                }\n            };\n\n            // Initialize sortable table\n            this.init = function () {\n                id = 1;\n                // Add some required css to each child element in the <td>s\n                $(table).find('td').children().each(function () {\n                    // Remove any old occurrences of our added draggable-num class\n                    $(this).attr('class', $(this).attr('class').replace(/\\s*draggable-\\d+/g, ''));\n                    $(this).addClass('draggable-' + (id++));\n                });\n\n                // Mouse events\n                $(table).find('td').on('mouseup', onMouseUp);\n                $(table).find('td').on('mousedown', onMouseDown);\n\n                $(document).on('mousemove', globalMouseMove);\n                $(document).on('mouseleave', globalMouseOut);\n            };\n\n            // Call this when the table has been updated\n            this.refresh = function () {\n                this.destroy();\n                this.init();\n            };\n\n            this.destroy = function () {\n                // Add some required css to each child element in the <td>s\n                $(table).find('td').children().each(function () {\n                    // Remove any old occurrences of our added draggable-num class\n                    $(this).attr('class', $(this).attr('class').replace(/\\s*draggable-\\d+/g, ''));\n                });\n\n                // Mouse events\n                $(table).find('td').off('mouseup', onMouseUp);\n                $(table).find('td').off('mousedown', onMouseDown);\n\n                $(document).off('mousemove', globalMouseMove);\n                $(document).off('mouseleave', globalMouseOut);\n            };\n\n            function switchElement (drag, dropTo) {\n                var dragPosDiff = {\n                    left: $(drag).children().first().offset().left - $(dropTo).offset().left,\n                    top: $(drag).children().first().offset().top - $(dropTo).offset().top\n                };\n\n                var dropPosDiff = null;\n                if ($(dropTo).children().length > 0) {\n                    dropPosDiff = {\n                        left: $(dropTo).children().first().offset().left - $(drag).offset().left,\n                        top: $(dropTo).children().first().offset().top - $(drag).offset().top\n                    };\n                }\n\n                /* I love you append(). It moves the DOM Elements so gracefully <3 */\n                // Put the element in the way to old place\n                $(drag).append($(dropTo).children().first()).children()\n                    .stop(true, true)\n                    .on('mouseup', onMouseUp);\n\n                if (dropPosDiff) {\n                    $(drag).append($(dropTo).children().first()).children()\n                        .css('left', dropPosDiff.left + 'px')\n                        .css('top', dropPosDiff.top + 'px');\n                }\n\n                // Put our dragged element into the space we just freed up\n                $(dropTo).append($(drag).children().first()).children()\n                    .on('mouseup', onMouseUp)\n                    .css('left', dragPosDiff.left + 'px')\n                    .css('top', dragPosDiff.top + 'px');\n\n                moveTo($(dropTo).children().first(), { duration: 100 });\n                moveTo($(drag).children().first(), { duration: 100 });\n\n                if (options.events && options.events.drop) {\n                    // Drop event. The drag child element is moved into the drop element\n                    // and vice versa. So the parameters are switched.\n\n                    // Calculate row and column index\n                    const colIdx = $(dropTo).prevAll().length;\n                    const rowIdx = $(dropTo).parent().prevAll().length;\n\n                    options.events.drop(drag, dropTo, { col: colIdx, row: rowIdx });\n                }\n            }\n\n            function move (x, y) {\n                $draggedEl.offset({\n                    top: Math.min($(document).height(), Math.max(0, y - $draggedEl.height() / 2)),\n                    left: Math.min($(document).width(), Math.max(0, x - $draggedEl.width() / 2))\n                });\n            }\n\n            function inside ($el, x, y) {\n                var off = $el.offset();\n                return y >= off.top && x >= off.left && x < off.left + $el.width() && y < off.top + $el.height();\n            }\n\n            function insideRect (pos, r) {\n                return pos.y > r.top && pos.x > r.left && pos.y < r.top + r.height && pos.x < r.left + r.width;\n            }\n\n            function dropAt (x, y) {\n                if (!down) {\n                    return;\n                }\n                down = false;\n\n                var switched = false;\n\n                $(table).find('td').each(function () {\n                    if ($(this).children().first().attr('class') !== $(oldCell).children().first().attr('class') && inside($(this), x, y)) {\n                        switchElement(oldCell, this);\n                        switched = true;\n                    }\n                });\n\n                if (!switched) {\n                    if (previewMove) {\n                        moveTo(previewMove);\n                    }\n                    moveTo($draggedEl);\n                }\n\n                previewMove = null;\n            }\n\n            function moveTo (elem, opts = {}) {\n                if (!opts.pos) {\n                    opts.pos = { left: 0, top: 0 };\n                }\n                if (!opts.duration) {\n                    opts.duration = 200;\n                }\n\n                $(elem).css('position', 'relative');\n                $(elem).animate({ top: opts.pos.top, left: opts.pos.left }, {\n                    duration: opts.duration,\n                    complete: function () {\n                        if (opts.pos.left === 0 && opts.pos.top === 0) {\n                            $(elem)\n                                .css('position', '')\n                                .css('left', '')\n                                .css('top', '');\n                        }\n                    }\n                });\n            }\n        }\n    };\n}(jQuery));\n"],"names":["$","jQuery","fn","sortableTable","method","methods","init","options","tb","SortableTableInstance","data","refresh","destroy","apply","Array","prototype","slice","call","arguments","error","table","down","$draggedEl","oldCell","previewMove","id","onMouseUp","e","dropAt","pageX","pageY","onMouseDown","children","length","ignoreRect","insideRect","x","offset","left","y","top","events","start","globalMouseMove","move","inside","moveTo","find","each","attr","first","pos","parent","globalMouseOut","replace","addClass","on","document","off","switchElement","drag","dropTo","dragPosDiff","dropPosDiff","append","stop","css","duration","drop","colIdx","prevAll","rowIdx","col","row","Math","min","height","max","width","$el","r","switched","elem","opts","animate","complete"],"sourceRoot":""}