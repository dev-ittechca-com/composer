{"version":3,"file":"jquery.sortable-table.js","mappings":"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","sources":["webpack://phpmyadmin/external var \"jQuery\"","webpack://phpmyadmin/./js/src/jquery.sortable-table.js"],"sourcesContent":["module.exports = jQuery;","import $ from 'jquery';\n\n/**\n * This file is internal to phpMyAdmin.\n * @license see the main phpMyAdmin license.\n *\n * @fileoverview    A jquery plugin that allows drag&drop sorting in tables.\n *                  Coded because JQuery UI sortable doesn't support tables. Also it has no animation\n *\n * @name            Sortable Table JQuery plugin\n *\n * @requires        jQuery\n */\n\n/**\n * Options:\n *\n * $('table').sortableTable({\n *   ignoreRect: { top, left, width, height } - Relative coordinates on each element. If the user clicks\n *                                              in this area, it is not seen as a drag&drop request. Useful for toolbars etc.\n *   events: {\n *     start: callback function when the user starts dragging\n *     drop: callback function after an element has been dropped\n *   }\n * })\n */\n\n/**\n * Commands:\n *\n * $('table').sortableTable('init')    - equivalent to $('table').sortableTable()\n * $('table').sortableTable('refresh') - if the table has been changed, refresh correctly assigns all events again\n * $('table').sortableTable('destroy') - removes all events from the table\n */\n\n/**\n * Setup:\n *\n * Can be applied on any table, there is just one convention.\n * Each cell (<td>) has to contain one and only one element (preferably div or span)\n * which is the actually draggable element.\n */\n(function ($) {\n    $.fn.sortableTable = function (method) {\n        var methods = {\n            init: function (options) {\n                var tb = new SortableTableInstance(this, options);\n                tb.init();\n                $(this).data('sortableTable', tb);\n            },\n            refresh: function () {\n                $(this).data('sortableTable').refresh();\n            },\n            destroy: function () {\n                $(this).data('sortableTable').destroy();\n            }\n        };\n\n        if (methods[method]) {\n            return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));\n        } else if (typeof method === 'object' || ! method) {\n            return methods.init.apply(this, arguments);\n        } else {\n            $.error('Method ' + method + ' does not exist on jQuery.sortableTable');\n        }\n\n        function SortableTableInstance (table, options = {}) {\n            var down = false;\n            var $draggedEl;\n            var oldCell;\n            var previewMove;\n            var id;\n\n            /* Mouse handlers on the child elements */\n            var onMouseUp = function (e) {\n                dropAt(e.pageX, e.pageY);\n            };\n\n            var onMouseDown = function (e) {\n                $draggedEl = $(this).children();\n                if ($draggedEl.length === 0) {\n                    return;\n                }\n                if (options.ignoreRect && insideRect({\n                    x: e.pageX - $draggedEl.offset().left,\n                    y: e.pageY - $draggedEl.offset().top\n                }, options.ignoreRect)) {\n                    return;\n                }\n\n                down = true;\n                oldCell = this;\n\n                if (options.events && options.events.start) {\n                    options.events.start(this);\n                }\n\n                return false;\n            };\n\n            var globalMouseMove = function (e) {\n                if (down) {\n                    move(e.pageX, e.pageY);\n\n                    if (inside($(oldCell), e.pageX, e.pageY)) {\n                        if (previewMove !== null) {\n                            moveTo(previewMove);\n                            previewMove = null;\n                        }\n                    } else {\n                        $(table).find('td').each(function () {\n                            if (inside($(this), e.pageX, e.pageY)) {\n                                if ($(previewMove).attr('class') !== $(this).children().first().attr('class')) {\n                                    if (previewMove !== null) {\n                                        moveTo(previewMove);\n                                    }\n                                    previewMove = $(this).children().first();\n                                    if (previewMove.length > 0) {\n                                        moveTo($(previewMove), {\n                                            pos: {\n                                                top: $(oldCell).offset().top - $(previewMove).parent().offset().top,\n                                                left: $(oldCell).offset().left - $(previewMove).parent().offset().left\n                                            }\n                                        });\n                                    }\n                                }\n\n                                return false;\n                            }\n                        });\n                    }\n                }\n\n                return false;\n            };\n\n            var globalMouseOut = function () {\n                if (down) {\n                    down = false;\n                    if (previewMove) {\n                        moveTo(previewMove);\n                    }\n                    moveTo($draggedEl);\n                    previewMove = null;\n                }\n            };\n\n            // Initialize sortable table\n            this.init = function () {\n                id = 1;\n                // Add some required css to each child element in the <td>s\n                $(table).find('td').children().each(function () {\n                    // Remove any old occurrences of our added draggable-num class\n                    $(this).attr('class', $(this).attr('class').replace(/\\s*draggable-\\d+/g, ''));\n                    $(this).addClass('draggable-' + (id++));\n                });\n\n                // Mouse events\n                $(table).find('td').on('mouseup', onMouseUp);\n                $(table).find('td').on('mousedown', onMouseDown);\n\n                $(document).on('mousemove', globalMouseMove);\n                $(document).on('mouseleave', globalMouseOut);\n            };\n\n            // Call this when the table has been updated\n            this.refresh = function () {\n                this.destroy();\n                this.init();\n            };\n\n            this.destroy = function () {\n                // Add some required css to each child element in the <td>s\n                $(table).find('td').children().each(function () {\n                    // Remove any old occurrences of our added draggable-num class\n                    $(this).attr('class', $(this).attr('class').replace(/\\s*draggable-\\d+/g, ''));\n                });\n\n                // Mouse events\n                $(table).find('td').off('mouseup', onMouseUp);\n                $(table).find('td').off('mousedown', onMouseDown);\n\n                $(document).off('mousemove', globalMouseMove);\n                $(document).off('mouseleave', globalMouseOut);\n            };\n\n            function switchElement (drag, dropTo) {\n                var dragPosDiff = {\n                    left: $(drag).children().first().offset().left - $(dropTo).offset().left,\n                    top: $(drag).children().first().offset().top - $(dropTo).offset().top\n                };\n\n                var dropPosDiff = null;\n                if ($(dropTo).children().length > 0) {\n                    dropPosDiff = {\n                        left: $(dropTo).children().first().offset().left - $(drag).offset().left,\n                        top: $(dropTo).children().first().offset().top - $(drag).offset().top\n                    };\n                }\n\n                /* I love you append(). It moves the DOM Elements so gracefully <3 */\n                // Put the element in the way to old place\n                $(drag).append($(dropTo).children().first()).children()\n                    .stop(true, true)\n                    .on('mouseup', onMouseUp);\n\n                if (dropPosDiff) {\n                    $(drag).append($(dropTo).children().first()).children()\n                        .css('left', dropPosDiff.left + 'px')\n                        .css('top', dropPosDiff.top + 'px');\n                }\n\n                // Put our dragged element into the space we just freed up\n                $(dropTo).append($(drag).children().first()).children()\n                    .on('mouseup', onMouseUp)\n                    .css('left', dragPosDiff.left + 'px')\n                    .css('top', dragPosDiff.top + 'px');\n\n                moveTo($(dropTo).children().first(), { duration: 100 });\n                moveTo($(drag).children().first(), { duration: 100 });\n\n                if (options.events && options.events.drop) {\n                    // Drop event. The drag child element is moved into the drop element\n                    // and vice versa. So the parameters are switched.\n\n                    // Calculate row and column index\n                    const colIdx = $(dropTo).prevAll().length;\n                    const rowIdx = $(dropTo).parent().prevAll().length;\n\n                    options.events.drop(drag, dropTo, { col: colIdx, row: rowIdx });\n                }\n            }\n\n            function move (x, y) {\n                $draggedEl.offset({\n                    top: Math.min($(document).height(), Math.max(0, y - $draggedEl.height() / 2)),\n                    left: Math.min($(document).width(), Math.max(0, x - $draggedEl.width() / 2))\n                });\n            }\n\n            function inside ($el, x, y) {\n                var off = $el.offset();\n                return y >= off.top && x >= off.left && x < off.left + $el.width() && y < off.top + $el.height();\n            }\n\n            function insideRect (pos, r) {\n                return pos.y > r.top && pos.x > r.left && pos.y < r.top + r.height && pos.x < r.left + r.width;\n            }\n\n            function dropAt (x, y) {\n                if (! down) {\n                    return;\n                }\n                down = false;\n\n                var switched = false;\n\n                $(table).find('td').each(function () {\n                    if ($(this).children().first().attr('class') !== $(oldCell).children().first().attr('class') && inside($(this), x, y)) {\n                        switchElement(oldCell, this);\n                        switched = true;\n                    }\n                });\n\n                if (! switched) {\n                    if (previewMove) {\n                        moveTo(previewMove);\n                    }\n                    moveTo($draggedEl);\n                }\n\n                previewMove = null;\n            }\n\n            function moveTo (elem, opts = {}) {\n                if (! opts.pos) {\n                    opts.pos = { left: 0, top: 0 };\n                }\n                if (! opts.duration) {\n                    opts.duration = 200;\n                }\n\n                $(elem).css('position', 'relative');\n                $(elem).animate({ top: opts.pos.top, left: opts.pos.left }, {\n                    duration: opts.duration,\n                    complete: function () {\n                        if (opts.pos.left === 0 && opts.pos.top === 0) {\n                            $(elem)\n                                .css('position', '')\n                                .css('left', '')\n                                .css('top', '');\n                        }\n                    }\n                });\n            }\n        }\n    };\n}($));\n"],"names":["$","fn","sortableTable","method","methods","init","options","tb","SortableTableInstance","data","refresh","destroy","apply","Array","prototype","slice","call","arguments","error","table","down","$draggedEl","oldCell","previewMove","id","onMouseUp","e","dropAt","pageX","pageY","onMouseDown","children","length","ignoreRect","insideRect","x","offset","left","y","top","events","start","globalMouseMove","move","inside","moveTo","find","each","attr","first","pos","parent","globalMouseOut","replace","addClass","on","document","off","switchElement","drag","dropTo","dragPosDiff","dropPosDiff","append","stop","css","duration","drop","colIdx","prevAll","rowIdx","col","row","Math","min","height","max","width","$el","r","switched","elem","opts","animate","complete"],"sourceRoot":""}