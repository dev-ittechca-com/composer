{"version":3,"file":"shortcuts_handler.js","mappings":"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","sources":["webpack://phpmyadmin/external var \"jQuery\"","webpack://phpmyadmin/./js/src/shortcuts_handler.js"],"sourcesContent":["module.exports = jQuery;","import $ from 'jquery';\nimport { CommonParams } from './modules/common.js';\n\n/**\n * @fileoverview    Handle shortcuts in various pages\n * @name            Shortcuts handler\n *\n * @requires    jQuery\n * @requires    jQueryUI\n */\n\n/**\n * Register key events on load\n */\n$(function () {\n    var databaseOp = false;\n    var tableOp = false;\n    var keyD = 68;\n    var keyT = 84;\n    var keyK = 75;\n    var keyS = 83;\n    var keyF = 70;\n    var keyE = 69;\n    var keyH = 72;\n    var keyC = 67;\n    var keyBackSpace = 8;\n    $(document).on('keyup', function (e) {\n        // is a string but is also a boolean according to https://api.jquery.com/prop/\n        if ($(e.target).prop('contenteditable') === 'true' || $(e.target).prop('contenteditable') === true) {\n            return;\n        }\n\n        if (e.target.nodeName === 'INPUT' || e.target.nodeName === 'TEXTAREA' || e.target.nodeName === 'SELECT') {\n            return;\n        }\n\n        if (e.keyCode === keyD) {\n            setTimeout(function () {\n                databaseOp = false;\n            }, 2000);\n        } else if (e.keyCode === keyT) {\n            setTimeout(function () {\n                tableOp = false;\n            }, 2000);\n        }\n    });\n    $(document).on('keydown', function (e) {\n        // is a string but is also a boolean according to https://api.jquery.com/prop/\n        if ($(e.target).prop('contenteditable') === 'true' || $(e.target).prop('contenteditable') === true) {\n            return;\n        }\n\n        // disable the shortcuts when session has timed out.\n        if ($('#modalOverlay').length > 0) {\n            return;\n        }\n        if (e.ctrlKey && e.altKey && e.keyCode === keyC) {\n            window.Console.toggle();\n        }\n\n        if (e.ctrlKey && e.keyCode === keyK) {\n            e.preventDefault();\n            window.Console.toggle();\n        }\n\n        if (e.target.nodeName === 'INPUT' || e.target.nodeName === 'TEXTAREA' || e.target.nodeName === 'SELECT') {\n            return;\n        }\n\n        var isTable;\n        var isDb;\n        if (e.keyCode === keyD) {\n            databaseOp = true;\n        } else if (e.keyCode === keyK) {\n            e.preventDefault();\n            window.Console.toggle();\n        } else if (e.keyCode === keyS) {\n            if (databaseOp === true) {\n                isTable = CommonParams.get('table');\n                isDb = CommonParams.get('db');\n                if (isDb && ! isTable) {\n                    $('.nav-link .ic_b_props').first().trigger('click');\n                }\n            } else if (tableOp === true) {\n                isTable = CommonParams.get('table');\n                isDb = CommonParams.get('db');\n                if (isDb && isTable) {\n                    $('.nav-link .ic_b_props').first().trigger('click');\n                }\n            } else {\n                $('#pma_navigation_settings_icon').trigger('click');\n            }\n        } else if (e.keyCode === keyF) {\n            if (databaseOp === true) {\n                isTable = CommonParams.get('table');\n                isDb = CommonParams.get('db');\n                if (isDb && ! isTable) {\n                    $('.nav-link .ic_b_search').first().trigger('click');\n                }\n            } else if (tableOp === true) {\n                isTable = CommonParams.get('table');\n                isDb = CommonParams.get('db');\n                if (isDb && isTable) {\n                    $('.nav-link .ic_b_search').first().trigger('click');\n                }\n            }\n        } else if (e.keyCode === keyT) {\n            tableOp = true;\n        } else if (e.keyCode === keyE) {\n            $('.ic_b_export').first().trigger('click');\n        } else if (e.keyCode === keyBackSpace) {\n            window.history.back();\n        } else if (e.keyCode === keyH) {\n            $('.ic_b_home').first().trigger('click');\n        }\n    });\n});\n"],"names":["$","CommonParams","databaseOp","tableOp","keyD","keyT","keyK","keyS","keyF","keyE","keyH","keyC","keyBackSpace","document","on","e","target","prop","nodeName","keyCode","setTimeout","length","ctrlKey","altKey","window","Console","toggle","preventDefault","isTable","isDb","get","first","trigger","history","back"],"sourceRoot":""}