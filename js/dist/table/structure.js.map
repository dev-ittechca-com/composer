{"version":3,"file":"table/structure.js","mappings":"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","sources":["webpack://phpmyadmin/./js/src/table/structure.js"],"sourcesContent":["/**\n * @fileoverview    functions used on the table structure page\n * @name            Table Structure\n *\n * @requires    jQuery\n * @requires    jQueryUI\n * @required    js/functions.js\n */\n\n// eslint-disable-next-line no-unused-vars\n/* global primaryIndexes:writable, indexes:writable, fulltextIndexes:writable, spatialIndexes:writable */ // js/functions.js\n/* global sprintf */ // js/vendor/sprintf.js\n\n/**\n * AJAX scripts for /table/structure\n *\n * Actions ajaxified here:\n * Drop Column\n * Add Primary Key\n * Drop Primary Key/Index\n *\n */\n\n/**\n * Reload fields table\n */\nfunction reloadFieldForm () {\n    $.post($('#fieldsForm').attr('action'), $('#fieldsForm').serialize() + CommonParams.get('arg_separator') + 'ajax_request=true', function (formData) {\n        var $tempDiv = $('<div id=\\'temp_div\\'><div>').append(formData.message);\n        $('#fieldsForm').replaceWith($tempDiv.find('#fieldsForm'));\n        $('#addColumns').replaceWith($tempDiv.find('#addColumns'));\n        $('#move_columns_dialog').find('ul').replaceWith($tempDiv.find('#move_columns_dialog ul'));\n        $('#moveColumns').removeClass('move-active');\n    });\n    $('#page_content').show();\n}\n\nfunction checkFirst () {\n    if ($('select[name=after_field] option:selected').data('pos') === 'first') {\n        $('input[name=field_where]').val('first');\n    } else {\n        $('input[name=field_where]').val('after');\n    }\n}\n/**\n * Unbind all event handlers before tearing down a page\n */\nAJAX.registerTeardown('table/structure.js', function () {\n    $(document).off('click', 'a.drop_column_anchor.ajax');\n    $(document).off('click', 'a.add_key.ajax');\n    $(document).off('click', '#move_columns_anchor');\n    $(document).off('submit', '.append_fields_form.ajax');\n    $('body').off('click', '#fieldsForm button.mult_submit');\n    $(document).off('click', 'a[id^=partition_action].ajax');\n    $(document).off('click', '#remove_partitioning.ajax');\n});\n\nAJAX.registerOnload('table/structure.js', function () {\n    // Re-initialize variables.\n    primaryIndexes = [];\n    indexes = [];\n    fulltextIndexes = [];\n    spatialIndexes = [];\n\n    /**\n     *Ajax action for submitting the \"Column Change\" and \"Add Column\" form\n     */\n    $('.append_fields_form.ajax').off();\n    $(document).on('submit', '.append_fields_form.ajax', function (event) {\n        event.preventDefault();\n        /**\n         * @var form object referring to the export form\n         */\n        var $form = $(this);\n        var fieldCnt = $form.find('input[name=orig_num_fields]').val();\n\n\n        function submitForm () {\n            var $msg = Functions.ajaxShowMessage(Messages.strProcessingRequest);\n            $.post($form.attr('action'), $form.serialize() + CommonParams.get('arg_separator') + 'do_save_data=1', function (data) {\n                if ($('.sqlqueryresults').length !== 0) {\n                    $('.sqlqueryresults').remove();\n                } else if ($('.error:not(.tab)').length !== 0) {\n                    $('.error:not(.tab)').remove();\n                }\n                if (typeof data.success !== 'undefined' && data.success === true) {\n                    $('#page_content')\n                        .empty()\n                        .append(data.message)\n                        .show();\n                    Functions.highlightSql($('#page_content'));\n                    $('.result_query .alert-primary').remove();\n                    if (typeof data.structure_refresh_route !== 'string') {\n                        // Do not reload the form when the code below freshly filled it\n                        reloadFieldForm();\n                    }\n                    $form.remove();\n                    Functions.ajaxRemoveMessage($msg);\n                    Navigation.reload();\n                    if (typeof data.structure_refresh_route === 'string') {\n                        // Fetch the table structure right after adding a new column\n                        $.get(data.structure_refresh_route, function (data) {\n                            if (typeof data.success !== 'undefined' && data.success === true) {\n                                $('#page_content').append(data.message).show();\n                            }\n                        });\n                    } else {\n                        CommonActions.refreshMain('index.php?route=/table/structure');\n                    }\n                } else {\n                    Functions.ajaxShowMessage(data.error, false);\n                }\n            }); // end $.post()\n        }\n\n        function checkIfConfirmRequired ($form) {\n            var i = 0;\n            var id;\n            var elm;\n            var val;\n            var nameOrig;\n            var elmOrig;\n            var valOrig;\n            var checkRequired = false;\n            for (i = 0; i < fieldCnt; i++) {\n                id = '#field_' + i + '_5';\n                elm = $(id);\n                val = elm.val();\n\n                nameOrig = 'input[name=field_collation_orig\\\\[' + i + '\\\\]]';\n                elmOrig = $form.find(nameOrig);\n                valOrig = elmOrig.val();\n\n                if (val && valOrig && val !== valOrig) {\n                    checkRequired = true;\n                    break;\n                }\n            }\n            return checkRequired;\n        }\n\n        /*\n         * First validate the form; if there is a problem, avoid submitting it\n         *\n         * Functions.checkTableEditForm() needs a pure element and not a jQuery object,\n         * this is why we pass $form[0] as a parameter (the jQuery object\n         * is actually an array of DOM elements)\n         */\n        if (Functions.checkTableEditForm($form[0], fieldCnt)) {\n            // OK, form passed validation step\n\n            Functions.prepareForAjaxRequest($form);\n            if (Functions.checkReservedWordColumns($form)) {\n                // User wants to submit the form\n\n                // If Collation is changed, Warn and Confirm\n                if (checkIfConfirmRequired($form)) {\n                    var question = sprintf(\n                        Messages.strChangeColumnCollation, 'https://wiki.phpmyadmin.net/pma/Garbled_data'\n                    );\n                    $form.confirm(question, $form.attr('action'), function () {\n                        submitForm();\n                    });\n                } else {\n                    submitForm();\n                }\n            }\n        }\n    }); // end change table button \"do_save_data\"\n\n    /**\n     * Attach Event Handler for 'Drop Column'\n     */\n    $(document).on('click', 'a.drop_column_anchor.ajax', function (event) {\n        event.preventDefault();\n        /**\n         * @var currTableName String containing the name of the current table\n         */\n        var currTableName = $(this).closest('form').find('input[name=table]').val();\n        /**\n         * @var currRow    Object reference to the currently selected row (i.e. field in the table)\n         */\n        var $currRow = $(this).parents('tr');\n        /**\n         * @var currColumnName    String containing name of the field referred to by {@link curr_row}\n         */\n        var currColumnName = $currRow.children('th').children('label').text().trim();\n        currColumnName = Functions.escapeHtml(currColumnName);\n        /**\n         * @var $afterFieldItem    Corresponding entry in the 'After' field.\n         */\n        var $afterFieldItem = $('select[name=\\'after_field\\'] option[value=\\'' + currColumnName + '\\']');\n        /**\n         * @var question String containing the question to be asked for confirmation\n         */\n        var question = Functions.sprintf(Messages.strDoYouReally, 'ALTER TABLE `' + currTableName + '` DROP `' + currColumnName + '`;');\n        var $thisAnchor = $(this);\n        $thisAnchor.confirm(question, $thisAnchor.attr('href'), function (url) {\n            var $msg = Functions.ajaxShowMessage(Messages.strDroppingColumn, false);\n            var params = Functions.getJsConfirmCommonParam(this, $thisAnchor.getPostData());\n            params += CommonParams.get('arg_separator') + 'ajax_page_request=1';\n            $.post(url, params, function (data) {\n                if (typeof data !== 'undefined' && data.success === true) {\n                    Functions.ajaxRemoveMessage($msg);\n                    if ($('.result_query').length) {\n                        $('.result_query').remove();\n                    }\n                    if (data.sql_query) {\n                        $('<div class=\"result_query\"></div>')\n                            .html(data.sql_query)\n                            .prependTo('#structure_content');\n                        Functions.highlightSql($('#page_content'));\n                    }\n                    // Adjust the row numbers\n                    for (var $row = $currRow.next(); $row.length > 0; $row = $row.next()) {\n                        var newVal = parseInt($row.find('td').eq(1).text(), 10) - 1;\n                        $row.find('td').eq(1).text(newVal);\n                    }\n                    $afterFieldItem.remove();\n                    $currRow.hide('medium').remove();\n\n                    // Remove the dropped column from select menu for 'after field'\n                    $('select[name=after_field]').find(\n                        '[value=\"' + currColumnName + '\"]'\n                    ).remove();\n\n                    // by default select the (new) last option to add new column\n                    // (in case last column is dropped)\n                    $('select[name=after_field] option').last().attr('selected','selected');\n\n                    // refresh table stats\n                    if (data.tableStat) {\n                        $('#tablestatistics').html(data.tableStat);\n                    }\n                    // refresh the list of indexes (comes from /sql)\n                    $('.index_info').replaceWith(data.indexes_list);\n                    Navigation.reload();\n                } else {\n                    Functions.ajaxShowMessage(Messages.strErrorProcessingRequest + ' : ' + data.error, false);\n                }\n            }); // end $.post()\n        });\n    }); // end of Drop Column Anchor action\n\n    /**\n     * Ajax Event handler for adding keys\n     */\n    $(document).on('click', 'a.add_key.ajax', function (event) {\n        event.preventDefault();\n\n        var $this = $(this);\n        var currTableName = $this.closest('form').find('input[name=table]').val();\n        var currColumnName = $this.parents('tr').children('th').children('label').text().trim();\n\n        var addClause = '';\n        if ($this.is('.add_primary_key_anchor')) {\n            addClause = 'ADD PRIMARY KEY';\n        } else if ($this.is('.add_index_anchor')) {\n            addClause = 'ADD INDEX';\n        } else if ($this.is('.add_unique_anchor')) {\n            addClause = 'ADD UNIQUE';\n        } else if ($this.is('.add_spatial_anchor')) {\n            addClause = 'ADD SPATIAL';\n        } else if ($this.is('.add_fulltext_anchor')) {\n            addClause = 'ADD FULLTEXT';\n        }\n        var question = Functions.sprintf(Messages.strDoYouReally, 'ALTER TABLE `' +\n                Functions.escapeHtml(currTableName) + '` ' + addClause + '(`' + Functions.escapeHtml(currColumnName) + '`);');\n\n        var $thisAnchor = $(this);\n\n        $thisAnchor.confirm(question, $thisAnchor.attr('href'), function (url) {\n            Functions.ajaxShowMessage();\n            AJAX.source = $this;\n\n            var params = Functions.getJsConfirmCommonParam(this, $thisAnchor.getPostData());\n            params += CommonParams.get('arg_separator') + 'ajax_page_request=1';\n            $.post(url, params, AJAX.responseHandler);\n        });\n    }); // end Add key\n\n    /**\n     * Inline move columns\n    **/\n    $(document).on('click', '#move_columns_anchor', function (e) {\n        e.preventDefault();\n\n        if ($(this).hasClass('move-active')) {\n            return;\n        }\n\n        var buttonOptionsError = {};\n        buttonOptionsError[Messages.strOK] = function () {\n            $(this).dialog('close').remove();\n        };\n\n        var columns = [];\n\n        $('#tablestructure').find('tbody tr').each(function () {\n            var colName = $(this).find('input:checkbox').eq(0).val();\n            var hiddenInput = $('<input>')\n                .prop({\n                    name: 'move_columns[]',\n                    type: 'hidden'\n                })\n                .val(colName);\n            columns[columns.length] = $('<li></li>')\n                .addClass('placeholderDrag')\n                .text(colName)\n                .append(hiddenInput);\n        });\n\n        var colList = $('#move_columns_dialog').find('ul')\n            .find('li').remove().end();\n        for (var i in columns) {\n            colList.append(columns[i]);\n        }\n        colList.sortable({\n            axis: 'y',\n            containment: $('#move_columns_dialog').find('div'),\n            tolerance: 'pointer'\n        }).disableSelection();\n        var $form = $('#move_columns_dialog').find('form');\n        $form.data('serialized-unmoved', $form.serialize());\n\n        $('#moveColumnsModal').modal('show');\n        $('#designerModalGoButton').on('click', function () {\n            // Off event necessary, else the function fires multiple times\n            $('#designerModalGoButton').off('click');\n            event.preventDefault();\n            var $msgbox = Functions.ajaxShowMessage();\n            var $this = $('#moveColumnsModal');\n            var $form = $this.find('form');\n            var serialized = $form.serialize();\n            // check if any columns were moved at all\n            $('#moveColumnsModal').modal('hide');\n            if (serialized === $form.data('serialized-unmoved')) {\n                Functions.ajaxRemoveMessage($msgbox);\n                return;\n            }\n            $.post($form.prop('action'), serialized + CommonParams.get('arg_separator') + 'ajax_request=true', function (data) {\n                if (data.success === false) {\n                    Functions.ajaxRemoveMessage($msgbox);\n                    var errorModal = $('#moveColumnsErrorModal');\n                    errorModal.modal('show');\n                    errorModal.find('.modal-body').first().html(data.error);\n                } else {\n                    // sort the fields table\n                    var $fieldsTable = $('table#tablestructure tbody');\n                    // remove all existing rows and remember them\n                    var $rows = $fieldsTable.find('tr').remove();\n                    // loop through the correct order\n                    for (var i in data.columns) {\n                        var theColumn = data.columns[i];\n                        var $theRow = $rows\n                            .find('input:checkbox[value=\\'' + theColumn + '\\']')\n                            .closest('tr');\n                        // append the row for this column to the table\n                        $fieldsTable.append($theRow);\n                    }\n                    var $firstrow = $fieldsTable.find('tr').eq(0);\n                    // Adjust the row numbers and colors\n                    for (var $row = $firstrow; $row.length > 0; $row = $row.next()) {\n                        $row\n                            .find('td').eq(1)\n                            .text($row.index() + 1)\n                            .end()\n                            .removeClass('odd even')\n                            .addClass($row.index() % 2 === 0 ? 'odd' : 'even');\n                    }\n                    Functions.ajaxShowMessage(data.message);\n                }\n            });\n        });\n\n        $('#designerModalPreviewButton').on('click', function () {\n            // Function for Previewing SQL\n            $('#moveColumnsModal').modal('hide');\n            var $form = $('#move_column_form');\n            Functions.previewSql($form);\n        });\n\n        $('#previewSQLCloseButton').on('click', function () {\n            $('#moveColumnsModal').modal('show');\n        });\n\n        $('#designerModalCloseButton').on('click', function () {\n            $('#move_columns_anchor').removeClass('move-active');\n        });\n    });\n\n    /**\n     * Handles multi submits in table structure page such as change, browse, drop, primary etc.\n     */\n    $('body').on('click', '#fieldsForm button.mult_submit', function (e) {\n        e.preventDefault();\n        var $form = $(this).parents('form');\n        var argsep = CommonParams.get('arg_separator');\n        var submitData = $form.serialize() + argsep + 'ajax_request=true' + argsep + 'ajax_page_request=true';\n\n        Functions.ajaxShowMessage();\n        AJAX.source = $form;\n\n        $.post(this.formAction, submitData, AJAX.responseHandler);\n    });\n\n    /**\n     * Handles clicks on Action links in partition table\n     */\n    $(document).on('click', 'a[id^=partition_action].ajax', function (e) {\n        e.preventDefault();\n        var $link = $(this);\n\n        function submitPartitionAction (url) {\n            var params = 'ajax_request=true&ajax_page_request=true&' + $link.getPostData();\n            Functions.ajaxShowMessage();\n            AJAX.source = $link;\n            $.post(url, params, AJAX.responseHandler);\n        }\n\n        if ($link.is('#partition_action_DROP')) {\n            $link.confirm(Messages.strDropPartitionWarning, $link.attr('href'), function (url) {\n                submitPartitionAction(url);\n            });\n        } else if ($link.is('#partition_action_TRUNCATE')) {\n            $link.confirm(Messages.strTruncatePartitionWarning, $link.attr('href'), function (url) {\n                submitPartitionAction(url);\n            });\n        } else {\n            submitPartitionAction($link.attr('href'));\n        }\n    });\n\n    /**\n     * Handles remove partitioning\n     */\n    $(document).on('click', '#remove_partitioning.ajax', function (e) {\n        e.preventDefault();\n        var $link = $(this);\n        var question = Messages.strRemovePartitioningWarning;\n        $link.confirm(question, $link.attr('href'), function (url) {\n            var params = Functions.getJsConfirmCommonParam({\n                'ajax_request' : true,\n                'ajax_page_request' : true\n            }, $link.getPostData());\n            Functions.ajaxShowMessage();\n            AJAX.source = $link;\n            $.post(url, params, AJAX.responseHandler);\n        });\n    });\n\n    $(document).on('change', 'select[name=after_field]', function () {\n        checkFirst();\n    });\n});\n"],"names":["reloadFieldForm","$","post","attr","serialize","CommonParams","get","formData","$tempDiv","append","message","replaceWith","find","removeClass","show","checkFirst","data","val","AJAX","registerTeardown","document","off","registerOnload","primaryIndexes","indexes","fulltextIndexes","spatialIndexes","on","event","preventDefault","$form","fieldCnt","submitForm","$msg","Functions","ajaxShowMessage","Messages","strProcessingRequest","length","remove","success","empty","highlightSql","structure_refresh_route","ajaxRemoveMessage","Navigation","reload","CommonActions","refreshMain","error","checkIfConfirmRequired","i","id","elm","nameOrig","elmOrig","valOrig","checkRequired","checkTableEditForm","prepareForAjaxRequest","checkReservedWordColumns","question","sprintf","strChangeColumnCollation","confirm","currTableName","closest","$currRow","parents","currColumnName","children","text","trim","escapeHtml","$afterFieldItem","strDoYouReally","$thisAnchor","url","strDroppingColumn","params","getJsConfirmCommonParam","getPostData","sql_query","html","prependTo","$row","next","newVal","parseInt","eq","hide","last","tableStat","indexes_list","strErrorProcessingRequest","$this","addClause","is","source","responseHandler","e","hasClass","buttonOptionsError","strOK","dialog","columns","each","colName","hiddenInput","prop","name","type","addClass","colList","end","sortable","axis","containment","tolerance","disableSelection","modal","$msgbox","serialized","errorModal","first","$fieldsTable","$rows","theColumn","$theRow","$firstrow","index","previewSql","argsep","submitData","formAction","$link","submitPartitionAction","strDropPartitionWarning","strTruncatePartitionWarning","strRemovePartitioningWarning"],"sourceRoot":""}