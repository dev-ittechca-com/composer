{"version":3,"file":"table/structure.js","mappings":"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","sources":["webpack://phpmyadmin/external var \"jQuery\"","webpack://phpmyadmin/./js/src/table/structure.js"],"sourcesContent":["module.exports = jQuery;","import $ from 'jquery';\nimport { AJAX } from '../modules/ajax.js';\nimport { Functions } from '../modules/functions.js';\nimport { Navigation } from '../modules/navigation.js';\nimport { CommonActions, CommonParams } from '../modules/common.js';\n\n/**\n * @fileoverview    functions used on the table structure page\n * @name            Table Structure\n *\n * @requires    jQueryUI\n */\n\n/**\n * AJAX scripts for /table/structure\n *\n * Actions ajaxified here:\n * Drop Column\n * Add Primary Key\n * Drop Primary Key/Index\n *\n */\n\n/**\n * Reload fields table\n */\nfunction reloadFieldForm () {\n    $.post($('#fieldsForm').attr('action'), $('#fieldsForm').serialize() + CommonParams.get('arg_separator') + 'ajax_request=true', function (formData) {\n        var $tempDiv = $('<div id=\\'temp_div\\'><div>').append(formData.message);\n        $('#fieldsForm').replaceWith($tempDiv.find('#fieldsForm'));\n        $('#addColumns').replaceWith($tempDiv.find('#addColumns'));\n        $('#move_columns_dialog').find('ul').replaceWith($tempDiv.find('#move_columns_dialog ul'));\n    });\n    $('#page_content').show();\n}\n\nfunction checkFirst () {\n    if ($('select[name=after_field] option:selected').data('pos') === 'first') {\n        $('input[name=field_where]').val('first');\n    } else {\n        $('input[name=field_where]').val('after');\n    }\n}\n/**\n * Unbind all event handlers before tearing down a page\n */\nAJAX.registerTeardown('table/structure.js', function () {\n    $(document).off('click', 'a.drop_column_anchor.ajax');\n    $(document).off('click', 'a.add_key.ajax');\n    $(document).off('click', '#move_columns_anchor');\n    $(document).off('submit', '.append_fields_form.ajax');\n    $('body').off('click', '#fieldsForm button.mult_submit');\n    $(document).off('click', 'a[id^=partition_action].ajax');\n    $(document).off('click', '#remove_partitioning.ajax');\n});\n\nAJAX.registerOnload('table/structure.js', function () {\n    // Re-initialize variables.\n    window.primaryIndexes = [];\n    window.indexes = [];\n    window.fulltextIndexes = [];\n    window.spatialIndexes = [];\n\n    /**\n     *Ajax action for submitting the \"Column Change\" and \"Add Column\" form\n     */\n    $('.append_fields_form.ajax').off();\n    $(document).on('submit', '.append_fields_form.ajax', function (event) {\n        event.preventDefault();\n        /**\n         * @var form object referring to the export form\n         */\n        var $form = $(this);\n        var fieldCnt = $form.find('input[name=orig_num_fields]').val();\n\n\n        function submitForm () {\n            var $msg = Functions.ajaxShowMessage(window.Messages.strProcessingRequest);\n            $.post($form.attr('action'), $form.serialize() + CommonParams.get('arg_separator') + 'do_save_data=1', function (data) {\n                if ($('.sqlqueryresults').length !== 0) {\n                    $('.sqlqueryresults').remove();\n                } else if ($('.error:not(.tab)').length !== 0) {\n                    $('.error:not(.tab)').remove();\n                }\n                if (typeof data.success !== 'undefined' && data.success === true) {\n                    $('#page_content')\n                        .empty()\n                        .append(data.message)\n                        .show();\n                    Functions.highlightSql($('#page_content'));\n                    $('.result_query .alert-primary').remove();\n                    if (typeof data.structure_refresh_route !== 'string') {\n                        // Do not reload the form when the code below freshly filled it\n                        reloadFieldForm();\n                    }\n                    $form.remove();\n                    Functions.ajaxRemoveMessage($msg);\n                    Navigation.reload();\n                    if (typeof data.structure_refresh_route === 'string') {\n                        // Fetch the table structure right after adding a new column\n                        $.get(data.structure_refresh_route, function (data) {\n                            if (typeof data.success !== 'undefined' && data.success === true) {\n                                $('#page_content').append(data.message).show();\n                            }\n                        });\n                    } else {\n                        CommonActions.refreshMain('index.php?route=/table/structure');\n                    }\n                } else {\n                    Functions.ajaxShowMessage(data.error, false);\n                }\n            }); // end $.post()\n        }\n\n        function checkIfConfirmRequired ($form) {\n            var i = 0;\n            var id;\n            var elm;\n            var val;\n            var nameOrig;\n            var elmOrig;\n            var valOrig;\n            var checkRequired = false;\n            for (i = 0; i < fieldCnt; i++) {\n                id = '#field_' + i + '_5';\n                elm = $(id);\n                val = elm.val();\n\n                nameOrig = 'input[name=field_collation_orig\\\\[' + i + '\\\\]]';\n                elmOrig = $form.find(nameOrig);\n                valOrig = elmOrig.val();\n\n                if (val && valOrig && val !== valOrig) {\n                    checkRequired = true;\n                    break;\n                }\n            }\n            return checkRequired;\n        }\n\n        /*\n         * First validate the form; if there is a problem, avoid submitting it\n         *\n         * Functions.checkTableEditForm() needs a pure element and not a jQuery object,\n         * this is why we pass $form[0] as a parameter (the jQuery object\n         * is actually an array of DOM elements)\n         */\n        if (Functions.checkTableEditForm($form[0], fieldCnt)) {\n            // OK, form passed validation step\n\n            Functions.prepareForAjaxRequest($form);\n            if (Functions.checkReservedWordColumns($form)) {\n                // User wants to submit the form\n\n                // If Collation is changed, Warn and Confirm\n                if (checkIfConfirmRequired($form)) {\n                    var question = window.sprintf(\n                        window.Messages.strChangeColumnCollation, 'https://wiki.phpmyadmin.net/pma/Garbled_data'\n                    );\n                    $form.confirm(question, $form.attr('action'), function () {\n                        submitForm();\n                    });\n                } else {\n                    submitForm();\n                }\n            }\n        }\n    }); // end change table button \"do_save_data\"\n\n    /**\n     * Attach Event Handler for 'Drop Column'\n     */\n    $(document).on('click', 'a.drop_column_anchor.ajax', function (event) {\n        event.preventDefault();\n        /**\n         * @var currTableName String containing the name of the current table\n         */\n        var currTableName = $(this).closest('form').find('input[name=table]').val();\n        /**\n         * @var currRow    Object reference to the currently selected row (i.e. field in the table)\n         */\n        var $currRow = $(this).parents('tr');\n        /**\n         * @var currColumnName    String containing name of the field referred to by {@link curr_row}\n         */\n        var currColumnName = $currRow.children('th').children('label').text().trim();\n        currColumnName = Functions.escapeHtml(currColumnName);\n        /**\n         * @var $afterFieldItem    Corresponding entry in the 'After' field.\n         */\n        var $afterFieldItem = $('select[name=\\'after_field\\'] option[value=\\'' + currColumnName + '\\']');\n        /**\n         * @var question String containing the question to be asked for confirmation\n         */\n        var question = window.sprintf(window.Messages.strDoYouReally, 'ALTER TABLE `' + currTableName + '` DROP `' + currColumnName + '`;');\n        var $thisAnchor = $(this);\n        $thisAnchor.confirm(question, $thisAnchor.attr('href'), function (url) {\n            var $msg = Functions.ajaxShowMessage(window.Messages.strDroppingColumn, false);\n            var params = Functions.getJsConfirmCommonParam(this, $thisAnchor.getPostData());\n            params += CommonParams.get('arg_separator') + 'ajax_page_request=1';\n            $.post(url, params, function (data) {\n                if (typeof data !== 'undefined' && data.success === true) {\n                    Functions.ajaxRemoveMessage($msg);\n                    if ($('.result_query').length) {\n                        $('.result_query').remove();\n                    }\n                    if (data.sql_query) {\n                        $('<div class=\"result_query\"></div>')\n                            .html(data.sql_query)\n                            .prependTo('#structure_content');\n                        Functions.highlightSql($('#page_content'));\n                    }\n                    // Adjust the row numbers\n                    for (var $row = $currRow.next(); $row.length > 0; $row = $row.next()) {\n                        var newVal = parseInt($row.find('td').eq(1).text(), 10) - 1;\n                        $row.find('td').eq(1).text(newVal);\n                    }\n                    $afterFieldItem.remove();\n                    $currRow.hide('medium').remove();\n\n                    // Remove the dropped column from select menu for 'after field'\n                    $('select[name=after_field]').find(\n                        '[value=\"' + currColumnName + '\"]'\n                    ).remove();\n\n                    // by default select the (new) last option to add new column\n                    // (in case last column is dropped)\n                    $('select[name=after_field] option').last().attr('selected','selected');\n\n                    // refresh table stats\n                    if (data.tableStat) {\n                        $('#tablestatistics').html(data.tableStat);\n                    }\n                    // refresh the list of indexes (comes from /sql)\n                    $('.index_info').replaceWith(data.indexes_list);\n                    Navigation.reload();\n                } else {\n                    Functions.ajaxShowMessage(window.Messages.strErrorProcessingRequest + ' : ' + data.error, false);\n                }\n            }); // end $.post()\n        });\n    }); // end of Drop Column Anchor action\n\n    /**\n     * Ajax Event handler for adding keys\n     */\n    $(document).on('click', 'a.add_key.ajax', function (event) {\n        event.preventDefault();\n\n        var $this = $(this);\n        var currTableName = $this.closest('form').find('input[name=table]').val();\n        var currColumnName = $this.parents('tr').children('th').children('label').text().trim();\n\n        var addClause = '';\n        if ($this.is('.add_primary_key_anchor')) {\n            addClause = 'ADD PRIMARY KEY';\n        } else if ($this.is('.add_index_anchor')) {\n            addClause = 'ADD INDEX';\n        } else if ($this.is('.add_unique_anchor')) {\n            addClause = 'ADD UNIQUE';\n        } else if ($this.is('.add_spatial_anchor')) {\n            addClause = 'ADD SPATIAL';\n        } else if ($this.is('.add_fulltext_anchor')) {\n            addClause = 'ADD FULLTEXT';\n        }\n        var question = window.sprintf(window.Messages.strDoYouReally, 'ALTER TABLE `' +\n                Functions.escapeHtml(currTableName) + '` ' + addClause + '(`' + Functions.escapeHtml(currColumnName) + '`);');\n\n        var $thisAnchor = $(this);\n\n        $thisAnchor.confirm(question, $thisAnchor.attr('href'), function (url) {\n            Functions.ajaxShowMessage();\n            AJAX.source = $this;\n\n            var params = Functions.getJsConfirmCommonParam(this, $thisAnchor.getPostData());\n            params += CommonParams.get('arg_separator') + 'ajax_page_request=1';\n            $.post(url, params, AJAX.responseHandler);\n        });\n    }); // end Add key\n\n    /**\n     * Inline move columns\n    **/\n    $(document).on('click', '#move_columns_anchor', function (e) {\n        e.preventDefault();\n\n        var buttonOptionsError = {};\n        buttonOptionsError[window.Messages.strOK] = function () {\n            $(this).dialog('close').remove();\n        };\n\n        var columns = [];\n\n        $('#tablestructure').find('tbody tr').each(function () {\n            var colName = $(this).find('input:checkbox').eq(0).val();\n            var hiddenInput = $('<input>')\n                .prop({\n                    name: 'move_columns[]',\n                    type: 'hidden'\n                })\n                .val(colName);\n            columns[columns.length] = $('<li></li>')\n                .addClass('placeholderDrag')\n                .text(colName)\n                .append(hiddenInput);\n        });\n\n        var colList = $('#move_columns_dialog').find('ul')\n            .find('li').remove().end();\n        for (var i in columns) {\n            colList.append(columns[i]);\n        }\n        colList.sortable({\n            axis: 'y',\n            containment: $('#move_columns_dialog').find('div'),\n            tolerance: 'pointer'\n        }).disableSelection();\n        var $form = $('#move_columns_dialog').find('form');\n        $form.data('serialized-unmoved', $form.serialize());\n\n        const designerModalPreviewModal = document.getElementById('designerModalPreviewModal');\n        designerModalPreviewModal.addEventListener('shown.bs.modal', () => {\n            const modalBody = designerModalPreviewModal.querySelector('.modal-body');\n            const $form = $('#move_column_form');\n            const formUrl = $form.attr('action');\n            const sep = CommonParams.get('arg_separator');\n            const formData = $form.serialize() +\n                sep + 'preview_sql=1' +\n                sep + 'ajax_request=1';\n            $.post({\n                url: formUrl,\n                data: formData,\n                success: response => {\n                    if (! response.success) {\n                        modalBody.innerHTML = '<div class=\"alert alert-danger\" role=\"alert\">' + window.Messages.strErrorProcessingRequest + '</div>';\n                        return;\n                    }\n\n                    modalBody.innerHTML = response.sql_data;\n                    Functions.highlightSql($('#designerModalPreviewModal'));\n                },\n                error: () => {\n                    modalBody.innerHTML = '<div class=\"alert alert-danger\" role=\"alert\">' + window.Messages.strErrorProcessingRequest + '</div>';\n                }\n            });\n        });\n        designerModalPreviewModal.addEventListener('hidden.bs.modal', () => {\n            designerModalPreviewModal.querySelector('.modal-body').innerHTML = '<div class=\"spinner-border\" role=\"status\">' +\n                '<span class=\"visually-hidden\">' + window.Messages.strLoading + '</span></div>';\n        });\n\n        $('#moveColumnsModal').modal('show');\n        $('#designerModalGoButton').off('click');// Unregister previous modals\n        $('#designerModalGoButton').on('click', function () {\n            event.preventDefault();\n            var $msgbox = Functions.ajaxShowMessage();\n            var $this = $('#moveColumnsModal');\n            var $form = $this.find('form');\n            var serialized = $form.serialize();\n            // check if any columns were moved at all\n            $('#moveColumnsModal').modal('hide');\n            if (serialized === $form.data('serialized-unmoved')) {\n                Functions.ajaxRemoveMessage($msgbox);\n                return;\n            }\n            $.post($form.prop('action'), serialized + CommonParams.get('arg_separator') + 'ajax_request=true', function (data) {\n                if (data.success === false) {\n                    Functions.ajaxRemoveMessage($msgbox);\n                    var errorModal = $('#moveColumnsErrorModal');\n                    errorModal.modal('show');\n                    errorModal.find('.modal-body').first().html(data.error);\n                } else {\n                    // sort the fields table\n                    var $fieldsTable = $('table#tablestructure tbody');\n                    // remove all existing rows and remember them\n                    var $rows = $fieldsTable.find('tr').remove();\n                    // loop through the correct order\n                    for (var i in data.columns) {\n                        var theColumn = data.columns[i];\n                        var $theRow = $rows\n                            .find('input:checkbox[value=\\'' + theColumn + '\\']')\n                            .closest('tr');\n                        // append the row for this column to the table\n                        $fieldsTable.append($theRow);\n                    }\n                    var $firstrow = $fieldsTable.find('tr').eq(0);\n                    // Adjust the row numbers and colors\n                    for (var $row = $firstrow; $row.length > 0; $row = $row.next()) {\n                        $row\n                            .find('td').eq(1)\n                            .text($row.index() + 1)\n                            .end()\n                            .removeClass('odd even')\n                            .addClass($row.index() % 2 === 0 ? 'odd' : 'even');\n                    }\n                    Functions.ajaxShowMessage(data.message);\n                }\n            });\n        });\n    });\n\n    /**\n     * Handles multi submits in table structure page such as change, browse, drop, primary etc.\n     */\n    $('body').on('click', '#fieldsForm button.mult_submit', function (e) {\n        e.preventDefault();\n        var $form = $(this).parents('form');\n        var argsep = CommonParams.get('arg_separator');\n        var submitData = $form.serialize() + argsep + 'ajax_request=true' + argsep + 'ajax_page_request=true';\n\n        Functions.ajaxShowMessage();\n        AJAX.source = $form;\n\n        $.post(this.formAction, submitData, AJAX.responseHandler);\n    });\n\n    /**\n     * Handles clicks on Action links in partition table\n     */\n    $(document).on('click', 'a[id^=partition_action].ajax', function (e) {\n        e.preventDefault();\n        var $link = $(this);\n\n        function submitPartitionAction (url) {\n            var params = 'ajax_request=true&ajax_page_request=true&' + $link.getPostData();\n            Functions.ajaxShowMessage();\n            AJAX.source = $link;\n            $.post(url, params, AJAX.responseHandler);\n        }\n\n        if ($link.is('#partition_action_DROP')) {\n            $link.confirm(window.Messages.strDropPartitionWarning, $link.attr('href'), function (url) {\n                submitPartitionAction(url);\n            });\n        } else if ($link.is('#partition_action_TRUNCATE')) {\n            $link.confirm(window.Messages.strTruncatePartitionWarning, $link.attr('href'), function (url) {\n                submitPartitionAction(url);\n            });\n        } else {\n            submitPartitionAction($link.attr('href'));\n        }\n    });\n\n    /**\n     * Handles remove partitioning\n     */\n    $(document).on('click', '#remove_partitioning.ajax', function (e) {\n        e.preventDefault();\n        var $link = $(this);\n        var question = window.Messages.strRemovePartitioningWarning;\n        $link.confirm(question, $link.attr('href'), function (url) {\n            var params = Functions.getJsConfirmCommonParam({\n                'ajax_request' : true,\n                'ajax_page_request' : true\n            }, $link.getPostData());\n            Functions.ajaxShowMessage();\n            AJAX.source = $link;\n            $.post(url, params, AJAX.responseHandler);\n        });\n    });\n\n    $(document).on('change', 'select[name=after_field]', function () {\n        checkFirst();\n    });\n});\n"],"names":["$","AJAX","Functions","Navigation","CommonActions","CommonParams","reloadFieldForm","post","attr","serialize","get","formData","$tempDiv","append","message","replaceWith","find","show","checkFirst","data","val","registerTeardown","document","off","registerOnload","window","primaryIndexes","indexes","fulltextIndexes","spatialIndexes","on","event","preventDefault","$form","fieldCnt","submitForm","$msg","ajaxShowMessage","Messages","strProcessingRequest","length","remove","success","empty","highlightSql","structure_refresh_route","ajaxRemoveMessage","reload","refreshMain","error","checkIfConfirmRequired","i","id","elm","nameOrig","elmOrig","valOrig","checkRequired","checkTableEditForm","prepareForAjaxRequest","checkReservedWordColumns","question","sprintf","strChangeColumnCollation","confirm","currTableName","closest","$currRow","parents","currColumnName","children","text","trim","escapeHtml","$afterFieldItem","strDoYouReally","$thisAnchor","url","strDroppingColumn","params","getJsConfirmCommonParam","getPostData","sql_query","html","prependTo","$row","next","newVal","parseInt","eq","hide","last","tableStat","indexes_list","strErrorProcessingRequest","$this","addClause","is","source","responseHandler","e","buttonOptionsError","strOK","dialog","columns","each","colName","hiddenInput","prop","name","type","addClass","colList","end","sortable","axis","containment","tolerance","disableSelection","designerModalPreviewModal","getElementById","addEventListener","modalBody","querySelector","formUrl","sep","response","innerHTML","sql_data","strLoading","modal","$msgbox","serialized","errorModal","first","$fieldsTable","$rows","theColumn","$theRow","$firstrow","index","removeClass","argsep","submitData","formAction","$link","submitPartitionAction","strDropPartitionWarning","strTruncatePartitionWarning","strRemovePartitioningWarning"],"sourceRoot":""}