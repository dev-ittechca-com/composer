{"version":3,"file":"table/select.js","mappings":"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","sources":["webpack://phpmyadmin/./js/src/table/select.js"],"sourcesContent":["/**\n * @fileoverview JavaScript functions used on /table/search\n *\n * @requires    jQuery\n * @requires    js/functions.js\n */\n\n/* global changeValueFieldType, verifyAfterSearchFieldChange */ // js/table/change.js\n/* global openGISEditor, gisEditorLoaded, loadJSAndGISEditor, loadGISEditor */ // js/gis_data_editor.js\n\nvar TableSelect = {};\n\n/**\n * Checks if given data-type is numeric or date.\n *\n * @param {string} dataType Column data-type\n *\n * @return {boolean | string}\n */\nTableSelect.checkIfDataTypeNumericOrDate = function (dataType) {\n    // To test for numeric data-types.\n    var numericRegExp = new RegExp(\n        'TINYINT|SMALLINT|MEDIUMINT|INT|BIGINT|DECIMAL|FLOAT|DOUBLE|REAL',\n        'i'\n    );\n\n    // To test for date data-types.\n    var dateRegExp = new RegExp(\n        'DATETIME|DATE|TIMESTAMP|TIME|YEAR',\n        'i'\n    );\n\n    // Return matched data-type\n    if (numericRegExp.test(dataType)) {\n        return numericRegExp.exec(dataType)[0];\n    }\n\n    if (dateRegExp.test(dataType)) {\n        return dateRegExp.exec(dataType)[0];\n    }\n\n    return false;\n};\n\n/**\n * Unbind all event handlers before tearing down a page\n */\nAJAX.registerTeardown('table/select.js', function () {\n    $('#togglesearchformlink').off('click');\n    $(document).off('submit', '#tbl_search_form.ajax');\n    $('select.geom_func').off('change');\n    $(document).off('click', 'span.open_search_gis_editor');\n    $('body').off('change', 'select[name*=\"criteriaColumnOperators\"]'); // Fix for bug #13778, changed 'click' to 'change'\n});\n\nAJAX.registerOnload('table/select.js', function () {\n    /**\n     * Prepare a div containing a link, otherwise it's incorrectly displayed\n     * after a couple of clicks\n     */\n    $('<div id=\"togglesearchformdiv\"><a id=\"togglesearchformlink\"></a></div>')\n        .insertAfter('#tbl_search_form')\n        // don't show it until we have results on-screen\n        .hide();\n\n    $('#togglesearchformlink')\n        .html(Messages.strShowSearchCriteria)\n        .on('click', function () {\n            var $link = $(this);\n            $('#tbl_search_form').slideToggle();\n            if ($link.text() === Messages.strHideSearchCriteria) {\n                $link.text(Messages.strShowSearchCriteria);\n            } else {\n                $link.text(Messages.strHideSearchCriteria);\n            }\n            // avoid default click action\n            return false;\n        });\n\n    var tableRows = $('#fieldset_table_qbe select.column-operator');\n    $.each(tableRows, function (index, item) {\n        $(item).on('change', function () {\n            changeValueFieldType(this, index);\n            verifyAfterSearchFieldChange(index, '#tbl_search_form');\n        });\n    });\n\n    /**\n     * Ajax event handler for Table search\n     */\n    $(document).on('submit', '#tbl_search_form.ajax', function (event) {\n        var unaryFunctions = [\n            'IS NULL',\n            'IS NOT NULL',\n            '= \\'\\'',\n            '!= \\'\\''\n        ];\n\n        var geomUnaryFunctions = [\n            'IsEmpty',\n            'IsSimple',\n            'IsRing',\n            'IsClosed',\n        ];\n\n        // jQuery object to reuse\n        var $searchForm = $(this);\n        event.preventDefault();\n\n        // empty previous search results while we are waiting for new results\n        $('#sqlqueryresultsouter').empty();\n        var $msgbox = Functions.ajaxShowMessage(Messages.strSearching, false);\n\n        Functions.prepareForAjaxRequest($searchForm);\n\n        var values = {};\n        $searchForm.find(':input').each(function () {\n            var $input = $(this);\n            if ($input.attr('type') === 'checkbox' || $input.attr('type') === 'radio') {\n                if ($input.is(':checked')) {\n                    values[this.name] = $input.val();\n                }\n            } else {\n                values[this.name] = $input.val();\n            }\n        });\n        var columnCount = $('select[name=\"columnsToDisplay[]\"] option').length;\n        // Submit values only for the columns that have unary column operator or a search criteria\n        for (var a = 0; a < columnCount; a++) {\n            if ($.inArray(values['criteriaColumnOperators[' + a + ']'], unaryFunctions) >= 0) {\n                continue;\n            }\n\n            if (values['geom_func[' + a + ']'] &&\n                $.inArray(values['geom_func[' + a + ']'], geomUnaryFunctions) >= 0) {\n                continue;\n            }\n\n            if (values['criteriaValues[' + a + ']'] === '' || values['criteriaValues[' + a + ']'] === null) {\n                delete values['criteriaValues[' + a + ']'];\n                delete values['criteriaColumnOperators[' + a + ']'];\n                delete values['criteriaColumnNames[' + a + ']'];\n                delete values['criteriaColumnTypes[' + a + ']'];\n                delete values['criteriaColumnCollations[' + a + ']'];\n            }\n        }\n        // If all columns are selected, use a single parameter to indicate that\n        if (values['columnsToDisplay[]'] !== null) {\n            if (values['columnsToDisplay[]'].length === columnCount) {\n                delete values['columnsToDisplay[]'];\n                values.displayAllColumns = true;\n            }\n        } else {\n            values.displayAllColumns = true;\n        }\n\n        $.post($searchForm.attr('action'), values, function (data) {\n            Functions.ajaxRemoveMessage($msgbox);\n            if (typeof data !== 'undefined' && data.success === true) {\n                if (typeof data.sql_query !== 'undefined') { // zero rows\n                    $('#sqlqueryresultsouter').html(data.sql_query);\n                } else { // results found\n                    $('#sqlqueryresultsouter').html(data.message);\n                    $('.sqlqueryresults').trigger('makegrid');\n                }\n                $('#tbl_search_form')\n                    // workaround for bug #3168569 - Issue on toggling the \"Hide search criteria\" in chrome.\n                    .slideToggle()\n                    .hide();\n                $('#togglesearchformlink')\n                    // always start with the Show message\n                    .text(Messages.strShowSearchCriteria);\n                $('#togglesearchformdiv')\n                    // now it's time to show the div containing the link\n                    .show();\n                $('html, body').animate({ scrollTop: 0 }, 'fast');\n            } else {\n                $('#sqlqueryresultsouter').html(data.error);\n            }\n            Functions.highlightSql($('#sqlqueryresultsouter'));\n        }); // end $.post()\n    });\n\n    // Following section is related to the 'function based search' for geometry data types.\n    // Initially hide all the open_gis_editor spans\n    $('span.open_search_gis_editor').hide();\n\n    $('select.geom_func').on('change', function () {\n        var $geomFuncSelector = $(this);\n\n        var binaryFunctions = [\n            'Contains',\n            'Crosses',\n            'Disjoint',\n            'Equals',\n            'Intersects',\n            'Overlaps',\n            'Touches',\n            'Within',\n            'MBRContains',\n            'MBRDisjoint',\n            'MBREquals',\n            'MBRIntersects',\n            'MBROverlaps',\n            'MBRTouches',\n            'MBRWithin',\n            'ST_Contains',\n            'ST_Crosses',\n            'ST_Disjoint',\n            'ST_Equals',\n            'ST_Intersects',\n            'ST_Overlaps',\n            'ST_Touches',\n            'ST_Within'\n        ];\n\n        var tempArray = [\n            'Envelope',\n            'EndPoint',\n            'StartPoint',\n            'ExteriorRing',\n            'Centroid',\n            'PointOnSurface'\n        ];\n        var outputGeomFunctions = binaryFunctions.concat(tempArray);\n\n        // If the chosen function takes two geometry objects as parameters\n        var $operator = $geomFuncSelector.parents('tr').find('td').eq(4).find('select');\n        if ($.inArray($geomFuncSelector.val(), binaryFunctions) >= 0) {\n            $operator.prop('readonly', true);\n        } else {\n            $operator.prop('readonly', false);\n        }\n\n        // if the chosen function's output is a geometry, enable GIS editor\n        var $editorSpan = $geomFuncSelector.parents('tr').find('span.open_search_gis_editor');\n        if ($.inArray($geomFuncSelector.val(), outputGeomFunctions) >= 0) {\n            $editorSpan.show();\n        } else {\n            $editorSpan.hide();\n        }\n    });\n\n    $(document).on('click', 'span.open_search_gis_editor', function (event) {\n        event.preventDefault();\n\n        var $span = $(this);\n        // Current value\n        var value = $span.parent('td').children('input[type=\\'text\\']').val();\n        // Field name\n        var field = 'Parameter';\n        // Column type\n        var geomFunc = $span.parents('tr').find('.geom_func').val();\n        var type;\n        if (geomFunc === 'Envelope') {\n            type = 'polygon';\n        } else if (geomFunc === 'ExteriorRing') {\n            type = 'linestring';\n        } else {\n            type = 'point';\n        }\n        // Names of input field and null checkbox\n        var inputName = $span.parent('td').children('input[type=\\'text\\']').attr('name');\n        // Token\n\n        openGISEditor();\n        if (!gisEditorLoaded) {\n            loadJSAndGISEditor(value, field, type, inputName);\n        } else {\n            loadGISEditor(value, field, type, inputName);\n        }\n    });\n\n    /**\n     * Ajax event handler for Range-Search.\n     */\n    $('body').on('change', 'select[name*=\"criteriaColumnOperators\"]', function () { // Fix for bug #13778, changed 'click' to 'change'\n        var $sourceSelect = $(this);\n        // Get the column name.\n        var columnName = $(this)\n            .closest('tr')\n            .find('th')\n            .first()\n            .text();\n\n        // Get the data-type of column excluding size.\n        var dataType = $(this)\n            .closest('tr')\n            .find('td[data-type]')\n            .attr('data-type');\n        dataType = TableSelect.checkIfDataTypeNumericOrDate(dataType);\n\n        // Get the operator.\n        var operator = $(this).val();\n\n        if ((operator === 'BETWEEN' || operator === 'NOT BETWEEN') && dataType) {\n            var $msgbox = Functions.ajaxShowMessage();\n            $.ajax({\n                url: 'index.php?route=/table/search',\n                type: 'POST',\n                data: {\n                    'server': CommonParams.get('server'),\n                    'ajax_request': 1,\n                    'db': $('input[name=\"db\"]').val(),\n                    'table': $('input[name=\"table\"]').val(),\n                    'column': columnName,\n                    'range_search': 1\n                },\n                success: function (response) {\n                    Functions.ajaxRemoveMessage($msgbox);\n                    if (response.success) {\n                        // Get the column min value.\n                        var min = response.column_data.min\n                            ? '(' + Messages.strColumnMin +\n                                ' ' + response.column_data.min + ')'\n                            : '';\n                        // Get the column max value.\n                        var max = response.column_data.max\n                            ? '(' + Messages.strColumnMax +\n                                ' ' + response.column_data.max + ')'\n                            : '';\n                        $('#rangeSearchModal').modal('show');\n                        $('#rangeSearchLegend').first().html(operator);\n                        $('#rangeSearchMin').first().text(min);\n                        $('#rangeSearchMax').first().text(max);\n                        // Reset input values on reuse\n                        $('#min_value').first().val('');\n                        $('#max_value').first().val('');\n                        // Add datepicker wherever required.\n                        Functions.addDatepicker($('#min_value'), dataType);\n                        Functions.addDatepicker($('#max_value'), dataType);\n                        $('#rangeSearchModalGo').on('click',  function () {\n                            var minValue = $('#min_value').val();\n                            var maxValue = $('#max_value').val();\n                            var finalValue = '';\n                            if (minValue.length && maxValue.length) {\n                                finalValue = minValue + ', ' +\n                                    maxValue;\n                            }\n                            var $targetField = $sourceSelect.closest('tr')\n                                .find('[name*=\"criteriaValues\"]');\n\n                            // If target field is a select list.\n                            if ($targetField.is('select')) {\n                                $targetField.val(finalValue);\n                                var $options = $targetField.find('option');\n                                var $closestMin = null;\n                                var $closestMax = null;\n                                // Find closest min and max value.\n                                $options.each(function () {\n                                    if (\n                                        $closestMin === null\n                                        || Math.abs($(this).val() - minValue) < Math.abs($closestMin.val() - minValue)\n                                    ) {\n                                        $closestMin = $(this);\n                                    }\n\n                                    if (\n                                        $closestMax === null\n                                        || Math.abs($(this).val() - maxValue) < Math.abs($closestMax.val() - maxValue)\n                                    ) {\n                                        $closestMax = $(this);\n                                    }\n                                });\n\n                                $closestMin.attr('selected', 'selected');\n                                $closestMax.attr('selected', 'selected');\n                            } else {\n                                $targetField.val(finalValue);\n                            }\n                            $('#rangeSearchModal').modal('hide');\n                        });\n                    } else {\n                        Functions.ajaxShowMessage(response.error);\n                    }\n                },\n                error: function () {\n                    Functions.ajaxShowMessage(Messages.strErrorProcessingRequest);\n                }\n            });\n        }\n    });\n    var windowWidth = $(window).width();\n    $('.jsresponsive').css('max-width', (windowWidth - 69) + 'px');\n});\n"],"names":["TableSelect","checkIfDataTypeNumericOrDate","dataType","numericRegExp","RegExp","dateRegExp","test","exec","AJAX","registerTeardown","$","off","document","registerOnload","insertAfter","hide","html","Messages","strShowSearchCriteria","on","$link","slideToggle","text","strHideSearchCriteria","tableRows","each","index","item","changeValueFieldType","verifyAfterSearchFieldChange","event","unaryFunctions","geomUnaryFunctions","$searchForm","preventDefault","empty","$msgbox","Functions","ajaxShowMessage","strSearching","prepareForAjaxRequest","values","find","$input","attr","is","name","val","columnCount","length","a","inArray","displayAllColumns","post","data","ajaxRemoveMessage","success","sql_query","message","trigger","show","animate","scrollTop","error","highlightSql","$geomFuncSelector","binaryFunctions","tempArray","outputGeomFunctions","concat","$operator","parents","eq","prop","$editorSpan","$span","value","parent","children","field","geomFunc","type","inputName","openGISEditor","gisEditorLoaded","loadJSAndGISEditor","loadGISEditor","$sourceSelect","columnName","closest","first","operator","ajax","url","CommonParams","get","response","min","column_data","strColumnMin","max","strColumnMax","modal","addDatepicker","minValue","maxValue","finalValue","$targetField","$options","$closestMin","$closestMax","Math","abs","strErrorProcessingRequest","windowWidth","window","width","css"],"sourceRoot":""}