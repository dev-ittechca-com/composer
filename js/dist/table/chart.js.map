{"version":3,"file":"table/chart.js","mappings":"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","sources":["webpack://phpmyadmin/./js/src/table/chart.js"],"sourcesContent":["\n/* global ColumnType, DataTable, JQPlotChartFactory */ // js/chart.js\n/* global codeMirrorEditor */ // js/functions.js\n\nvar chartData = {};\nvar tempChartTitle;\n\nvar currentChart = null;\nvar currentSettings = null;\n\nvar dateTimeCols = [];\nvar numericCols = [];\n\nfunction extractDate (dateString) {\n    var matches;\n    var match;\n    var dateTimeRegExp = /[0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}/;\n    var dateRegExp = /[0-9]{4}-[0-9]{2}-[0-9]{2}/;\n\n    matches = dateTimeRegExp.exec(dateString);\n    if (matches !== null && matches.length > 0) {\n        match = matches[0];\n        return new Date(match.substring(0, 4), parseInt(match.substring(5, 7), 10) - 1, match.substring(8, 10), match.substring(11, 13), match.substring(14, 16), match.substring(17, 19));\n    } else {\n        matches = dateRegExp.exec(dateString);\n        if (matches !== null && matches.length > 0) {\n            match = matches[0];\n            return new Date(match.substring(0, 4), parseInt(match.substring(5, 7), 10) - 1, match.substring(8, 10));\n        }\n    }\n    return null;\n}\n\nfunction queryChart (data, columnNames, settings) {\n    if ($('#querychart').length === 0) {\n        return;\n    }\n\n    var plotSettings = {\n        title : {\n            text : settings.title,\n            escapeHtml: true\n        },\n        grid : {\n            drawBorder : false,\n            shadow : false,\n            background : 'rgba(0,0,0,0)'\n        },\n        legend : {\n            show : true,\n            placement : 'outsideGrid',\n            location : 'e',\n            rendererOptions: {\n                numberColumns: 2\n            }\n        },\n        axes : {\n            xaxis : {\n                label : Functions.escapeHtml(settings.xaxisLabel)\n            },\n            yaxis : {\n                label : settings.yaxisLabel\n            }\n        },\n        stackSeries : settings.stackSeries\n    };\n\n    // create the chart\n    var factory = new JQPlotChartFactory();\n    var chart = factory.createChart(settings.type, 'querychart');\n\n    // create the data table and add columns\n    var dataTable = new DataTable();\n    if (settings.type === 'timeline') {\n        dataTable.addColumn(ColumnType.DATE, columnNames[settings.mainAxis]);\n    } else if (settings.type === 'scatter') {\n        dataTable.addColumn(ColumnType.NUMBER, columnNames[settings.mainAxis]);\n    } else {\n        dataTable.addColumn(ColumnType.STRING, columnNames[settings.mainAxis]);\n    }\n\n    var i;\n    var values = [];\n    if (settings.seriesColumn === null) {\n        $.each(settings.selectedSeries, function (index, element) {\n            dataTable.addColumn(ColumnType.NUMBER, columnNames[element]);\n        });\n\n        // set data to the data table\n        var columnsToExtract = [settings.mainAxis];\n        $.each(settings.selectedSeries, function (index, element) {\n            columnsToExtract.push(element);\n        });\n        var newRow;\n        var row;\n        var col;\n        for (i = 0; i < data.length; i++) {\n            row = data[i];\n            newRow = [];\n            for (var j = 0; j < columnsToExtract.length; j++) {\n                col = columnNames[columnsToExtract[j]];\n                if (j === 0) {\n                    if (settings.type === 'timeline') { // first column is date type\n                        newRow.push(extractDate(row[col]));\n                    } else if (settings.type === 'scatter') {\n                        newRow.push(parseFloat(row[col]));\n                    } else { // first column is string type\n                        newRow.push(row[col]);\n                    }\n                } else { // subsequent columns are of type, number\n                    newRow.push(parseFloat(row[col]));\n                }\n            }\n            values.push(newRow);\n        }\n        dataTable.setData(values);\n    } else {\n        var seriesNames = {};\n        var seriesNumber = 1;\n        var seriesColumnName = columnNames[settings.seriesColumn];\n        for (i = 0; i < data.length; i++) {\n            if (! seriesNames[data[i][seriesColumnName]]) {\n                seriesNames[data[i][seriesColumnName]] = seriesNumber;\n                seriesNumber++;\n            }\n        }\n\n        $.each(seriesNames, function (seriesName) {\n            dataTable.addColumn(ColumnType.NUMBER, seriesName);\n        });\n\n        var valueMap = {};\n        var xValue;\n        var value;\n        var mainAxisName = columnNames[settings.mainAxis];\n        var valueColumnName = columnNames[settings.valueColumn];\n        for (i = 0; i < data.length; i++) {\n            xValue = data[i][mainAxisName];\n            value = valueMap[xValue];\n            if (! value) {\n                value = [xValue];\n                valueMap[xValue] = value;\n            }\n            seriesNumber = seriesNames[data[i][seriesColumnName]];\n            value[seriesNumber] = parseFloat(data[i][valueColumnName]);\n        }\n\n        $.each(valueMap, function (index, value) {\n            values.push(value);\n        });\n        dataTable.setData(values);\n    }\n\n    // draw the chart and return the chart object\n    chart.draw(dataTable, plotSettings);\n    return chart;\n}\n\nfunction drawChart () {\n    currentSettings.width = $('#resizer').width() - 20;\n    currentSettings.height = $('#resizer').height() - 20;\n\n    // TODO: a better way using .redraw() ?\n    if (currentChart !== null) {\n        currentChart.destroy();\n    }\n\n    var columnNames = [];\n    $('#chartXAxisSelect option').each(function () {\n        columnNames.push(Functions.escapeHtml($(this).text()));\n    });\n    try {\n        currentChart = queryChart(chartData, columnNames, currentSettings);\n        if (currentChart !== null) {\n            $('#saveChart').attr('href', currentChart.toImageString());\n        }\n    } catch (err) {\n        Functions.ajaxShowMessage(err.message, false);\n    }\n}\n\nfunction getSelectedSeries () {\n    var val = $('#chartSeriesSelect').val() || [];\n    var ret = [];\n    $.each(val, function (i, v) {\n        ret.push(parseInt(v, 10));\n    });\n    return ret;\n}\n\nfunction onXAxisChange () {\n    var $xAxisSelect = $('#chartXAxisSelect');\n    currentSettings.mainAxis = parseInt($xAxisSelect.val(), 10);\n    if (dateTimeCols.indexOf(currentSettings.mainAxis) !== -1) {\n        document.getElementById('timelineChartType').classList.remove('d-none');\n    } else {\n        document.getElementById('timelineChartType').classList.add('d-none');\n        if (currentSettings.type === 'timeline') {\n            $('#lineChartTypeRadio').prop('checked', true);\n            currentSettings.type = 'line';\n        }\n    }\n    if (numericCols.indexOf(currentSettings.mainAxis) !== -1) {\n        document.getElementById('scatterChartType').classList.remove('d-none');\n    } else {\n        document.getElementById('scatterChartType').classList.add('d-none');\n        if (currentSettings.type === 'scatter') {\n            $('#lineChartTypeRadio').prop('checked', true);\n            currentSettings.type = 'line';\n        }\n    }\n    var xAxisTitle = $xAxisSelect.children('option:selected').text();\n    $('#xAxisLabelInput').val(xAxisTitle);\n    currentSettings.xaxisLabel = xAxisTitle;\n}\n\nfunction onDataSeriesChange () {\n    var $seriesSelect = $('#chartSeriesSelect');\n    currentSettings.selectedSeries = getSelectedSeries();\n    var yAxisTitle;\n    if (currentSettings.selectedSeries.length === 1) {\n        document.getElementById('pieChartType').classList.remove('d-none');\n        yAxisTitle = $seriesSelect.children('option:selected').text();\n    } else {\n        document.getElementById('pieChartType').classList.add('d-none');\n        if (currentSettings.type === 'pie') {\n            $('#lineChartTypeRadio').prop('checked', true);\n            currentSettings.type = 'line';\n        }\n        yAxisTitle = Messages.strYValues;\n    }\n    $('#yAxisLabelInput').val(yAxisTitle);\n    currentSettings.yaxisLabel = yAxisTitle;\n}\n\n/**\n * Unbind all event handlers before tearing down a page\n */\nAJAX.registerTeardown('table/chart.js', function () {\n    $('input[name=\"chartType\"]').off('click');\n    $('#barStackedCheckbox').off('click');\n    $('#seriesColumnCheckbox').off('click');\n    $('#chartTitleInput').off('focus').off('keyup').off('blur');\n    $('#chartXAxisSelect').off('change');\n    $('#chartSeriesSelect').off('change');\n    $('#chartSeriesColumnSelect').off('change');\n    $('#chartValueColumnSelect').off('change');\n    $('#xAxisLabelInput').off('keyup');\n    $('#yAxisLabelInput').off('keyup');\n    $('#resizer').off('resizestop');\n    $('#tblchartform').off('submit');\n});\n\nAJAX.registerOnload('table/chart.js', function () {\n    // handle manual resize\n    $('#resizer').on('resizestop', function () {\n        // make room so that the handle will still appear\n        $('#querychart').height($('#resizer').height() * 0.96);\n        $('#querychart').width($('#resizer').width() * 0.96);\n        if (currentChart !== null) {\n            currentChart.redraw({\n                resetAxes : true\n            });\n        }\n    });\n\n    // handle chart type changes\n    $('input[name=\"chartType\"]').on('click', function () {\n        var type = currentSettings.type = $(this).val();\n        if (type === 'bar' || type === 'column' || type === 'area') {\n            document.getElementById('barStacked').classList.remove('d-none');\n        } else {\n            $('#barStackedCheckbox').prop('checked', false);\n            $.extend(true, currentSettings, { stackSeries : false });\n            document.getElementById('barStacked').classList.add('d-none');\n        }\n        drawChart();\n    });\n\n    // handle chosing alternative data format\n    $('#seriesColumnCheckbox').on('click', function () {\n        var $seriesColumn = $('#chartSeriesColumnSelect');\n        var $valueColumn  = $('#chartValueColumnSelect');\n        var $chartSeries  = $('#chartSeriesSelect');\n        if ($(this).is(':checked')) {\n            $seriesColumn.prop('disabled', false);\n            $valueColumn.prop('disabled', false);\n            $chartSeries.prop('disabled', true);\n            currentSettings.seriesColumn = parseInt($seriesColumn.val(), 10);\n            currentSettings.valueColumn = parseInt($valueColumn.val(), 10);\n        } else {\n            $seriesColumn.prop('disabled', true);\n            $valueColumn.prop('disabled', true);\n            $chartSeries.prop('disabled', false);\n            currentSettings.seriesColumn = null;\n            currentSettings.valueColumn = null;\n        }\n        drawChart();\n    });\n\n    // handle stacking for bar, column and area charts\n    $('#barStackedCheckbox').on('click', function () {\n        if ($(this).is(':checked')) {\n            $.extend(true, currentSettings, { stackSeries : true });\n        } else {\n            $.extend(true, currentSettings, { stackSeries : false });\n        }\n        drawChart();\n    });\n\n    // handle changes in chart title\n    $('#chartTitleInput')\n        .on('focus', function () {\n            tempChartTitle = $(this).val();\n        })\n        .on('keyup', function () {\n            currentSettings.title = $('#chartTitleInput').val();\n            drawChart();\n        })\n        .on('blur', function () {\n            if ($(this).val() !== tempChartTitle) {\n                drawChart();\n            }\n        });\n\n    // handle changing the x-axis\n    $('#chartXAxisSelect').on('change', function () {\n        onXAxisChange();\n        drawChart();\n    });\n\n    // handle changing the selected data series\n    $('#chartSeriesSelect').on('change', function () {\n        onDataSeriesChange();\n        drawChart();\n    });\n\n    // handle changing the series column\n    $('#chartSeriesColumnSelect').on('change', function () {\n        currentSettings.seriesColumn = parseInt($(this).val(), 10);\n        drawChart();\n    });\n\n    // handle changing the value column\n    $('#chartValueColumnSelect').on('change', function () {\n        currentSettings.valueColumn = parseInt($(this).val(), 10);\n        drawChart();\n    });\n\n    // handle manual changes to the chart x-axis labels\n    $('#xAxisLabelInput').on('keyup', function () {\n        currentSettings.xaxisLabel = $(this).val();\n        drawChart();\n    });\n\n    // handle manual changes to the chart y-axis labels\n    $('#yAxisLabelInput').on('keyup', function () {\n        currentSettings.yaxisLabel = $(this).val();\n        drawChart();\n    });\n\n    // handler for ajax form submission\n    $('#tblchartform').on('submit', function () {\n        var $form = $(this);\n        if (codeMirrorEditor) {\n            $form[0].elements.sql_query.value = codeMirrorEditor.getValue();\n        }\n        if (!Functions.checkSqlQuery($form[0])) {\n            return false;\n        }\n\n        var $msgbox = Functions.ajaxShowMessage();\n        Functions.prepareForAjaxRequest($form);\n        $.post($form.attr('action'), $form.serialize(), function (data) {\n            if (typeof data !== 'undefined' &&\n                    data.success === true &&\n                    typeof data.chartData !== 'undefined') {\n                chartData = JSON.parse(data.chartData);\n                drawChart();\n                Functions.ajaxRemoveMessage($msgbox);\n            } else {\n                Functions.ajaxShowMessage(data.error, false);\n            }\n        }, 'json'); // end $.post()\n\n        return false;\n    });\n\n    // from jQuery UI\n    $('#resizer').resizable({\n        minHeight: 240,\n        minWidth: 300\n    })\n        .width($('#div_view_options').width() - 50)\n        .trigger('resizestop');\n\n    currentSettings = {\n        type : 'line',\n        width : $('#resizer').width() - 20,\n        height : $('#resizer').height() - 20,\n        xaxisLabel : $('#xAxisLabelInput').val(),\n        yaxisLabel : $('#yAxisLabelInput').val(),\n        title : $('#chartTitleInput').val(),\n        stackSeries : false,\n        mainAxis : parseInt($('#chartXAxisSelect').val(), 10),\n        selectedSeries : getSelectedSeries(),\n        seriesColumn : null\n    };\n\n    var vals = $('input[name=\"dateTimeCols\"]').val().split(' ');\n    $.each(vals, function (i, v) {\n        dateTimeCols.push(parseInt(v, 10));\n    });\n\n    vals = $('input[name=\"numericCols\"]').val().split(' ');\n    $.each(vals, function (i, v) {\n        numericCols.push(parseInt(v, 10));\n    });\n\n    onXAxisChange();\n    onDataSeriesChange();\n\n    $('#tblchartform').trigger('submit');\n});\n"],"names":["chartData","tempChartTitle","currentChart","currentSettings","dateTimeCols","numericCols","extractDate","dateString","matches","match","dateTimeRegExp","dateRegExp","exec","length","Date","substring","parseInt","queryChart","data","columnNames","settings","$","plotSettings","title","text","escapeHtml","grid","drawBorder","shadow","background","legend","show","placement","location","rendererOptions","numberColumns","axes","xaxis","label","Functions","xaxisLabel","yaxis","yaxisLabel","stackSeries","factory","JQPlotChartFactory","chart","createChart","type","dataTable","DataTable","addColumn","ColumnType","DATE","mainAxis","NUMBER","STRING","i","values","seriesColumn","each","selectedSeries","index","element","columnsToExtract","push","newRow","row","col","j","parseFloat","setData","seriesNames","seriesNumber","seriesColumnName","seriesName","valueMap","xValue","value","mainAxisName","valueColumnName","valueColumn","draw","drawChart","width","height","destroy","attr","toImageString","err","ajaxShowMessage","message","getSelectedSeries","val","ret","v","onXAxisChange","$xAxisSelect","indexOf","document","getElementById","classList","remove","add","prop","xAxisTitle","children","onDataSeriesChange","$seriesSelect","yAxisTitle","Messages","strYValues","AJAX","registerTeardown","off","registerOnload","on","redraw","resetAxes","extend","$seriesColumn","$valueColumn","$chartSeries","is","$form","codeMirrorEditor","elements","sql_query","getValue","checkSqlQuery","$msgbox","prepareForAjaxRequest","post","serialize","success","JSON","parse","ajaxRemoveMessage","error","resizable","minHeight","minWidth","trigger","vals","split"],"sourceRoot":""}