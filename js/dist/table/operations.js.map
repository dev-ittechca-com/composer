{"version":3,"file":"table/operations.js","mappings":";;;;;;AAAA;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AACAC,mEAAA,CAAsB,qBAAtB,EAA6C,YAAY;EACrDD,mCAAC,CAACY,QAAD,CAAD,CAAYC,GAAZ,CAAgB,QAAhB,EAA0B,iBAA1B;EACAb,mCAAC,CAACY,QAAD,CAAD,CAAYC,GAAZ,CAAgB,QAAhB,EAA0B,gBAA1B;EACAb,mCAAC,CAACY,QAAD,CAAD,CAAYC,GAAZ,CAAgB,QAAhB,EAA0B,mBAA1B;EACAb,mCAAC,CAACY,QAAD,CAAD,CAAYC,GAAZ,CAAgB,QAAhB,EAA0B,iBAA1B;EACAb,mCAAC,CAACY,QAAD,CAAD,CAAYC,GAAZ,CAAgB,OAAhB,EAAyB,4CAAzB;EACAb,mCAAC,CAACY,QAAD,CAAD,CAAYC,GAAZ,CAAgB,OAAhB,EAAyB,uBAAzB;EACAb,mCAAC,CAACY,QAAD,CAAD,CAAYC,GAAZ,CAAgB,OAAhB,EAAyB,wBAAzB;EACAb,mCAAC,CAACY,QAAD,CAAD,CAAYC,GAAZ,CAAgB,OAAhB,EAAyB,2BAAzB;EACAb,mCAAC,CAACY,QAAD,CAAD,CAAYC,GAAZ,CAAgB,OAAhB,EAAyB,yBAAzB;AACH,CAVD;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIC,cAAc,GAAG,UAAUC,UAAV,EAAsBC,MAAtB,EAA8B;EAC/C;AACJ;AACA;EACI,IAAIC,QAAQ,GAAG,EAAf;;EACA,IAAID,MAAM,KAAK,UAAf,EAA2B;IACvBC,QAAQ,IAAIC,MAAM,CAACC,QAAP,CAAgBC,6BAAhB,GAAgD,GAA5D;EACH,CAFD,MAEO,IAAIJ,MAAM,KAAK,QAAf,EAAyB;IAC5BC,QAAQ,IAAIC,MAAM,CAACC,QAAP,CAAgBE,2BAAhB,GAA8C,GAA1D;EACH;;EACDJ,QAAQ,IAAIC,MAAM,CAACI,OAAP,CAAeJ,MAAM,CAACC,QAAP,CAAgBI,cAA/B,EAA+CR,UAAU,CAACS,IAAX,CAAgB,OAAhB,CAA/C,CAAZ;EACAP,QAAQ,IAAIf,wFAAA,EAAZ;EACAa,UAAU,CAACW,OAAX,CAAmBT,QAAnB,EAA6BF,UAAU,CAACY,IAAX,CAAgB,MAAhB,CAA7B,EAAsD,UAAUC,GAAV,EAAe;IACjErB,yEAAe,CAACW,MAAM,CAACC,QAAP,CAAgBU,oBAAjB,CAAf;IAEA,IAAIC,MAAM,GAAGtB,yFAAuB,CAAC,IAAD,EAAOO,UAAU,CAACgB,WAAX,EAAP,CAApC;IAEA/B,wCAAA,CAAO4B,GAAP,EAAYE,MAAZ,EAAoB,UAAUN,IAAV,EAAgB;MAChC,IAAIxB,mCAAC,CAAC,kBAAD,CAAD,CAAsBiC,MAAtB,KAAiC,CAArC,EAAwC;QACpCjC,mCAAC,CAAC,kBAAD,CAAD,CAAsBkC,MAAtB;MACH;;MACD,IAAIlC,mCAAC,CAAC,eAAD,CAAD,CAAmBiC,MAAnB,KAA8B,CAAlC,EAAqC;QACjCjC,mCAAC,CAAC,eAAD,CAAD,CAAmBkC,MAAnB;MACH;;MACD,IAAI,OAAOV,IAAP,KAAgB,WAAhB,IAA+BA,IAAI,CAACW,OAAL,KAAiB,IAApD,EAA0D;QACtD5B,yEAAe,CAACiB,IAAI,CAACY,OAAN,CAAf;QACApC,mCAAC,CAAC,0CAAD,CAAD,CAA8CqC,SAA9C,CAAwD,eAAxD;QACArC,mCAAC,CAAC,kBAAD,CAAD,CAAsBsC,IAAtB,CAA2Bd,IAAI,CAACe,SAAhC;QACAlC,qEAAY,CAACL,mCAAC,CAAC,eAAD,CAAF,CAAZ;MACH,CALD,MAKO;QACHO,yEAAe,CAACiB,IAAI,CAACgB,KAAN,EAAa,KAAb,CAAf;MACH;IACJ,CAfD;EAgBH,CArBD,EAqBGtC,mFArBH;AAsBH,CAlCD;AAoCA;AACA;AACA;AACA;;;AACAD,iEAAA,CAAoB,qBAApB,EAA2C,YAAY;EACnD;AACJ;AACA;EACID,mCAAC,CAACY,QAAD,CAAD,CAAY+B,EAAZ,CAAe,QAAf,EAAyB,iBAAzB,EAA4C,UAAUC,KAAV,EAAiB;IACzDA,KAAK,CAACC,cAAN;IACA,IAAIC,KAAK,GAAG9C,mCAAC,CAAC,IAAD,CAAb;IACAE,kFAAA,CAAgC4C,KAAhC;IACA,IAAIE,MAAM,GAAG5C,gEAAA,CAAiB,eAAjB,CAAb;IACAJ,wCAAA,CAAO8C,KAAK,CAACnB,IAAN,CAAW,QAAX,CAAP,EAA6BmB,KAAK,CAACI,SAAN,KAAoBF,MAApB,GAA6B,gBAA1D,EAA4E,UAAUxB,IAAV,EAAgB;MACxF,IAAI,OAAOA,IAAP,KAAgB,WAAhB,IAA+BA,IAAI,CAACW,OAAL,KAAiB,IAApD,EAA0D;QACtD,IAAIW,KAAK,CAACK,IAAN,CAAW,+BAAX,EAA4CC,IAA5C,CAAiD,SAAjD,CAAJ,EAAiE;UAC7DhD,gEAAA,CACI,IADJ,EAEI0C,KAAK,CAACK,IAAN,CAAW,sDAAX,EAAmEG,GAAnE,EAFJ;UAIAlD,gEAAA,CACI,OADJ,EAEI0C,KAAK,CAACK,IAAN,CAAW,0BAAX,EAAuCG,GAAvC,EAFJ;UAIA5C,oFAAkB,CAAC,KAAD,CAAlB;;UACAT,2DAAA,GAAgB,MAAM;YAClBM,yEAAe,CAACiB,IAAI,CAACY,OAAN,CAAf;UACH,CAFD;QAGH,CAbD,MAaO;UACH7B,yEAAe,CAACiB,IAAI,CAACY,OAAN,CAAf;QACH,CAhBqD,CAiBtD;;;QACAjC,qEAAA;MACH,CAnBD,MAmBO;QACHI,yEAAe,CAACiB,IAAI,CAACgB,KAAN,EAAa,KAAb,CAAf;MACH;IACJ,CAvBD,EALyD,CA4BrD;EACP,CA7BD,EAJmD,CAiChD;;EAEH;AACJ;AACA;;EACIxC,mCAAC,CAACY,QAAD,CAAD,CAAY+B,EAAZ,CAAe,QAAf,EAAyB,gBAAzB,EAA2C,UAAUC,KAAV,EAAiB;IACxDA,KAAK,CAACC,cAAN;IACA,IAAIC,KAAK,GAAG9C,mCAAC,CAAC,IAAD,CAAb;IACAE,kFAAA,CAAgC4C,KAAhC;IACA,IAAIE,MAAM,GAAG5C,gEAAA,CAAiB,eAAjB,CAAb;IACAJ,wCAAA,CAAO8C,KAAK,CAACnB,IAAN,CAAW,QAAX,CAAP,EAA6BmB,KAAK,CAACI,SAAN,KAAoBF,MAApB,GAA6B,eAA1D,EAA2E,UAAUxB,IAAV,EAAgB;MACvF,IAAI,OAAOA,IAAP,KAAgB,WAAhB,IAA+BA,IAAI,CAACW,OAAL,KAAiB,IAApD,EAA0D;QACtD/B,gEAAA,CAAiB,IAAjB,EAAuBoB,IAAI,CAACM,MAAL,CAAY2B,EAAnC;QACArD,gEAAA,CAAiB,OAAjB,EAA0BoB,IAAI,CAACM,MAAL,CAAY4B,KAAtC;QACAhD,oFAAkB,CAAC,4BAAD,CAAlB;;QACAT,2DAAA,GAAgB,MAAM;UAClBM,yEAAe,CAACiB,IAAI,CAACY,OAAN,CAAf;QACH,CAFD,CAJsD,CAOtD;;;QACAjC,qEAAA;MACH,CATD,MASO;QACHI,yEAAe,CAACiB,IAAI,CAACgB,KAAN,EAAa,KAAb,CAAf;MACH;IACJ,CAbD;EAcH,CAnBD;EAqBA;AACJ;AACA;;EACIxC,mCAAC,CAACY,QAAD,CAAD,CAAY+B,EAAZ,CAAe,QAAf,EAAyB,mBAAzB,EAA8C,UAAUC,KAAV,EAAiB;IAC3DA,KAAK,CAACC,cAAN;IACAD,KAAK,CAACe,eAAN;IACA,IAAIb,KAAK,GAAG9C,mCAAC,CAAC,IAAD,CAAb;IACA,IAAI4D,aAAa,GAAGd,KAAK,CAACK,IAAN,CAAW,sBAAX,CAApB;IACA,IAAIU,kBAAkB,GAAGf,KAAK,CAACK,IAAN,CAAW,4BAAX,CAAzB;IACA,IAAIW,kBAAkB,GAAG9D,mCAAC,CAAC,+CAAD,CAAD,CAAmDsD,GAAnD,EAAzB;IACA,IAAIS,kCAAkC,GAAG/D,mCAAC,CAAC,iCAAD,CAA1C;IACA,IAAIiB,QAAQ,GAAGC,MAAM,CAACC,QAAP,CAAgB6C,mCAA/B;;IAEA,IAAIJ,aAAa,CAACN,GAAd,OAAwBM,aAAa,CAAC,CAAD,CAAb,CAAiBK,YAA7C,EAA2D;MACvD;MACA/D,kFAAA,CAAgC4C,KAAhC;;MAEA,IAAIe,kBAAkB,CAACP,GAAnB,OAA6BQ,kBAA7B,IAAmDC,kCAAkC,CAACG,EAAnC,CAAsC,UAAtC,CAAvD,EAA0G;QACtGpB,KAAK,CAACpB,OAAN,CAAcT,QAAd,EAAwB6B,KAAK,CAACnB,IAAN,CAAW,QAAX,CAAxB,EAA8C,YAAY;UACtDwC,iBAAiB;QACpB,CAFD;MAGH,CAJD,MAIO;QACHA,iBAAiB;MACpB;IACJ,CAXD,MAWO;MACH,IAAIN,kBAAkB,CAACP,GAAnB,OAA6BQ,kBAA7B,IAAmDC,kCAAkC,CAACG,EAAnC,CAAsC,UAAtC,CAAvD,EAA0G;QACtGpB,KAAK,CAACpB,OAAN,CAAcT,QAAd,EAAwB6B,KAAK,CAACnB,IAAN,CAAW,QAAX,CAAxB,EAA8C,YAAY;UACtDmB,KAAK,CAACsB,WAAN,CAAkB,MAAlB,EAA0BC,OAA1B,CAAkC,QAAlC,EAA4CC,QAA5C,CAAqD,MAArD;QACH,CAFD;MAGH,CAJD,MAIO;QACHxB,KAAK,CAACsB,WAAN,CAAkB,MAAlB,EAA0BC,OAA1B,CAAkC,QAAlC,EAA4CC,QAA5C,CAAqD,MAArD;MACH;IACJ;;IAED,SAASH,iBAAT,GAA8B;MAC1BnE,wCAAA,CAAO8C,KAAK,CAACnB,IAAN,CAAW,QAAX,CAAP,EAA6BmB,KAAK,CAACI,SAAN,EAA7B,EAAgD,UAAU1B,IAAV,EAAgB;QAC5D,IAAI,OAAOA,IAAP,KAAgB,WAAhB,IAA+BA,IAAI,CAACW,OAAL,KAAiB,IAApD,EAA0D;UACtD/B,gEAAA,CAAiB,OAAjB,EAA0BoB,IAAI,CAACM,MAAL,CAAY4B,KAAtC;UACAhD,oFAAkB,CAAC,KAAD,CAAlB;;UACAT,2DAAA,GAAgB,MAAM;YAClBD,mCAAC,CAAC,eAAD,CAAD,CAAmBsC,IAAnB,CAAwBd,IAAI,CAACY,OAA7B;YACA/B,qEAAY,CAACL,mCAAC,CAAC,eAAD,CAAF,CAAZ;UACH,CAHD,CAHsD,CAOtD;;;UACAG,qEAAA;QACH,CATD,MASO;UACHI,yEAAe,CAACiB,IAAI,CAACgB,KAAN,EAAa,KAAb,CAAf;QACH;MACJ,CAbD;IAcH;EACJ,CA/CD;EAiDA;AACJ;AACA;;EACIxC,mCAAC,CAACY,QAAD,CAAD,CAAY+B,EAAZ,CAAe,OAAf,EAAwB,4CAAxB,EAAsE,UAAUC,KAAV,EAAiB;IACnFA,KAAK,CAACC,cAAN;IACA,IAAI0B,KAAK,GAAGvE,mCAAC,CAAC,IAAD,CAAb;;IAEA,IAAIA,mCAAC,CAAC,kBAAD,CAAD,CAAsBiC,MAAtB,KAAiC,CAArC,EAAwC;MACpCjC,mCAAC,CAAC,kBAAD,CAAD,CAAsBkC,MAAtB;IACH;;IACD,IAAIlC,mCAAC,CAAC,eAAD,CAAD,CAAmBiC,MAAnB,KAA8B,CAAlC,EAAqC;MACjCjC,mCAAC,CAAC,eAAD,CAAD,CAAmBkC,MAAnB;IACH,CATkF,CAUnF;;;IACA,IAAIJ,MAAM,GAAG9B,yCAAA,CAAQ;MACjB,gBAAgB,CADC;MAEjB,UAAUI,gEAAA,CAAiB,QAAjB;IAFO,CAAR,CAAb;IAIA,IAAIqE,QAAQ,GAAGF,KAAK,CAACxC,WAAN,EAAf;;IACA,IAAI0C,QAAJ,EAAc;MACV3C,MAAM,IAAI1B,gEAAA,CAAiB,eAAjB,IAAoCqE,QAA9C;IACH;;IAEDzE,wCAAA,CAAOuE,KAAK,CAAC5C,IAAN,CAAW,MAAX,CAAP,EAA2BG,MAA3B,EAAmC,UAAUN,IAAV,EAAgB;MAC/C,SAASkD,WAAT,GAAwB;QACpB1E,mCAAC,CAAC,YAAD,CAAD,CAAgB2E,OAAhB,CAAwB;UAAEC,SAAS,EAAE;QAAb,CAAxB;MACH;;MAED,IAAIC,QAAJ;;MACA,IAAI,OAAOrD,IAAP,KAAgB,WAAhB,IAA+BA,IAAI,CAACW,OAAL,KAAiB,IAAhD,IAAwDX,IAAI,CAACe,SAAL,KAAmBuC,SAA/E,EAA0F;QACtFvE,yEAAe,CAACiB,IAAI,CAACY,OAAN,CAAf;QACApC,mCAAC,CAAC,4CAAD,CAAD,CAAgDqC,SAAhD,CAA0D,eAA1D;QACArC,mCAAC,CAAC,kBAAD,CAAD,CAAsBsC,IAAtB,CAA2Bd,IAAI,CAACe,SAAhC;QACAlC,qEAAY,CAACL,mCAAC,CAAC,eAAD,CAAF,CAAZ;QACA0E,WAAW;MACd,CAND,MAMO,IAAI,OAAOlD,IAAP,KAAgB,WAAhB,IAA+BA,IAAI,CAACW,OAAL,KAAiB,IAApD,EAA0D;QAC7D0C,QAAQ,GAAG7E,mCAAC,CAAC,6BAAD,CAAZ;QACA6E,QAAQ,CAACvC,IAAT,CAAcd,IAAI,CAACY,OAAnB;QACA,IAAI2C,QAAQ,GAAGF,QAAQ,CAAC1B,IAAT,CAAc,8BAAd,CAAf;QACA5C,yEAAe,CAACwE,QAAD,CAAf;QACA/E,mCAAC,CAAC,4CAAD,CAAD,CAAgDqC,SAAhD,CAA0D,eAA1D;QACArC,mCAAC,CAAC,kBAAD,CAAD,CAAsBsC,IAAtB,CAA2Bd,IAAI,CAACY,OAAhC;QACA/B,qEAAY,CAACL,mCAAC,CAAC,eAAD,CAAF,CAAZ;QACAA,mCAAC,CAAC,kBAAD,CAAD,CAAsBgF,QAAtB,CAA+B,aAA/B,EAA8C9C,MAA9C;QACAwC,WAAW;MACd,CAVM,MAUA;QACHG,QAAQ,GAAG7E,mCAAC,CAAC,6BAAD,CAAZ;QACA6E,QAAQ,CAACvC,IAAT,CAAcd,IAAI,CAACgB,KAAnB;QAEA,IAAIyC,MAAJ;;QACA,IAAIJ,QAAQ,CAAC1B,IAAT,CAAc,aAAd,EAA6BlB,MAA7B,KAAwC,CAA5C,EAA+C;UAC3CgD,MAAM,GAAGJ,QAAQ,CAAC1B,IAAT,CAAc,aAAd,EAA6BmB,QAA7B,CAAsC,OAAtC,CAAT;QACH,CAFD,MAEO;UACHW,MAAM,GAAGJ,QAAT;QACH;;QAEDtE,yEAAe,CAAC0E,MAAD,EAAS,KAAT,CAAf;MACH;IACJ,CAnCD,EApBmF,CAuD/E;EACP,CAxDD,EAlHmD,CA0KhD;;EAEH;AACJ;AACA;AACA;;EACIjF,mCAAC,CAACY,QAAD,CAAD,CAAY+B,EAAZ,CAAe,QAAf,EAAyB,iBAAzB,EAA4C,UAAUC,KAAV,EAAiB;IACzDA,KAAK,CAACC,cAAN;IACA,IAAIC,KAAK,GAAG9C,mCAAC,CAAC,IAAD,CAAb;;IAEA,SAASkF,0BAAT,GAAuC;MACnC,IAAIlC,MAAM,GAAG5C,gEAAA,CAAiB,eAAjB,CAAb;MACA,IAAI+E,UAAU,GAAGrC,KAAK,CAACI,SAAN,KAAoBF,MAApB,GAA6B,mBAA7B,GAAmDA,MAAnD,GAA4D,wBAA7E;MACAzC,yEAAe,CAACW,MAAM,CAACC,QAAP,CAAgBU,oBAAjB,CAAf;MACA5B,yDAAA,GAAc6C,KAAd;MACA9C,wCAAA,CAAO8C,KAAK,CAACnB,IAAN,CAAW,QAAX,CAAP,EAA6BwD,UAA7B,EAAyClF,kEAAzC;IACH;;IAED,IAAID,mCAAC,CAAC,8BAAD,CAAD,CAAkCkE,EAAlC,CAAqC,UAArC,CAAJ,EAAsD;MAClDpB,KAAK,CAACpB,OAAN,CAAcR,MAAM,CAACC,QAAP,CAAgBmE,uBAA9B,EAAuDxC,KAAK,CAACnB,IAAN,CAAW,QAAX,CAAvD,EAA6E,YAAY;QACrFuD,0BAA0B;MAC7B,CAFD;IAGH,CAJD,MAIO,IAAIlF,mCAAC,CAAC,kCAAD,CAAD,CAAsCkE,EAAtC,CAAyC,UAAzC,CAAJ,EAA0D;MAC7DpB,KAAK,CAACpB,OAAN,CAAcR,MAAM,CAACC,QAAP,CAAgBoE,2BAA9B,EAA2DzC,KAAK,CAACnB,IAAN,CAAW,QAAX,CAA3D,EAAiF,YAAY;QACzFuD,0BAA0B;MAC7B,CAFD;IAGH,CAJM,MAIA;MACHA,0BAA0B;IAC7B;EACJ,CAvBD;EAyBAlF,mCAAC,CAACY,QAAD,CAAD,CAAY+B,EAAZ,CAAe,OAAf,EAAwB,uBAAxB,EAAiD,UAAUC,KAAV,EAAiB;IAC9DA,KAAK,CAACC,cAAN;IACA,IAAI0B,KAAK,GAAGvE,mCAAC,CAAC,IAAD,CAAb;IACA;AACR;AACA;;IACQ,IAAIiB,QAAQ,GAAGC,MAAM,CAACC,QAAP,CAAgBqE,yBAAhB,GAA4C,GAA3D;IACAvE,QAAQ,IAAIC,MAAM,CAACI,OAAP,CAAeJ,MAAM,CAACC,QAAP,CAAgBI,cAA/B,EAA+CgD,KAAK,CAAC,CAAD,CAAL,CAASkB,YAAT,CAAsB,YAAtB,CAA/C,CAAZ;IACAxE,QAAQ,IAAIf,wFAAA,EAAZ;IAEAF,mCAAC,CAAC,IAAD,CAAD,CAAQ0B,OAAR,CAAgBT,QAAhB,EAA0BjB,mCAAC,CAAC,IAAD,CAAD,CAAQ2B,IAAR,CAAa,MAAb,CAA1B,EAAgD,UAAUC,GAAV,EAAe;MAC3D,IAAI8D,OAAO,GAAGnF,yEAAe,CAACW,MAAM,CAACC,QAAP,CAAgBU,oBAAjB,CAA7B;MAEA,IAAIC,MAAM,GAAGtB,yFAAuB,CAAC,IAAD,EAAO+D,KAAK,CAACxC,WAAN,EAAP,CAApC;MAEA/B,wCAAA,CAAO4B,GAAP,EAAYE,MAAZ,EAAoB,UAAUN,IAAV,EAAgB;QAChC,IAAI,OAAOA,IAAP,KAAgB,WAAhB,IAA+BA,IAAI,CAACW,OAAL,KAAiB,IAApD,EAA0D;UACtD7B,2EAAiB,CAACoF,OAAD,CAAjB,CADsD,CAEtD;;UACAvF,qEAAA;UACAC,gEAAA,CAAiB,OAAjB,EAA0B,EAA1B;UACAM,oFAAkB,CAACN,gEAAA,CAAiB,YAAjB,CAAD,CAAlB;;UACAH,2DAAA,GAAgB,MAAM;YAClBM,yEAAe,CAACiB,IAAI,CAACY,OAAN,CAAf;UACH,CAFD;QAGH,CATD,MASO;UACH7B,yEAAe,CAACiB,IAAI,CAACgB,KAAN,EAAa,KAAb,CAAf;QACH;MACJ,CAbD;IAcH,CAnBD,EAmBGtC,mFAnBH;EAoBH,CA9BD,EAzMmD,CAuO/C;;EAEJF,mCAAC,CAACY,QAAD,CAAD,CAAY+B,EAAZ,CAAe,OAAf,EAAwB,wBAAxB,EAAkD,UAAUC,KAAV,EAAiB;IAC/DA,KAAK,CAACC,cAAN;IACA,IAAI0B,KAAK,GAAGvE,mCAAC,CAAC,IAAD,CAAb;IACA;AACR;AACA;;IACQ,IAAIiB,QAAQ,GAAGC,MAAM,CAACC,QAAP,CAAgBqE,yBAAhB,GAA4C,GAA3D;IACAvE,QAAQ,IAAIC,MAAM,CAACI,OAAP,CACRJ,MAAM,CAACC,QAAP,CAAgBI,cADR,EAER,gBAAgBd,wEAAU,CAACL,gEAAA,CAAiB,OAAjB,IAA4B,GAA7B,CAFlB,CAAZ;IAKAJ,mCAAC,CAAC,IAAD,CAAD,CAAQ0B,OAAR,CAAgBT,QAAhB,EAA0BjB,mCAAC,CAAC,IAAD,CAAD,CAAQ2B,IAAR,CAAa,MAAb,CAA1B,EAAgD,UAAUC,GAAV,EAAe;MAC3D,IAAI8D,OAAO,GAAGnF,yEAAe,CAACW,MAAM,CAACC,QAAP,CAAgBU,oBAAjB,CAA7B;MACA,IAAIC,MAAM,GAAGtB,yFAAuB,CAAC,IAAD,EAAO+D,KAAK,CAACxC,WAAN,EAAP,CAApC;MACA/B,wCAAA,CAAO4B,GAAP,EAAYE,MAAZ,EAAoB,UAAUN,IAAV,EAAgB;QAChC,IAAI,OAAOA,IAAP,KAAgB,WAAhB,IAA+BA,IAAI,CAACW,OAAL,KAAiB,IAApD,EAA0D;UACtD7B,2EAAiB,CAACoF,OAAD,CAAjB,CADsD,CAEtD;;UACAvF,qEAAA;UACAC,gEAAA,CAAiB,OAAjB,EAA0B,EAA1B;UACAM,oFAAkB,CAACN,gEAAA,CAAiB,YAAjB,CAAD,CAAlB;;UACAH,2DAAA,GAAgB,MAAM;YAClBM,yEAAe,CAACiB,IAAI,CAACY,OAAN,CAAf;UACH,CAFD;QAGH,CATD,MASO;UACH7B,yEAAe,CAACiB,IAAI,CAACgB,KAAN,EAAa,KAAb,CAAf;QACH;MACJ,CAbD;IAcH,CAjBD;EAkBH,CA9BD,EAzOmD,CAuQ/C;;EAEJxC,mCAAC,CAACY,QAAD,CAAD,CAAY+B,EAAZ,CAAe,OAAf,EAAwB,2BAAxB,EAAqD,UAAUC,KAAV,EAAiB;IAClEA,KAAK,CAACC,cAAN;IACA/B,cAAc,CAACd,mCAAC,CAAC,IAAD,CAAF,EAAU,UAAV,CAAd;EACH,CAHD;EAKAA,mCAAC,CAACY,QAAD,CAAD,CAAY+B,EAAZ,CAAe,OAAf,EAAwB,yBAAxB,EAAmD,UAAUC,KAAV,EAAiB;IAChEA,KAAK,CAACC,cAAN;IACA/B,cAAc,CAACd,mCAAC,CAAC,IAAD,CAAF,EAAU,QAAV,CAAd;EACH,CAHD;AAIH,CAlRD,GAkRI","sources":["webpack://phpmyadmin/external var \"jQuery\"","webpack://phpmyadmin/./js/src/table/operations.js"],"sourcesContent":["module.exports = jQuery;","import $ from 'jquery';\nimport { AJAX } from '../modules/ajax.js';\nimport { Functions } from '../modules/functions.js';\nimport { Navigation } from '../modules/navigation.js';\nimport { CommonParams } from '../modules/common.js';\nimport highlightSql from '../modules/sql-highlight.js';\nimport { ajaxRemoveMessage, ajaxShowMessage } from '../modules/ajax-message.js';\nimport getJsConfirmCommonParam from '../modules/functions/getJsConfirmCommonParam.js';\nimport { escapeHtml } from '../modules/functions/escape.js';\nimport refreshMainContent from '../modules/functions/refreshMainContent.js';\n\n/**\n * Unbind all event handlers before tearing down a page\n */\nAJAX.registerTeardown('table/operations.js', function () {\n    $(document).off('submit', '#copyTable.ajax');\n    $(document).off('submit', '#moveTableForm');\n    $(document).off('submit', '#tableOptionsForm');\n    $(document).off('submit', '#partitionsForm');\n    $(document).off('click', '#tbl_maintenance li a.maintain_action.ajax');\n    $(document).off('click', '#drop_tbl_anchor.ajax');\n    $(document).off('click', '#drop_view_anchor.ajax');\n    $(document).off('click', '#truncate_tbl_anchor.ajax');\n    $(document).off('click', '#delete_tbl_anchor.ajax');\n});\n\n/**\n * Confirm and send POST request\n *\n * @param {JQuery} linkObject\n * @param {'TRUNCATE'|'DELETE'} action\n *\n * @return {void}\n */\nvar confirmAndPost = function (linkObject, action) {\n    /**\n     * @var {String} question String containing the question to be asked for confirmation\n     */\n    var question = '';\n    if (action === 'TRUNCATE') {\n        question += window.Messages.strTruncateTableStrongWarning + ' ';\n    } else if (action === 'DELETE') {\n        question += window.Messages.strDeleteTableStrongWarning + ' ';\n    }\n    question += window.sprintf(window.Messages.strDoYouReally, linkObject.data('query'));\n    question += Functions.getForeignKeyCheckboxLoader();\n    linkObject.confirm(question, linkObject.attr('href'), function (url) {\n        ajaxShowMessage(window.Messages.strProcessingRequest);\n\n        var params = getJsConfirmCommonParam(this, linkObject.getPostData());\n\n        $.post(url, params, function (data) {\n            if ($('.sqlqueryresults').length !== 0) {\n                $('.sqlqueryresults').remove();\n            }\n            if ($('.result_query').length !== 0) {\n                $('.result_query').remove();\n            }\n            if (typeof data !== 'undefined' && data.success === true) {\n                ajaxShowMessage(data.message);\n                $('<div class=\"sqlqueryresults ajax\"></div>').prependTo('#page_content');\n                $('.sqlqueryresults').html(data.sql_query);\n                highlightSql($('#page_content'));\n            } else {\n                ajaxShowMessage(data.error, false);\n            }\n        });\n    }, Functions.loadForeignKeyCheckbox);\n};\n\n/**\n * jQuery coding for 'Table operations'. Used on /table/operations\n * Attach Ajax Event handlers for Table operations\n */\nAJAX.registerOnload('table/operations.js', function () {\n    /**\n     * Ajax action for submitting the \"Copy table\"\n     */\n    $(document).on('submit', '#copyTable.ajax', function (event) {\n        event.preventDefault();\n        var $form = $(this);\n        Functions.prepareForAjaxRequest($form);\n        var argsep = CommonParams.get('arg_separator');\n        $.post($form.attr('action'), $form.serialize() + argsep + 'submit_copy=Go', function (data) {\n            if (typeof data !== 'undefined' && data.success === true) {\n                if ($form.find('input[name=\\'switch_to_new\\']').prop('checked')) {\n                    CommonParams.set(\n                        'db',\n                        $form.find('select[name=\\'target_db\\'],input[name=\\'target_db\\']').val()\n                    );\n                    CommonParams.set(\n                        'table',\n                        $form.find('input[name=\\'new_name\\']').val()\n                    );\n                    refreshMainContent(false);\n                    AJAX.callback = () => {\n                        ajaxShowMessage(data.message);\n                    };\n                } else {\n                    ajaxShowMessage(data.message);\n                }\n                // Refresh navigation when the table is copied\n                Navigation.reload();\n            } else {\n                ajaxShowMessage(data.error, false);\n            }\n        }); // end $.post()\n    });// end of copyTable ajax submit\n\n    /**\n     * Ajax action for submitting the \"Move table\"\n     */\n    $(document).on('submit', '#moveTableForm', function (event) {\n        event.preventDefault();\n        var $form = $(this);\n        Functions.prepareForAjaxRequest($form);\n        var argsep = CommonParams.get('arg_separator');\n        $.post($form.attr('action'), $form.serialize() + argsep + 'submit_move=1', function (data) {\n            if (typeof data !== 'undefined' && data.success === true) {\n                CommonParams.set('db', data.params.db);\n                CommonParams.set('table', data.params.table);\n                refreshMainContent('index.php?route=/table/sql');\n                AJAX.callback = () => {\n                    ajaxShowMessage(data.message);\n                };\n                // Refresh navigation when the table is copied\n                Navigation.reload();\n            } else {\n                ajaxShowMessage(data.error, false);\n            }\n        });\n    });\n\n    /**\n     * Ajax action for submitting the \"Table options\"\n     */\n    $(document).on('submit', '#tableOptionsForm', function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n        var $form = $(this);\n        var $tblNameField = $form.find('input[name=new_name]');\n        var $tblCollationField = $form.find('select[name=tbl_collation]');\n        var collationOrigValue = $('select[name=\"tbl_collation\"] option[selected]').val();\n        var $changeAllColumnCollationsCheckBox = $('#checkbox_change_all_collations');\n        var question = window.Messages.strChangeAllColumnCollationsWarning;\n\n        if ($tblNameField.val() !== $tblNameField[0].defaultValue) {\n            // reload page and navigation if the table has been renamed\n            Functions.prepareForAjaxRequest($form);\n\n            if ($tblCollationField.val() !== collationOrigValue && $changeAllColumnCollationsCheckBox.is(':checked')) {\n                $form.confirm(question, $form.attr('action'), function () {\n                    submitOptionsForm();\n                });\n            } else {\n                submitOptionsForm();\n            }\n        } else {\n            if ($tblCollationField.val() !== collationOrigValue && $changeAllColumnCollationsCheckBox.is(':checked')) {\n                $form.confirm(question, $form.attr('action'), function () {\n                    $form.removeClass('ajax').trigger('submit').addClass('ajax');\n                });\n            } else {\n                $form.removeClass('ajax').trigger('submit').addClass('ajax');\n            }\n        }\n\n        function submitOptionsForm () {\n            $.post($form.attr('action'), $form.serialize(), function (data) {\n                if (typeof data !== 'undefined' && data.success === true) {\n                    CommonParams.set('table', data.params.table);\n                    refreshMainContent(false);\n                    AJAX.callback = () => {\n                        $('#page_content').html(data.message);\n                        highlightSql($('#page_content'));\n                    };\n                    // Refresh navigation when the table is renamed\n                    Navigation.reload();\n                } else {\n                    ajaxShowMessage(data.error, false);\n                }\n            });\n        }\n    });\n\n    /**\n     * Ajax events for actions in the \"Table maintenance\"\n     */\n    $(document).on('click', '#tbl_maintenance li a.maintain_action.ajax', function (event) {\n        event.preventDefault();\n        var $link = $(this);\n\n        if ($('.sqlqueryresults').length !== 0) {\n            $('.sqlqueryresults').remove();\n        }\n        if ($('.result_query').length !== 0) {\n            $('.result_query').remove();\n        }\n        // variables which stores the common attributes\n        var params = $.param({\n            'ajax_request': 1,\n            'server': CommonParams.get('server')\n        });\n        var postData = $link.getPostData();\n        if (postData) {\n            params += CommonParams.get('arg_separator') + postData;\n        }\n\n        $.post($link.attr('href'), params, function (data) {\n            function scrollToTop () {\n                $('html, body').animate({ scrollTop: 0 });\n            }\n\n            var $tempDiv;\n            if (typeof data !== 'undefined' && data.success === true && data.sql_query !== undefined) {\n                ajaxShowMessage(data.message);\n                $('<div class=\\'sqlqueryresults ajax\\'></div>').prependTo('#page_content');\n                $('.sqlqueryresults').html(data.sql_query);\n                highlightSql($('#page_content'));\n                scrollToTop();\n            } else if (typeof data !== 'undefined' && data.success === true) {\n                $tempDiv = $('<div id=\\'temp_div\\'></div>');\n                $tempDiv.html(data.message);\n                var $success = $tempDiv.find('.result_query .alert-success');\n                ajaxShowMessage($success);\n                $('<div class=\\'sqlqueryresults ajax\\'></div>').prependTo('#page_content');\n                $('.sqlqueryresults').html(data.message);\n                highlightSql($('#page_content'));\n                $('.sqlqueryresults').children('fieldset,br').remove();\n                scrollToTop();\n            } else {\n                $tempDiv = $('<div id=\\'temp_div\\'></div>');\n                $tempDiv.html(data.error);\n\n                var $error;\n                if ($tempDiv.find('.error code').length !== 0) {\n                    $error = $tempDiv.find('.error code').addClass('error');\n                } else {\n                    $error = $tempDiv;\n                }\n\n                ajaxShowMessage($error, false);\n            }\n        }); // end $.post()\n    });// end of table maintenance ajax click\n\n    /**\n     * Ajax action for submitting the \"Partition Maintenance\"\n     * Also, asks for confirmation when DROP partition is submitted\n     */\n    $(document).on('submit', '#partitionsForm', function (event) {\n        event.preventDefault();\n        var $form = $(this);\n\n        function submitPartitionMaintenance () {\n            var argsep = CommonParams.get('arg_separator');\n            var submitData = $form.serialize() + argsep + 'ajax_request=true' + argsep + 'ajax_page_request=true';\n            ajaxShowMessage(window.Messages.strProcessingRequest);\n            AJAX.source = $form;\n            $.post($form.attr('action'), submitData, AJAX.responseHandler);\n        }\n\n        if ($('#partitionOperationRadioDrop').is(':checked')) {\n            $form.confirm(window.Messages.strDropPartitionWarning, $form.attr('action'), function () {\n                submitPartitionMaintenance();\n            });\n        } else if ($('#partitionOperationRadioTruncate').is(':checked')) {\n            $form.confirm(window.Messages.strTruncatePartitionWarning, $form.attr('action'), function () {\n                submitPartitionMaintenance();\n            });\n        } else {\n            submitPartitionMaintenance();\n        }\n    });\n\n    $(document).on('click', '#drop_tbl_anchor.ajax', function (event) {\n        event.preventDefault();\n        var $link = $(this);\n        /**\n         * @var {String} question String containing the question to be asked for confirmation\n         */\n        var question = window.Messages.strDropTableStrongWarning + ' ';\n        question += window.sprintf(window.Messages.strDoYouReally, $link[0].getAttribute('data-query'));\n        question += Functions.getForeignKeyCheckboxLoader();\n\n        $(this).confirm(question, $(this).attr('href'), function (url) {\n            var $msgbox = ajaxShowMessage(window.Messages.strProcessingRequest);\n\n            var params = getJsConfirmCommonParam(this, $link.getPostData());\n\n            $.post(url, params, function (data) {\n                if (typeof data !== 'undefined' && data.success === true) {\n                    ajaxRemoveMessage($msgbox);\n                    // Table deleted successfully, refresh both the frames\n                    Navigation.reload();\n                    CommonParams.set('table', '');\n                    refreshMainContent(CommonParams.get('opendb_url'));\n                    AJAX.callback = () => {\n                        ajaxShowMessage(data.message);\n                    };\n                } else {\n                    ajaxShowMessage(data.error, false);\n                }\n            });\n        }, Functions.loadForeignKeyCheckbox);\n    }); // end of Drop Table Ajax action\n\n    $(document).on('click', '#drop_view_anchor.ajax', function (event) {\n        event.preventDefault();\n        var $link = $(this);\n        /**\n         * @var {String} question String containing the question to be asked for confirmation\n         */\n        var question = window.Messages.strDropTableStrongWarning + ' ';\n        question += window.sprintf(\n            window.Messages.strDoYouReally,\n            'DROP VIEW `' + escapeHtml(CommonParams.get('table') + '`')\n        );\n\n        $(this).confirm(question, $(this).attr('href'), function (url) {\n            var $msgbox = ajaxShowMessage(window.Messages.strProcessingRequest);\n            var params = getJsConfirmCommonParam(this, $link.getPostData());\n            $.post(url, params, function (data) {\n                if (typeof data !== 'undefined' && data.success === true) {\n                    ajaxRemoveMessage($msgbox);\n                    // Table deleted successfully, refresh both the frames\n                    Navigation.reload();\n                    CommonParams.set('table', '');\n                    refreshMainContent(CommonParams.get('opendb_url'));\n                    AJAX.callback = () => {\n                        ajaxShowMessage(data.message);\n                    };\n                } else {\n                    ajaxShowMessage(data.error, false);\n                }\n            });\n        });\n    }); // end of Drop View Ajax action\n\n    $(document).on('click', '#truncate_tbl_anchor.ajax', function (event) {\n        event.preventDefault();\n        confirmAndPost($(this), 'TRUNCATE');\n    });\n\n    $(document).on('click', '#delete_tbl_anchor.ajax', function (event) {\n        event.preventDefault();\n        confirmAndPost($(this), 'DELETE');\n    });\n}); // end $(document).ready for 'Table operations'\n"],"names":["$","AJAX","Functions","Navigation","CommonParams","highlightSql","ajaxRemoveMessage","ajaxShowMessage","getJsConfirmCommonParam","escapeHtml","refreshMainContent","registerTeardown","document","off","confirmAndPost","linkObject","action","question","window","Messages","strTruncateTableStrongWarning","strDeleteTableStrongWarning","sprintf","strDoYouReally","data","getForeignKeyCheckboxLoader","confirm","attr","url","strProcessingRequest","params","getPostData","post","length","remove","success","message","prependTo","html","sql_query","error","loadForeignKeyCheckbox","registerOnload","on","event","preventDefault","$form","prepareForAjaxRequest","argsep","get","serialize","find","prop","set","val","callback","reload","db","table","stopPropagation","$tblNameField","$tblCollationField","collationOrigValue","$changeAllColumnCollationsCheckBox","strChangeAllColumnCollationsWarning","defaultValue","is","submitOptionsForm","removeClass","trigger","addClass","$link","param","postData","scrollToTop","animate","scrollTop","$tempDiv","undefined","$success","children","$error","submitPartitionMaintenance","submitData","source","responseHandler","strDropPartitionWarning","strTruncatePartitionWarning","strDropTableStrongWarning","getAttribute","$msgbox"],"sourceRoot":""}