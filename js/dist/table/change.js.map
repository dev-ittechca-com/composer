{"version":3,"file":"table/change.js","mappings":"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","sources":["webpack://phpmyadmin/./js/src/table/change.js"],"sourcesContent":["/**\n * @fileoverview    function used in table data manipulation pages\n *\n * @requires    jQuery\n * @requires    jQueryUI\n * @requires    js/functions.js\n *\n */\n\n/* global extendingValidatorMessages */ // templates/javascript/variables.twig\n/* global openGISEditor, gisEditorLoaded, loadJSAndGISEditor, loadGISEditor */ // js/gis_data_editor.js\n\n/**\n * Modify form controls when the \"NULL\" checkbox is checked\n *\n * @param {string} theType   the MySQL field type\n * @param {string} urlField  the urlencoded field name - OBSOLETE\n * @param {string} md5Field  the md5 hashed field name\n * @param {string} multiEdit the multi_edit row sequence number\n *\n * @return {boolean} always true\n */\nfunction nullify (theType, urlField, md5Field, multiEdit) {\n    var rowForm = document.forms.insertForm;\n\n    if (typeof(rowForm.elements['funcs' + multiEdit + '[' + md5Field + ']']) !== 'undefined') {\n        rowForm.elements['funcs' + multiEdit + '[' + md5Field + ']'].selectedIndex = -1;\n    }\n\n    // \"ENUM\" field with more than 20 characters\n    if (Number(theType) === 1) {\n        rowForm.elements['fields' + multiEdit + '[' + md5Field +  ']'][1].selectedIndex = -1;\n    // Other \"ENUM\" field\n    } else if (Number(theType) === 2) {\n        var elts     = rowForm.elements['fields' + multiEdit + '[' + md5Field + ']'];\n        // when there is just one option in ENUM:\n        if (elts.checked) {\n            elts.checked = false;\n        } else {\n            var eltsCnt = elts.length;\n            for (var i = 0; i < eltsCnt; i++) {\n                elts[i].checked = false;\n            } // end for\n        } // end if\n    // \"SET\" field\n    } else if (Number(theType) === 3) {\n        rowForm.elements['fields' + multiEdit + '[' + md5Field +  '][]'].selectedIndex = -1;\n    // Foreign key field (drop-down)\n    } else if (Number(theType) === 4) {\n        rowForm.elements['fields' + multiEdit + '[' + md5Field +  ']'].selectedIndex = -1;\n    // foreign key field (with browsing icon for foreign values)\n    } else if (Number(theType) === 6) {\n        rowForm.elements['fields' + multiEdit + '[' + md5Field + ']'].value = '';\n    // Other field types\n    } else /* if (theType === 5)*/ {\n        rowForm.elements['fields' + multiEdit + '[' + md5Field + ']'].value = '';\n    } // end if... else if... else\n\n    return true;\n} // end of the 'nullify()' function\n\n\n/**\n * javascript DateTime format validation.\n * its used to prevent adding default (0000-00-00 00:00:00) to database when user enter wrong values\n * Start of validation part\n */\n// function checks the number of days in febuary\nfunction daysInFebruary (year) {\n    return (((year % 4 === 0) && (((year % 100 !== 0)) || (year % 400 === 0))) ? 29 : 28);\n}\n// function to convert single digit to double digit\nfunction fractionReplace (number) {\n    var num = parseInt(number, 10);\n    return num >= 1 && num <= 9 ? '0' + num : '00';\n}\n\n/* function to check the validity of date\n* The following patterns are accepted in this validation (accepted in mysql as well)\n* 1) 2001-12-23\n* 2) 2001-1-2\n* 3) 02-12-23\n* 4) And instead of using '-' the following punctuations can be used (+,.,*,^,@,/) All these are accepted by mysql as well. Therefore no issues\n*/\nfunction isDate (val, tmstmp) {\n    var value = val.replace(/[.|*|^|+|//|@]/g, '-');\n    var arrayVal = value.split('-');\n    for (var a = 0; a < arrayVal.length; a++) {\n        if (arrayVal[a].length === 1) {\n            arrayVal[a] = fractionReplace(arrayVal[a]);\n        }\n    }\n    value = arrayVal.join('-');\n    var pos = 2;\n    var dtexp = new RegExp(/^([0-9]{4})-(((01|03|05|07|08|10|12)-((0[0-9])|([1-2][0-9])|(3[0-1])))|((02|04|06|09|11)-((0[0-9])|([1-2][0-9])|30))|((00)-(00)))$/);\n    if (value.length === 8) {\n        pos = 0;\n    }\n    if (dtexp.test(value)) {\n        var month = parseInt(value.substring(pos + 3, pos + 5), 10);\n        var day = parseInt(value.substring(pos + 6, pos + 8), 10);\n        var year = parseInt(value.substring(0, pos + 2), 10);\n        if (month === 2 && day > daysInFebruary(year)) {\n            return false;\n        }\n        if (value.substring(0, pos + 2).length === 2) {\n            year = parseInt('20' + value.substring(0, pos + 2), 10);\n        }\n        if (tmstmp === true) {\n            if (year < 1978) {\n                return false;\n            }\n            if (year > 2038 || (year > 2037 && day > 19 && month >= 1) || (year > 2037 && month > 1)) {\n                return false;\n            }\n        }\n    } else {\n        return false;\n    }\n    return true;\n}\n\n/* function to check the validity of time\n* The following patterns are accepted in this validation (accepted in mysql as well)\n* 1) 2:3:4\n* 2) 2:23:43\n* 3) 2:23:43.123456\n*/\nfunction isTime (val) {\n    var arrayVal = val.split(':');\n    for (var a = 0, l = arrayVal.length; a < l; a++) {\n        if (arrayVal[a].length === 1) {\n            arrayVal[a] = fractionReplace(arrayVal[a]);\n        }\n    }\n    var newVal = arrayVal.join(':');\n    var tmexp = new RegExp(/^(-)?(([0-7]?[0-9][0-9])|(8[0-2][0-9])|(83[0-8])):((0[0-9])|([1-5][0-9])):((0[0-9])|([1-5][0-9]))(\\.[0-9]{1,6}){0,1}$/);\n    return tmexp.test(newVal);\n}\n\n/**\n * To check whether insert section is ignored or not\n * @param {string} multiEdit\n * @return {boolean}\n */\nfunction checkForCheckbox (multiEdit) {\n    if ($('#insert_ignore_' + multiEdit).length) {\n        return $('#insert_ignore_' + multiEdit).is(':unchecked');\n    }\n    return true;\n}\n\n// used in Search page mostly for INT fields\n// eslint-disable-next-line no-unused-vars\nfunction verifyAfterSearchFieldChange (index, searchFormId) {\n    var $thisInput = $('input[name=\\'criteriaValues[' + index + ']\\']');\n    // Add  data-skip-validators attribute to skip validation in changeValueFieldType function\n    if ($('#fieldID_' + index).data('data-skip-validators')) {\n        $(searchFormId).validate().destroy();\n        return;\n    }\n    // validation for integer type\n    if ($thisInput.data('type') === 'INT' ||\n        $thisInput.data('type') === 'TINYINT') {\n        // Trim spaces if it's an integer\n        $thisInput.val($thisInput.val().trim());\n\n        var hasMultiple = $thisInput.prop('multiple');\n\n        if (hasMultiple) {\n            $(searchFormId).validate({\n                // update errors as we write\n                onkeyup: function (element) {\n                    $(element).valid();\n                }\n            });\n            // validator method for IN(...), NOT IN(...)\n            // BETWEEN and NOT BETWEEN\n            jQuery.validator.addMethod('validationFunctionForMultipleInt', function (value) {\n                return value.match(/^(?:(?:\\d\\s*)|\\s*)+(?:,\\s*\\d+)*$/i) !== null;\n            },\n            Messages.strEnterValidNumber\n            );\n            validateMultipleIntField($thisInput, true);\n        } else {\n            $(searchFormId).validate({\n                // update errors as we write\n                onkeyup: function (element) {\n                    $(element).valid();\n                }\n            });\n            validateIntField($thisInput, true);\n        }\n        // Update error on dropdown change\n        $thisInput.valid();\n    }\n}\n\n/**\n * Validate the an input contains multiple int values\n * @param {jQuery} jqueryInput the Jquery object\n * @param {boolean} returnValueIfFine the value to return if the validator passes\n * @return {void}\n */\nfunction validateMultipleIntField (jqueryInput, returnValueIfFine) {\n    // removing previous rules\n    jqueryInput.rules('remove');\n\n    jqueryInput.rules('add', {\n        validationFunctionForMultipleInt: {\n            param: jqueryInput.value,\n            depends: function () {\n                return returnValueIfFine;\n            }\n        }\n    });\n}\n\n/**\n * Validate the an input contains an int value\n * @param {jQuery} jqueryInput the Jquery object\n * @param {boolean} returnValueIfIsNumber the value to return if the validator passes\n * @return {void}\n */\nfunction validateIntField (jqueryInput, returnValueIfIsNumber) {\n    var mini = parseInt(jqueryInput.data('min'));\n    var maxi = parseInt(jqueryInput.data('max'));\n    // removing previous rules\n    jqueryInput.rules('remove');\n\n    jqueryInput.rules('add', {\n        number: {\n            param: true,\n            depends: function () {\n                return returnValueIfIsNumber;\n            }\n        },\n        min: {\n            param: mini,\n            depends: function () {\n                if (isNaN(jqueryInput.val())) {\n                    return false;\n                } else {\n                    return returnValueIfIsNumber;\n                }\n            }\n        },\n        max: {\n            param: maxi,\n            depends: function () {\n                if (isNaN(jqueryInput.val())) {\n                    return false;\n                } else {\n                    return returnValueIfIsNumber;\n                }\n            }\n        }\n    });\n}\n\nfunction verificationsAfterFieldChange (urlField, multiEdit, theType) {\n    var evt = window.event || arguments.callee.caller.arguments[0];\n    var target = evt.target || evt.srcElement;\n    var $thisInput = $(':input[name^=\\'fields[multi_edit][' + multiEdit + '][' +\n        urlField + ']\\']');\n    // the function drop-down that corresponds to this input field\n    var $thisFunction = $('select[name=\\'funcs[multi_edit][' + multiEdit + '][' +\n        urlField + ']\\']');\n    var functionSelected = false;\n    if (typeof $thisFunction.val() !== 'undefined' &&\n        $thisFunction.val() !== null &&\n        $thisFunction.val().length > 0\n    ) {\n        functionSelected = true;\n    }\n\n    // To generate the textbox that can take the salt\n    var newSaltBox = '<br><input type=text name=salt[multi_edit][' + multiEdit + '][' + urlField + ']' +\n        ' id=salt_' + target.id + ' placeholder=\\'' + Messages.strEncryptionKey + '\\'>';\n\n    // If encrypting or decrypting functions that take salt as input is selected append the new textbox for salt\n    if (target.value === 'AES_ENCRYPT' ||\n            target.value === 'AES_DECRYPT' ||\n            target.value === 'DES_ENCRYPT' ||\n            target.value === 'DES_DECRYPT' ||\n            target.value === 'ENCRYPT') {\n        if (!($('#salt_' + target.id).length)) {\n            $thisInput.after(newSaltBox);\n        }\n    } else {\n        // Remove the textbox for salt\n        $('#salt_' + target.id).prev('br').remove();\n        $('#salt_' + target.id).remove();\n    }\n\n    // Remove possible blocking rules if the user changed functions\n    $('#' + target.id).rules('remove', 'validationFunctionForMd5');\n    $('#' + target.id).rules('remove', 'validationFunctionForAesDesEncrypt');\n\n    if (target.value === 'MD5') {\n        $('#' + target.id).rules('add', {\n            validationFunctionForMd5: {\n                param: $thisInput,\n                depends: function () {\n                    return checkForCheckbox(multiEdit);\n                }\n            }\n        });\n    }\n\n    if (target.value === 'DES_ENCRYPT' || target.value === 'AES_ENCRYPT') {\n        $('#' + target.id).rules('add', {\n            validationFunctionForAesDesEncrypt: {\n                param: $thisInput,\n                depends: function () {\n                    return checkForCheckbox(multiEdit);\n                }\n            }\n        });\n    }\n\n    if (target.value === 'HEX' && theType.startsWith('int')) {\n        // Add note when HEX function is selected on a int\n        var newHexInfo = '<br><p id=\"note' +  target.id + '\">' + Messages.HexConversionInfo + '</p>';\n        if (!$('#note' + target.id).length) {\n            $thisInput.after(newHexInfo);\n        }\n    } else {\n        $('#note' + target.id)\n            .prev('br')\n            .remove();\n        $('#note' + target.id).remove();\n    }\n    // Unchecks the corresponding \"NULL\" control\n    $('input[name=\\'fields_null[multi_edit][' + multiEdit + '][' + urlField + ']\\']').prop('checked', false);\n\n    // Unchecks the Ignore checkbox for the current row\n    $('input[name=\\'insert_ignore_' + multiEdit + '\\']').prop('checked', false);\n\n    var charExceptionHandling;\n    if (theType.startsWith('char')) {\n        charExceptionHandling = theType.substring(5, 6);\n    } else if (theType.startsWith('varchar')) {\n        charExceptionHandling = theType.substring(8, 9);\n    }\n    if (functionSelected) {\n        $thisInput.removeAttr('min');\n        $thisInput.removeAttr('max');\n        // @todo: put back attributes if corresponding function is deselected\n    }\n\n    if ($thisInput.data('rulesadded') === null && ! functionSelected) {\n        // call validate before adding rules\n        $($thisInput[0].form).validate();\n        // validate for date time\n        if (theType === 'datetime' || theType === 'time' || theType === 'date' || theType === 'timestamp') {\n            $thisInput.rules('add', {\n                validationFunctionForDateTime: {\n                    param: theType,\n                    depends: function () {\n                        return checkForCheckbox(multiEdit);\n                    }\n                }\n            });\n        }\n        // validation for integer type\n        if ($thisInput.data('type') === 'INT') {\n            validateIntField($thisInput, checkForCheckbox(multiEdit));\n            // validation for CHAR types\n        } else if ($thisInput.data('type') === 'CHAR') {\n            var maxlen = $thisInput.data('maxlength');\n            if (typeof maxlen !== 'undefined') {\n                if (maxlen <= 4) {\n                    maxlen = charExceptionHandling;\n                }\n                $thisInput.rules('add', {\n                    maxlength: {\n                        param: maxlen,\n                        depends: function () {\n                            return checkForCheckbox(multiEdit);\n                        }\n                    }\n                });\n            }\n            // validate binary & blob types\n        } else if ($thisInput.data('type') === 'HEX') {\n            $thisInput.rules('add', {\n                validationFunctionForHex: {\n                    param: true,\n                    depends: function () {\n                        return checkForCheckbox(multiEdit);\n                    }\n                }\n            });\n        }\n        $thisInput.data('rulesadded', true);\n    } else if ($thisInput.data('rulesadded') === true && functionSelected) {\n        // remove any rules added\n        $thisInput.rules('remove');\n        // remove any error messages\n        $thisInput\n            .removeClass('error')\n            .removeAttr('aria-invalid')\n            .siblings('.error')\n            .remove();\n        $thisInput.data('rulesadded', null);\n    }\n}\n/* End of fields validation*/\n\n/**\n * Unbind all event handlers before tearing down a page\n */\nAJAX.registerTeardown('table/change.js', function () {\n    $(document).off('click', 'span.open_gis_editor');\n    $(document).off('click', 'input[name^=\\'insert_ignore_\\']');\n    $(document).off('click', 'input[name=\\'gis_data[save]\\']');\n    $(document).off('click', 'input.checkbox_null');\n    $('select[name=\"submit_type\"]').off('change');\n    $(document).off('change', '#insert_rows');\n});\n\n/**\n * Ajax handlers for Change Table page\n *\n * Actions Ajaxified here:\n * Submit Data to be inserted into the table.\n * Restart insertion with 'N' rows.\n */\nAJAX.registerOnload('table/change.js', function () {\n    if ($('#insertForm').length) {\n        // validate the comment form when it is submitted\n        $('#insertForm').validate();\n        jQuery.validator.addMethod('validationFunctionForHex', function (value) {\n            return value.match(/^[a-f0-9]*$/i) !== null;\n        });\n\n        jQuery.validator.addMethod('validationFunctionForMd5', function (value, element, options) {\n            return !(value.startsWith('MD5') &&\n                typeof options.data('maxlength') !== 'undefined' &&\n                options.data('maxlength') < 32);\n        });\n\n        jQuery.validator.addMethod('validationFunctionForAesDesEncrypt', function (value, element, options) {\n            var funType = value.substring(0, 3);\n            if (funType !== 'AES' && funType !== 'DES') {\n                return false;\n            }\n\n            var dataType = options.data('type');\n\n            if (dataType === 'HEX' || dataType === 'CHAR') {\n                return true;\n            }\n\n            return false;\n        });\n\n        jQuery.validator.addMethod('validationFunctionForDateTime', function (value, element, options) {\n            var dtValue = value;\n            var theType = options;\n            if (theType === 'date') {\n                return isDate(dtValue);\n            } else if (theType === 'time') {\n                return isTime(dtValue);\n            } else if (theType === 'datetime' || theType === 'timestamp') {\n                var tmstmp = false;\n                dtValue = dtValue.trim();\n                if (dtValue === 'CURRENT_TIMESTAMP' || dtValue === 'current_timestamp()') {\n                    return true;\n                }\n                if (theType === 'timestamp') {\n                    tmstmp = true;\n                }\n                if (dtValue === '0000-00-00 00:00:00') {\n                    return true;\n                }\n                var dv = dtValue.indexOf(' ');\n                if (dv === -1) { // Only the date component, which is valid\n                    return isDate(dtValue, tmstmp);\n                }\n\n                return isDate(dtValue.substring(0, dv), tmstmp) &&\n                    isTime(dtValue.substring(dv + 1));\n            }\n        });\n    }\n\n    /*\n     * message extending script must be run\n     * after initiation of functions\n     */\n    extendingValidatorMessages();\n\n    $.datepicker.initialized = false;\n\n    $(document).on('click', 'span.open_gis_editor', function (event) {\n        event.preventDefault();\n\n        var $span = $(this);\n        // Current value\n        var value = $span.parent('td').children('input[type=\\'text\\']').val();\n        // Field name\n        var field = $span.parents('tr').children('td').first().find('input[type=\\'hidden\\']').val();\n        // Column type\n        var type = $span.parents('tr').find('span.column_type').text();\n        // Names of input field and null checkbox\n        var inputName = $span.parent('td').children('input[type=\\'text\\']').attr('name');\n\n        openGISEditor();\n        if (!gisEditorLoaded) {\n            loadJSAndGISEditor(value, field, type, inputName);\n        } else {\n            loadGISEditor(value, field, type, inputName);\n        }\n    });\n\n    /**\n     * Forced validation check of fields\n     */\n    $(document).on('click','input[name^=\\'insert_ignore_\\']', function () {\n        $('#insertForm').valid();\n    });\n\n    /**\n     * Uncheck the null checkbox as geometry data is placed on the input field\n     */\n    $(document).on('click', 'input[name=\\'gis_data[save]\\']', function () {\n        var inputName = $('form#gis_data_editor_form').find('input[name=\\'input_name\\']').val();\n        var currentRow = $('input[name=\\'' + inputName + '\\']').parents('tr');\n        var $nullCheckbox = currentRow.find('.checkbox_null');\n        $nullCheckbox.prop('checked', false);\n        var rowId = currentRow.find('.open_gis_editor').data('row-id');\n\n        // Unchecks the Ignore checkbox for the current row\n        $('input[name=\\'insert_ignore_' + rowId + '\\']').prop('checked', false);\n    });\n\n    /**\n     * Handles all current checkboxes for Null; this only takes care of the\n     * checkboxes on currently displayed rows as the rows generated by\n     * \"Continue insertion\" are handled in the \"Continue insertion\" code\n     *\n     */\n    $(document).on('click', 'input.checkbox_null', function () {\n        nullify(\n            // use hidden fields populated by /table/change\n            $(this).siblings('.nullify_code').val(),\n            $(this).closest('tr').find('input:hidden').first().val(),\n            $(this).siblings('.hashed_field').val(),\n            $(this).siblings('.multi_edit').val()\n        );\n    });\n\n    /**\n     * Reset the auto_increment column to 0 when selecting any of the\n     * insert options in submit_type-dropdown. Only perform the reset\n     * when we are in edit-mode, and not in insert-mode(no previous value\n     * available).\n     */\n    $('select[name=\"submit_type\"]').on('change', function () {\n        var thisElemSubmitTypeVal = $(this).val();\n        var $table = $('table.insertRowTable');\n        var autoIncrementColumn = $table.find('input[name^=\"auto_increment\"]');\n        autoIncrementColumn.each(function () {\n            var $thisElemAIField = $(this);\n            var thisElemName = $thisElemAIField.attr('name');\n\n            var prevValueField = $table.find('input[name=\"' + thisElemName.replace('auto_increment', 'fields_prev') + '\"]');\n            var valueField = $table.find('input[name=\"' + thisElemName.replace('auto_increment', 'fields') + '\"]');\n            var previousValue = $(prevValueField).val();\n            if (previousValue !== undefined) {\n                if (thisElemSubmitTypeVal === 'insert'\n                    || thisElemSubmitTypeVal === 'insertignore'\n                    || thisElemSubmitTypeVal === 'showinsert'\n                ) {\n                    $(valueField).val(null);\n                } else {\n                    $(valueField).val(previousValue);\n                }\n            }\n        });\n    });\n\n    /**\n     * Handle ENTER key when press on Continue insert with field\n     */\n    $('#insert_rows').on('keypress', function (e) {\n        var key = e.which;\n        if (key === 13) {\n            addNewContinueInsertionFields(e);\n        }\n    });\n\n    /**\n     * Continue Insertion form\n     */\n    $(document).on('change', '#insert_rows', addNewContinueInsertionFields);\n});\n\nfunction addNewContinueInsertionFields (event) {\n    event.preventDefault();\n    /**\n     * @var columnCount   Number of number of columns table has.\n     */\n    var columnCount = $('table.insertRowTable').first().find('tr').has('input[name*=\\'fields_name\\']').length;\n    /**\n     * @var curr_rows   Number of current insert rows already on page\n     */\n    var currRows = $('table.insertRowTable').length;\n    /**\n     * @var target_rows Number of rows the user wants\n     */\n    var targetRows = $('#insert_rows').val();\n\n    // remove all datepickers\n    $('input.datefield, input.datetimefield').each(function () {\n        $(this).datepicker('destroy');\n    });\n\n    if (currRows < targetRows) {\n        var tempIncrementIndex = function () {\n            var $thisElement = $(this);\n            /**\n             * Extract the index from the name attribute for all input/select fields and increment it\n             * name is of format funcs[multi_edit][10][<long random string of alphanum chars>]\n             */\n\n            /**\n             * @var this_name   String containing name of the input/select elements\n             */\n            var thisName = $thisElement.attr('name');\n            /** split {@link thisName} at [10], so we have the parts that can be concatenated later */\n            var nameParts = thisName.split(/\\[\\d+\\]/);\n            /** extract the [10] from  {@link nameParts} */\n            var oldRowIndexString = thisName.match(/\\[\\d+\\]/)[0];\n            /** extract 10 - had to split into two steps to accomodate double digits */\n            var oldRowIndex = parseInt(oldRowIndexString.match(/\\d+/)[0], 10);\n\n            /** calculate next index i.e. 11 */\n            newRowIndex = oldRowIndex + 1;\n            /** generate the new name i.e. funcs[multi_edit][11][foobarbaz] */\n            var newName = nameParts[0] + '[' + newRowIndex + ']' + nameParts[1];\n\n            var hashedField = nameParts[1].match(/\\[(.+)\\]/)[1];\n            $thisElement.attr('name', newName);\n\n            /** If element is select[name*='funcs'], update id */\n            if ($thisElement.is('select[name*=\\'funcs\\']')) {\n                var thisId = $thisElement.attr('id');\n                var idParts = thisId.split(/_/);\n                var oldIdIndex = idParts[1];\n                var prevSelectedValue = $('#field_' + oldIdIndex + '_1').val();\n                var newIdIndex = parseInt(oldIdIndex) + columnCount;\n                var newId = 'field_' + newIdIndex + '_1';\n                $thisElement.attr('id', newId);\n                $thisElement.find('option').filter(function () {\n                    return $(this).text() === prevSelectedValue;\n                }).attr('selected','selected');\n\n                // If salt field is there then update its id.\n                var nextSaltInput = $thisElement.parent().next('td').next('td').find('input[name*=\\'salt\\']');\n                if (nextSaltInput.length !== 0) {\n                    nextSaltInput.attr('id', 'salt_' + newId);\n                }\n            }\n\n            // handle input text fields and textareas\n            if ($thisElement.is('.textfield') || $thisElement.is('.char') || $thisElement.is('textarea')) {\n                // do not remove the 'value' attribute for ENUM columns\n                // special handling for radio fields after updating ids to unique - see below\n                if ($thisElement.closest('tr').find('span.column_type').html() !== 'enum') {\n                    $thisElement.val($thisElement.closest('tr').find('span.default_value').html());\n                }\n                $thisElement\n                    .off('change')\n                    // Remove onchange attribute that was placed\n                    // by /table/change; it refers to the wrong row index\n                    .attr('onchange', null)\n                    // Keep these values to be used when the element\n                    // will change\n                    .data('hashed_field', hashedField)\n                    .data('new_row_index', newRowIndex)\n                    .on('change', function () {\n                        var $changedElement = $(this);\n                        verificationsAfterFieldChange(\n                            $changedElement.data('hashed_field'),\n                            $changedElement.data('new_row_index'),\n                            $changedElement.closest('tr').find('span.column_type').html()\n                        );\n                    });\n            }\n\n            if ($thisElement.is('.checkbox_null')) {\n                $thisElement\n                // this event was bound earlier by jQuery but\n                // to the original row, not the cloned one, so unbind()\n                    .off('click')\n                    // Keep these values to be used when the element\n                    // will be clicked\n                    .data('hashed_field', hashedField)\n                    .data('new_row_index', newRowIndex)\n                    .on('click', function () {\n                        var $changedElement = $(this);\n                        nullify(\n                            $changedElement.siblings('.nullify_code').val(),\n                            $thisElement.closest('tr').find('input:hidden').first().val(),\n                            $changedElement.data('hashed_field'),\n                            '[multi_edit][' + $changedElement.data('new_row_index') + ']'\n                        );\n                    });\n            }\n        };\n\n        var tempReplaceAnchor = function () {\n            var $anchor = $(this);\n            var newValue = 'rownumber=' + newRowIndex;\n            // needs improvement in case something else inside\n            // the href contains this pattern\n            var newHref = $anchor.attr('href').replace(/rownumber=\\d+/, newValue);\n            $anchor.attr('href', newHref);\n        };\n\n        var restoreValue = function () {\n            if ($(this).closest('tr').find('span.column_type').html() === 'enum') {\n                if ($(this).val() === $checkedValue) {\n                    $(this).prop('checked', true);\n                } else {\n                    $(this).prop('checked', false);\n                }\n            }\n        };\n\n        while (currRows < targetRows) {\n            /**\n             * @var $last_row    Object referring to the last row\n             */\n            var $lastRow = $('#insertForm').find('.insertRowTable').last();\n\n            // need to access this at more than one level\n            // (also needs improvement because it should be calculated\n            //  just once per cloned row, not once per column)\n            var newRowIndex = 0;\n            var $checkedValue = $lastRow.find('input:checked').val();\n\n            // Clone the insert tables\n            $lastRow\n                .clone(true, true)\n                .insertBefore('#actions_panel')\n                .find('input[name*=multi_edit],select[name*=multi_edit],textarea[name*=multi_edit]')\n                .each(tempIncrementIndex)\n                .end()\n                .find('.foreign_values_anchor')\n                .each(tempReplaceAnchor);\n\n            var $oldRow = $lastRow.find('.textfield');\n            $oldRow.each(restoreValue);\n\n            // set the value of enum field of new row to default\n            var $newRow = $('#insertForm').find('.insertRowTable').last();\n            $newRow.find('.textfield').each(function () {\n                if ($(this).closest('tr').find('span.column_type').html() === 'enum') {\n                    if ($(this).val() === $(this).closest('tr').find('span.default_value').html()) {\n                        $(this).prop('checked', true);\n                    } else {\n                        $(this).prop('checked', false);\n                    }\n                }\n            });\n\n\n            // Insert/Clone the ignore checkboxes\n            if (currRows === 1) {\n                $('<input id=\"insert_ignore_1\" type=\"checkbox\" name=\"insert_ignore_1\" checked=\"checked\">')\n                    .insertBefore($('table.insertRowTable').last())\n                    .after('<label for=\"insert_ignore_1\">' + Messages.strIgnore + '</label>');\n            } else {\n                /**\n                 * @var $last_checkbox   Object reference to the last checkbox in #insertForm\n                 */\n                var $lastCheckbox = $('#insertForm').children('input:checkbox').last();\n\n                /** name of {@link $lastCheckbox} */\n                var lastCheckboxName = $lastCheckbox.attr('name');\n                /** index of {@link $lastCheckbox} */\n                var lastCheckboxIndex = parseInt(lastCheckboxName.match(/\\d+/), 10);\n                /** name of new {@link $lastCheckbox} */\n                var newName = lastCheckboxName.replace(/\\d+/, lastCheckboxIndex + 1);\n\n                $('<br><div class=\"clearfloat\"></div>')\n                    .insertBefore($('table.insertRowTable').last());\n\n                $lastCheckbox\n                    .clone()\n                    .attr({ 'id': newName, 'name': newName })\n                    .prop('checked', true)\n                    .insertBefore($('table.insertRowTable').last());\n\n                $('label[for^=insert_ignore]').last()\n                    .clone()\n                    .attr('for', newName)\n                    .insertBefore($('table.insertRowTable').last());\n\n                $('<br>')\n                    .insertBefore($('table.insertRowTable').last());\n            }\n            currRows++;\n        }\n        // recompute tabindex for text fields and other controls at footer;\n        // IMO it's not really important to handle the tabindex for\n        // function and Null\n        var tabIndex = 0;\n        $('.textfield, .char, textarea')\n            .each(function () {\n                tabIndex++;\n                $(this).attr('tabindex', tabIndex);\n                // update the IDs of textfields to ensure that they are unique\n                $(this).attr('id', 'field_' + tabIndex + '_3');\n            });\n        $('.control_at_footer')\n            .each(function () {\n                tabIndex++;\n                $(this).attr('tabindex', tabIndex);\n            });\n    } else if (currRows > targetRows) {\n        /**\n         * Displays alert if data loss possible on decrease\n         * of rows.\n         */\n        var checkLock = jQuery.isEmptyObject(AJAX.lockedTargets);\n        if (checkLock || confirm(Messages.strConfirmRowChange) === true) {\n            while (currRows > targetRows) {\n                $('input[id^=insert_ignore]').last()\n                    .nextUntil('fieldset')\n                    .addBack()\n                    .remove();\n                currRows--;\n            }\n        } else {\n            document.getElementById('insert_rows').value = currRows;\n        }\n    }\n    // Add all the required datepickers back\n    Functions.addDateTimePicker();\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction changeValueFieldType (elem, searchIndex) {\n    var fieldsValue = $('input#fieldID_' + searchIndex);\n    if (0 === fieldsValue.size()) {\n        return;\n    }\n    var type = $(elem).val();\n\n    if ('LIKE' === type ||\n        'LIKE %...%' === type ||\n        'NOT LIKE' === type ||\n        'NOT LIKE %...%' === type\n    ) {\n        $('#fieldID_' + searchIndex).data('data-skip-validators', true);\n        return;\n    } else {\n        $('#fieldID_' + searchIndex).data('data-skip-validators', false);\n    }\n\n    if ('IN (...)' === type ||\n        'NOT IN (...)' === type ||\n        'BETWEEN' === type ||\n        'NOT BETWEEN' === type\n    ) {\n        $('#fieldID_' + searchIndex).prop('multiple', true);\n    } else {\n        $('#fieldID_' + searchIndex).prop('multiple', false);\n    }\n}\n"],"names":["nullify","theType","urlField","md5Field","multiEdit","rowForm","document","forms","insertForm","elements","selectedIndex","Number","elts","checked","eltsCnt","length","i","value","daysInFebruary","year","fractionReplace","number","num","parseInt","isDate","val","tmstmp","replace","arrayVal","split","a","join","pos","dtexp","RegExp","test","month","substring","day","isTime","l","newVal","tmexp","checkForCheckbox","$","is","verifyAfterSearchFieldChange","index","searchFormId","$thisInput","data","validate","destroy","trim","hasMultiple","prop","onkeyup","element","valid","jQuery","validator","addMethod","match","Messages","strEnterValidNumber","validateMultipleIntField","validateIntField","jqueryInput","returnValueIfFine","rules","validationFunctionForMultipleInt","param","depends","returnValueIfIsNumber","mini","maxi","min","isNaN","max","verificationsAfterFieldChange","evt","window","event","arguments","callee","caller","target","srcElement","$thisFunction","functionSelected","newSaltBox","id","strEncryptionKey","after","prev","remove","validationFunctionForMd5","validationFunctionForAesDesEncrypt","startsWith","newHexInfo","HexConversionInfo","charExceptionHandling","removeAttr","form","validationFunctionForDateTime","maxlen","maxlength","validationFunctionForHex","removeClass","siblings","AJAX","registerTeardown","off","registerOnload","options","funType","dataType","dtValue","dv","indexOf","extendingValidatorMessages","datepicker","initialized","on","preventDefault","$span","parent","children","field","parents","first","find","type","text","inputName","attr","openGISEditor","gisEditorLoaded","loadJSAndGISEditor","loadGISEditor","currentRow","$nullCheckbox","rowId","closest","thisElemSubmitTypeVal","$table","autoIncrementColumn","each","$thisElemAIField","thisElemName","prevValueField","valueField","previousValue","undefined","e","key","which","addNewContinueInsertionFields","columnCount","has","currRows","targetRows","tempIncrementIndex","$thisElement","thisName","nameParts","oldRowIndexString","oldRowIndex","newRowIndex","newName","hashedField","thisId","idParts","oldIdIndex","prevSelectedValue","newIdIndex","newId","filter","nextSaltInput","next","html","$changedElement","tempReplaceAnchor","$anchor","newValue","newHref","restoreValue","$checkedValue","$lastRow","last","clone","insertBefore","end","$oldRow","$newRow","strIgnore","$lastCheckbox","lastCheckboxName","lastCheckboxIndex","tabIndex","checkLock","isEmptyObject","lockedTargets","confirm","strConfirmRowChange","nextUntil","addBack","getElementById","Functions","addDateTimePicker","changeValueFieldType","elem","searchIndex","fieldsValue","size"],"sourceRoot":""}