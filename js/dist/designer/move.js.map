{"version":3,"file":"designer/move.js","mappings":"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","sources":["webpack://phpmyadmin/./js/src/designer/move.js"],"sourcesContent":["/**\n * @package PhpMyAdmin-Designer\n */\n\n/* global DesignerObjects */ // js/designer/objects.js\n/* global DesignerHistory, historyArray, selectField */ // js/designer/history.js\n/* global contr, db, designerTablesEnabled, displayField, hTabs, jTabs, selectedPage:writable, server */ // js/designer/init.js\n/* global DesignerPage */ // js/designer/page.js\n/* global themeImagePath */ // templates/javascript/variables.twig\n\nvar DesignerMove = {};\n\nvar change = 0; // variable to track any change in designer layout.\nvar showRelationLines = true;\nvar alwaysShowText = false;\n\nwindow.AJAX.registerTeardown('designer/move.js', function () {\n    $(document).off('fullscreenchange');\n    $('#selflink').show();\n});\n\nwindow.AJAX.registerOnload('designer/move.js', function () {\n    var $content = $('#page_content');\n    var $img = $('#toggleFullscreen').find('img');\n    var $span = $img.siblings('span');\n\n    $content.css({ 'margin-left': '3px' });\n    $(document).on('fullscreenchange', function () {\n        if (! document.fullscreenElement) {\n            $content.removeClass('content_fullscreen')\n                .css({ 'width': 'auto', 'height': 'auto' });\n            $('#osn_tab').css({ 'width': 'auto', 'height': 'auto' });\n            $img.attr('src', $img.data('enter'))\n                .attr('title', $span.data('enter'));\n            $span.text($span.data('enter'));\n\n            // Saving the fullscreen state in config when\n            // designer exists fullscreen mode via ESC key\n\n            var valueSent = 'off';\n            DesignerMove.saveValueInConfig('full_screen', valueSent);\n        }\n    });\n\n    $('#selflink').hide();\n});\n\nDesignerMove.markSaved = function () {\n    change = 0;\n    $('#saved_state').text('');\n};\n\nDesignerMove.markUnsaved = function () {\n    change = 1;\n    $('#saved_state').text('*');\n};\n\nvar mainDirection = $('html').attr('dir') === 'rtl' ? 'right' : 'left';\n// Will be used to multiply the offsetLeft by -1 if the direction is rtl.\nvar directionEffect = mainDirection === 'right' ? -1 : 1;\nvar curClick = null;\nvar smS           = 0;\nvar smAdd         = 10;\nvar sLeft         = 0;\nvar sRight        = 0;\nvar onRelation    = 0;\nvar onGrid        = 0;\nvar onDisplayField = 0;\n// relation_style: 0 - angular 1 - direct\nvar onAngularDirect = 1;\nvar clickField    = 0;\nvar linkRelation  = '';\nvar canvasWidth   = 0;\nvar canvasHeight  = 0;\nvar osnTabWidth  = 0;\nvar osnTabHeight = 0;\nvar heightField   = 7;\nvar globX;\nvar globY;\nvar timeoutId;\nvar layerMenuCurClick = 0;\nvar fromArray = [];\nvar menuMoved = false;\nvar gridSize = 10;\n\n// ------------------------------------------------------------------------------\n\nvar isIe = document.all && !window.opera;\n\nif (isIe) {\n    window.onscroll = DesignerMove.generalScroll;\n    document.onselectstart = function () {\n        return false;\n    };\n}\n\nDesignerMove.mouseDown = function (e) {\n    // eslint-disable-next-line compat/compat\n    globX = isIe ? e.clientX + document.body.scrollLeft : e.pageX;\n    // eslint-disable-next-line compat/compat\n    globY = isIe ? e.clientY + document.body.scrollTop : e.pageY;\n\n    if (e.target.tagName === 'SPAN') {\n        curClick = e.target.parentNode.parentNode.parentNode.parentNode;\n    } else if (e.target.className === 'tab_zag_2') {\n        curClick = e.target.parentNode.parentNode.parentNode;\n    } else if (e.target.id === 'layer_menu_sizer_btn') {\n        layerMenuCurClick = 1;\n    } else if (e.target.className === 'M_butt') {\n        return false;\n    }\n\n    if (curClick !== null) {\n        document.getElementById('canvas').style.display = 'none';\n        curClick.style.zIndex = 2;\n    }\n};\n\nDesignerMove.mouseMove = function (e) {\n    if (e.preventDefault) {\n        e.preventDefault();\n    }\n\n    // eslint-disable-next-line compat/compat\n    var newDx = isIe ? e.clientX + document.body.scrollLeft : e.pageX;\n    // eslint-disable-next-line compat/compat\n    var newDy = isIe ? e.clientY + document.body.scrollTop : e.pageY;\n\n    var deltaX = globX - newDx;\n    var deltaY = globY - newDy;\n\n    globX = newDx;\n    globY = newDy;\n\n    if (curClick !== null) {\n        DesignerMove.markUnsaved();\n\n        var $curClick = $(curClick);\n\n        var curX = parseFloat($curClick.attr('data-' + mainDirection) || $curClick.css(mainDirection));\n        var curY = parseFloat($curClick.attr('data-top') || $curClick.css('top'));\n\n        var newX = curX - directionEffect * deltaX;\n        var newY = curY - deltaY;\n\n        $curClick.attr('data-' + mainDirection, newX);\n        $curClick.attr('data-top', newY);\n\n        if (onGrid) {\n            newX = parseInt(newX / gridSize) * gridSize;\n            newY = parseInt(newY / gridSize) * gridSize;\n        }\n\n        if (newX < 0) {\n            newX = 0;\n        } else if (newY < 0) {\n            newY = 0;\n        }\n        $curClick.css(mainDirection, newX + 'px');\n        $curClick.css('top', newY + 'px');\n    } else if (layerMenuCurClick) {\n        if (menuMoved) {\n            deltaX = -deltaX;\n        }\n        var $layerMenu = $('#layer_menu');\n        var newWidth = $layerMenu.width() + directionEffect * deltaX;\n        if (newWidth < 150) {\n            newWidth = 150;\n        }\n        $layerMenu.width(newWidth);\n    }\n\n    if (onRelation || onDisplayField) {\n        document.getElementById('designer_hint').style.left = (globX + 20) + 'px';\n        document.getElementById('designer_hint').style.top  = (globY + 20) + 'px';\n    }\n};\n\nDesignerMove.mouseUp = function () {\n    if (curClick !== null) {\n        document.getElementById('canvas').style.display = 'inline-block';\n        DesignerMove.reload();\n        curClick.style.zIndex = 1;\n        curClick = null;\n    }\n    layerMenuCurClick = 0;\n};\n\n// ------------------------------------------------------------------------------\n\nDesignerMove.canvasPos = function () {\n    canvasWidth  = document.getElementById('canvas').width  = osnTabWidth  - 3;\n    canvasHeight = document.getElementById('canvas').height = osnTabHeight - 3;\n\n    if (isIe) {\n        document.getElementById('canvas').style.width  = ((osnTabWidth  - 3) ? (osnTabWidth  - 3) : 0) + 'px';\n        document.getElementById('canvas').style.height = ((osnTabHeight - 3) ? (osnTabHeight - 3) : 0) + 'px';\n    }\n};\n\nDesignerMove.osnTabPos = function () {\n    osnTabWidth  = parseInt(document.getElementById('osn_tab').style.width, 10);\n    osnTabHeight = parseInt(document.getElementById('osn_tab').style.height, 10);\n};\n\nDesignerMove.setDefaultValuesFromSavedState = function () {\n    if ($('#angular_direct_button').attr('class') === 'M_butt') {\n        onAngularDirect = 0;\n    } else {\n        onAngularDirect = 1;\n    }\n    DesignerMove.angularDirect();\n\n    if ($('#grid_button').attr('class') === 'M_butt') {\n        onGrid = 1;\n    } else {\n        onGrid = 0;\n    }\n    DesignerMove.grid();\n\n    var $relLineInvert = $('#relLineInvert');\n    if ($relLineInvert.attr('class') === 'M_butt') {\n        showRelationLines = false;\n        $relLineInvert.attr('class', 'M_butt');\n    } else {\n        showRelationLines = true;\n        $relLineInvert.attr('class', 'M_butt_Selected_down');\n    }\n    DesignerMove.relationLinesInvert();\n\n    if ($('#pin_Text').attr('class') === 'M_butt_Selected_down') {\n        alwaysShowText = true;\n        DesignerMove.showText();\n    } else {\n        alwaysShowText = false;\n    }\n\n    var $keySbAll = $('#key_SB_all');\n    if ($keySbAll.attr('class') === 'M_butt_Selected_down') {\n        $keySbAll.trigger('click');\n        $keySbAll.toggleClass('M_butt_Selected_down');\n        $keySbAll.toggleClass('M_butt');\n    }\n\n    var $keyLeftRight = $('#key_Left_Right');\n    if ($keyLeftRight.attr('class') === 'M_butt_Selected_down') {\n        $keyLeftRight.trigger('click');\n    }\n};\n\nDesignerMove.main = function () {\n    // ---CROSS\n\n    document.getElementById('layer_menu').style.top = -1000 + 'px'; // fast scroll\n    DesignerMove.osnTabPos();\n    DesignerMove.canvasPos();\n    DesignerMove.smallTabRefresh();\n    DesignerMove.reload();\n    DesignerMove.setDefaultValuesFromSavedState();\n    if (isIe) {\n        DesignerMove.generalScroll();\n    }\n};\n\nDesignerMove.resizeOsnTab = function () {\n    var maxX = 0;\n    var maxY = 0;\n    for (var key in jTabs) {\n        var kX = parseInt(document.getElementById(key).style[mainDirection], 10) + document.getElementById(key).offsetWidth;\n        var kY = parseInt(document.getElementById(key).style.top, 10) + document.getElementById(key).offsetHeight;\n        maxX = maxX < kX ? kX : maxX;\n        maxY = maxY < kY ? kY : maxY;\n    }\n\n    osnTabWidth  = maxX + 50;\n    osnTabHeight = maxY + 50;\n    DesignerMove.canvasPos();\n};\n\n/**\n * Draw a colored line\n *\n * @param {number} x1\n * @param {number} x2\n * @param {number} y1\n * @param {number} y2\n * @param {HTMLElement} osnTab\n * @param {string} colorTarget\n * @return {void}\n */\nDesignerMove.drawLine0 = function (x1, x2, y1, y2, osnTab, colorTarget) {\n    DesignerMove.line0(\n        x1 + directionEffect * osnTab.offsetLeft,\n        y1 - osnTab.offsetTop,\n        x2 + directionEffect * osnTab.offsetLeft,\n        y2 - osnTab.offsetTop,\n        DesignerMove.getColorByTarget(colorTarget)\n    );\n};\n\n/**\n * refreshes display, must be called after state changes\n */\nDesignerMove.reload = function () {\n    DesignerMove.resizeOsnTab();\n    var n;\n    var x1;\n    var x2;\n    var a = [];\n    var K;\n    var key;\n    var key2;\n    var key3;\n    DesignerMove.clear();\n    var osnTab = document.getElementById('osn_tab');\n    for (K in contr) {\n        for (key in contr[K]) {\n            // contr name\n            for (key2 in contr[K][key]) {\n                // table name\n                for (key3 in contr[K][key][key2]) {\n                    // field name\n                    if (!document.getElementById('check_vis_' + key2).checked ||\n                        !document.getElementById('check_vis_' + contr[K][key][key2][key3][0]).checked) {\n                        // if hide\n                        continue;\n                    }\n                    var x1Left  = document.getElementById(key2).offsetLeft + 1;\n                    var x1Right = x1Left + document.getElementById(key2).offsetWidth;\n                    var x2Left  = document.getElementById(contr[K][key][key2][key3][0]).offsetLeft;\n                    var x2Right = x2Left + document.getElementById(contr[K][key][key2][key3][0]).offsetWidth;\n                    a[0] = Math.abs(x1Left - x2Left);\n                    a[1] = Math.abs(x1Left - x2Right);\n                    a[2] = Math.abs(x1Right - x2Left);\n                    a[3] = Math.abs(x1Right - x2Right);\n                    n = sLeft = sRight = 0;\n                    for (var i = 1; i < 4; i++) {\n                        if (a[n] > a[i]) {\n                            n = i;\n                        }\n                    }\n                    if (n === 1) {\n                        x1 = x1Left - smS;\n                        x2 = x2Right + smS;\n                        if (x1 < x2) {\n                            n = 0;\n                        }\n                    }\n                    if (n === 2) {\n                        x1 = x1Right + smS;\n                        x2 = x2Left - smS;\n                        if (x1 > x2) {\n                            n = 0;\n                        }\n                    }\n                    if (n === 3) {\n                        x1 = x1Right + smS;\n                        x2 = x2Right + smS;\n                        sRight = 1;\n                    }\n                    if (n === 0) {\n                        x1 = x1Left - smS;\n                        x2 = x2Left - smS;\n                        sLeft = 1;\n                    }\n\n                    var rowOffsetTop = 0;\n                    var tabHideButton = document.getElementById('id_hide_tbody_' + key2);\n\n                    if (tabHideButton.innerHTML === 'v') {\n                        var fromColumn = document.getElementById(key2 + '.' + key3);\n                        if (fromColumn) {\n                            rowOffsetTop = fromColumn.offsetTop;\n                        } else {\n                            continue;\n                        }\n                    }\n\n                    var y1 = document.getElementById(key2).offsetTop +\n                        rowOffsetTop +\n                        heightField;\n\n\n                    rowOffsetTop = 0;\n                    tabHideButton = document.getElementById('id_hide_tbody_' + contr[K][key][key2][key3][0]);\n                    if (tabHideButton.innerHTML === 'v') {\n                        var toColumn = document.getElementById(contr[K][key][key2][key3][0] +\n                            '.' + contr[K][key][key2][key3][1]);\n                        if (toColumn) {\n                            rowOffsetTop = toColumn.offsetTop;\n                        } else {\n                            continue;\n                        }\n                    }\n\n                    var y2 =\n                        document.getElementById(contr[K][key][key2][key3][0]).offsetTop +\n                        rowOffsetTop +\n                        heightField;\n\n                    DesignerMove.drawLine0(\n                        x1, x2, y1, y2, osnTab, contr[K][key][key2][key3][0] + '.' + contr[K][key][key2][key3][1]\n                    );\n                }\n            }\n        }\n    }\n};\n\n/**\n * draws a line from x1:y1 to x2:y2 with color\n * @param x1\n * @param y1\n * @param x2\n * @param y2\n * @param colorLine\n */\nDesignerMove.line = function (x1, y1, x2, y2, colorLine) {\n    var canvas = document.getElementById('canvas');\n    var ctx    = canvas.getContext('2d');\n    ctx.strokeStyle = colorLine;\n    ctx.lineWidth = 1;\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.stroke();\n};\n\n/**\n * draws a relation/constraint line, whether angular or not\n * @param x1\n * @param y1\n * @param x2\n * @param y2\n * @param colorLine\n */\nDesignerMove.line0 = function (x1, y1, x2, y2, colorLine) {\n    if (! showRelationLines) {\n        return;\n    }\n    DesignerMove.circle(x1, y1, 3, 3, colorLine);\n    DesignerMove.rect(x2 - 1, y2 - 2, 4, 4, colorLine);\n\n    if (onAngularDirect) {\n        DesignerMove.line2(x1, y1, x2, y2, colorLine);\n    } else {\n        DesignerMove.line3(x1, y1, x2, y2, colorLine);\n    }\n};\n\n/**\n * draws a angular relation/constraint line\n * @param x1\n * @param y1\n * @param x2\n * @param y2\n * @param colorLine\n */\nDesignerMove.line2 = function (x1, y1, x2, y2, colorLine) {\n    var x1Local = x1;\n    var x2Local = x2;\n\n    if (sRight) {\n        x1Local += smAdd;\n        x2Local += smAdd;\n    } else if (sLeft) {\n        x1Local -= smAdd;\n        x2Local -= smAdd;\n    } else if (x1 < x2) {\n        x1Local += smAdd;\n        x2Local -= smAdd;\n    } else {\n        x1Local -= smAdd;\n        x2Local += smAdd;\n    }\n\n    DesignerMove.line(x1, y1, x1Local, y1, colorLine);\n    DesignerMove.line(x2, y2, x2Local, y2, colorLine);\n    DesignerMove.line(x1Local, y1, x2Local, y2, colorLine);\n};\n\n/**\n * draws a relation/constraint line\n * @param x1\n * @param y1\n * @param x2\n * @param y2\n * @param colorLine\n */\nDesignerMove.line3 = function (x1, y1, x2, y2, colorLine) {\n    var x1Local = x1;\n    var x2Local = x2;\n\n    if (sRight) {\n        if (x1 < x2) {\n            x1Local += x2 - x1 + smAdd;\n            x2Local += smAdd;\n        } else {\n            x2Local += x1 - x2 + smAdd;\n            x1Local += smAdd;\n        }\n\n        DesignerMove.line(x1, y1, x1Local, y1, colorLine);\n        DesignerMove.line(x2, y2, x2Local, y2, colorLine);\n        DesignerMove.line(x1Local, y1, x2Local, y2, colorLine);\n        return;\n    }\n    if (sLeft) {\n        if (x1 < x2) {\n            x2Local -= x2 - x1 + smAdd;\n            x1Local -= smAdd;\n        } else {\n            x1Local -= x1 - x2 + smAdd;\n            x2Local -= smAdd;\n        }\n\n        DesignerMove.line(x1, y1, x1Local, y1, colorLine);\n        DesignerMove.line(x2, y2, x2Local, y2, colorLine);\n        DesignerMove.line(x1Local, y1, x2Local, y2, colorLine);\n        return;\n    }\n\n    var xS = (x1 + x2) / 2;\n    DesignerMove.line(x1, y1, xS, y1, colorLine);\n    DesignerMove.line(xS, y2, x2, y2, colorLine);\n    DesignerMove.line(xS, y1, xS, y2, colorLine);\n};\n\nDesignerMove.circle = function (x, y, r, w, color) {\n    var ctx = document.getElementById('canvas').getContext('2d');\n    ctx.beginPath();\n    ctx.moveTo(x, y);\n    ctx.lineWidth = w;\n    ctx.strokeStyle = color;\n    ctx.arc(x, y, r, 0, 2 * Math.PI, true);\n    ctx.stroke();\n};\n\nDesignerMove.clear = function () {\n    var canvas = document.getElementById('canvas');\n    var ctx    = canvas.getContext('2d');\n    ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n};\n\nDesignerMove.rect = function (x1, y1, w, h, color) {\n    var ctx = document.getElementById('canvas').getContext('2d');\n    ctx.fillStyle = color;\n    ctx.fillRect(x1, y1, w, h);\n};\n\n// --------------------------- FULLSCREEN -------------------------------------\nDesignerMove.toggleFullscreen = function () {\n    var valueSent = '';\n    var $img = $('#toggleFullscreen').find('img');\n    var $span = $img.siblings('span');\n    var $content = $('#page_content');\n    const pageContent = document.getElementById('page_content');\n\n    if (! document.fullscreenElement) {\n        $img.attr('src', $img.data('exit'))\n            .attr('title', $span.data('exit'));\n        $span.text($span.data('exit'));\n        $content\n            .addClass('content_fullscreen')\n            .css({ 'width': screen.width - 5, 'height': screen.height - 5 });\n\n        $('#osn_tab').css({ 'width': screen.width + 'px', 'height': screen.height });\n        valueSent = 'on';\n        pageContent.requestFullscreen();\n    } else {\n        $img.attr('src', $img.data('enter'))\n            .attr('title', $span.data('enter'));\n        $span.text($span.data('enter'));\n        $content.removeClass('content_fullscreen')\n            .css({ 'width': 'auto', 'height': 'auto' });\n        $('#osn_tab').css({ 'width': 'auto', 'height': 'auto' });\n        document.exitFullscreen();\n        valueSent = 'off';\n    }\n    DesignerMove.saveValueInConfig('full_screen', valueSent);\n};\n\nDesignerMove.addTableToTablesList = function (index, tableDom) {\n    var db = $(tableDom).find('.small_tab_pref').attr('db');\n    var table = $(tableDom).find('.small_tab_pref').attr('table_name');\n    var dbEncoded = $(tableDom).find('.small_tab_pref').attr('db_url');\n    var tableEncoded = $(tableDom).find('.small_tab_pref').attr('table_name_url');\n    var tableIsChecked = $(tableDom).css('display') === 'block' ? 'checked' : '';\n    var checkboxStatus = (tableIsChecked === 'checked') ? Messages.strHide : Messages.strShow;\n    var $newTableLine = $('<tr>' +\n        '    <td title=\"' + Messages.strStructure + '\"' +\n        '        width=\"1px\"' +\n        '        class=\"L_butt2_1\">' +\n        '        <img alt=\"\"' +\n        '            db=\"' + dbEncoded + '\"' +\n        '            table_name=\"' + tableEncoded + '\"' +\n        '            class=\"scroll_tab_struct\"' +\n        '            src=\"' + themeImagePath + 'designer/exec.png\"/>' +\n        '    </td>' +\n        '    <td width=\"1px\">' +\n        '        <input class=\"scroll_tab_checkbox\"' +\n        '            title=\"' + checkboxStatus + '\"' +\n        '            id=\"check_vis_' + dbEncoded + '.' + tableEncoded + '\"' +\n        '            style=\"margin:0;\"' +\n        '            type=\"checkbox\"' +\n        '            value=\"' + dbEncoded + '.' + tableEncoded + '\"' + tableIsChecked +\n        '            />' +\n        '    </td>' +\n        '    <td class=\"designer_Tabs\"' +\n        '        designer_url_table_name=\"' + dbEncoded + '.' + tableEncoded + '\">' + $('<div/>').text(db + '.' + table).html() + '</td>' +\n        '</tr>');\n    $('#id_scroll_tab table').first().append($newTableLine);\n    $($newTableLine).find('.scroll_tab_struct').on('click', function () {\n        DesignerMove.startTabUpd(db, table);\n    });\n    $($newTableLine).on('click', '.designer_Tabs2,.designer_Tabs', function () {\n        DesignerMove.selectTab($(this).attr('designer_url_table_name'));\n    });\n    $($newTableLine).find('.scroll_tab_checkbox').on('click', function () {\n        $(this).attr('title', function (i, currentvalue) {\n            return currentvalue === Messages.strHide ? Messages.strShow : Messages.strHide;\n        });\n        DesignerMove.visibleTab(this,$(this).val());\n    });\n    var $tablesCounter = $('#tables_counter');\n    $tablesCounter.text(parseInt($tablesCounter.text(), 10) + 1);\n};\n\n/**\n * This function shows modal with Go buttons where required in designer\n * @param {object} form\n * @param {string} heading\n * @param {string} type\n *\n * @return {object} modal;\n */\nDesignerMove.displayModal = function (form, heading, type) {\n    var modal = $(type);\n    modal.modal('show');\n    modal.find('.modal-body').first().html(form);\n    $(type + 'Label').first().html(heading);\n    return modal;\n};\n\nDesignerMove.addOtherDbTables = function () {\n    var $selectDb = $('<select id=\"add_table_from\"></select>');\n    $selectDb.append('<option value=\"\">' + Messages.strNone + '</option>');\n\n    var $selectTable = $('<select id=\"add_table\"></select>');\n    $selectTable.append('<option value=\"\">' + Messages.strNone + '</option>');\n\n    $.post('index.php?route=/sql', {\n        'ajax_request' : true,\n        'sql_query' : 'SHOW databases;',\n        'server': window.CommonParams.get('server')\n    }, function (data) {\n        $(data.message).find('table.table_results.data.ajax').find('td.data').each(function () {\n            var val = $(this)[0].innerText;\n            $selectDb.append($('<option></option>').val(val).text(val));\n        });\n    });\n\n    var $form = $('<form action=\"\" class=\"ajax\"></form>')\n        .append($selectDb).append($selectTable);\n    var modal = DesignerMove.displayModal($form, Messages.strAddTables, '#designerGoModal');\n    $('#designerModalGoButton').on('click', function () {\n        var db = $('#add_table_from').val();\n        var table = $('#add_table').val();\n\n        // Check if table already imported or not.\n        var $table = $('[id=\"' + encodeURIComponent(db) + '.' + encodeURIComponent(table) + '\"]');\n        if ($table.length !== 0) {\n            Functions.ajaxShowMessage(\n                Functions.sprintf(Messages.strTableAlreadyExists, db + '.' + table),\n                undefined,\n                'error'\n            );\n            return;\n        }\n\n        $.post('index.php?route=/database/designer', {\n            'ajax_request' : true,\n            'dialog' : 'add_table',\n            'db' : db,\n            'table' : table,\n            'server': window.CommonParams.get('server')\n        }, function (data) {\n            var $newTableDom = $(data.message);\n            $newTableDom.find('a').first().remove();\n\n            var dbEncoded = $($newTableDom).find('.small_tab_pref').attr('db_url');\n            var tableEncoded = $($newTableDom).find('.small_tab_pref').attr('table_name_url');\n\n            if (typeof dbEncoded === 'string' && typeof tableEncoded === 'string') { // Do not try to add if attr not found !\n                $('#container-form').append($newTableDom);\n                DesignerMove.enableTableEvents(null, $newTableDom);\n                DesignerMove.addTableToTablesList(null, $newTableDom);\n                jTabs[dbEncoded + '.' + tableEncoded] = 1;\n                DesignerMove.markUnsaved();\n            }\n        });\n        modal.modal('hide');\n    });\n    $('#add_table_from').on('change', function () {\n        if ($(this).val()) {\n            var dbName = $(this).val();\n            var sqlQuery = 'SHOW tables;';\n            $.post('index.php?route=/sql', {\n                'ajax_request' : true,\n                'sql_query': sqlQuery,\n                'db' : dbName,\n                'server': window.CommonParams.get('server')\n            }, function (data) {\n                $selectTable.html('');\n                var rows = $(data.message).find('table.table_results.data.ajax').find('td.data');\n                if (rows.length === 0) {\n                    $selectTable.append('<option value=\"\">' + Messages.strNone + '</option>');\n                }\n                rows.each(function () {\n                    var val = $(this)[0].innerText;\n                    $selectTable.append($('<option></option>').val(val).text(val));\n                });\n            });\n        }\n    });\n};\n\n// ------------------------------ NEW ------------------------------------------\nDesignerMove.new = function () {\n    DesignerMove.promptToSaveCurrentPage(function () {\n        DesignerMove.loadPage(-1);\n    });\n};\n\n// ------------------------------ SAVE ------------------------------------------\n// (del?) no for pdf\nDesignerMove.save = function (url) {\n    for (var key in jTabs) {\n        document.getElementById('t_x_' + key + '_').value = parseInt(document.getElementById(key).style.left, 10);\n        document.getElementById('t_y_' + key + '_').value = parseInt(document.getElementById(key).style.top, 10);\n        document.getElementById('t_v_' + key + '_').value = document.getElementById('id_tbody_' + key).style.display === 'none' ? 0 : 1;\n        document.getElementById('t_h_' + key + '_').value = document.getElementById('check_vis_' + key).checked ? 1 : 0;\n    }\n    document.getElementById('container-form').action = url;\n    $('#container-form').trigger('submit');\n};\n\nDesignerMove.getUrlPos = function (forceString) {\n    var key;\n    if (designerTablesEnabled || forceString) {\n        var poststr = '';\n        var argsep = window.CommonParams.get('arg_separator');\n        var i = 1;\n        for (key in jTabs) {\n            poststr += argsep + 't_x[' + i + ']=' + parseInt(document.getElementById(key).style.left, 10);\n            poststr += argsep + 't_y[' + i + ']=' + parseInt(document.getElementById(key).style.top, 10);\n            poststr += argsep + 't_v[' + i + ']=' + (document.getElementById('id_tbody_' + key).style.display === 'none' ? 0 : 1);\n            poststr += argsep + 't_h[' + i + ']=' + (document.getElementById('check_vis_' + key).checked ? 1 : 0);\n            poststr += argsep + 't_db[' + i + ']=' + $(document.getElementById(key)).attr('db_url');\n            poststr += argsep + 't_tbl[' + i + ']=' + $(document.getElementById(key)).attr('table_name_url');\n            i++;\n        }\n        return poststr;\n    } else {\n        var coords = [];\n        for (key in jTabs) {\n            if (document.getElementById('check_vis_' + key).checked) {\n                var x = parseInt(document.getElementById(key).style.left, 10);\n                var y = parseInt(document.getElementById(key).style.top, 10);\n                var tbCoords = new DesignerObjects.TableCoordinate(\n                    $(document.getElementById(key)).attr('db_url'),\n                    $(document.getElementById(key)).attr('table_name_url'),\n                    -1, x, y);\n                coords.push(tbCoords);\n            }\n        }\n        return coords;\n    }\n};\n\nDesignerMove.save2 = function (callback) {\n    if (designerTablesEnabled) {\n        var argsep = window.CommonParams.get('arg_separator');\n        var poststr = 'operation=savePage' + argsep + 'save_page=same' + argsep + 'ajax_request=true';\n        poststr += argsep + 'server=' + server + argsep + 'db=' + encodeURIComponent(db) + argsep + 'selected_page=' + selectedPage;\n        poststr += DesignerMove.getUrlPos();\n\n        var $msgbox = Functions.ajaxShowMessage(Messages.strProcessingRequest);\n        $.post('index.php?route=/database/designer', poststr, function (data) {\n            if (data.success === false) {\n                Functions.ajaxShowMessage(data.error, false);\n            } else {\n                Functions.ajaxRemoveMessage($msgbox);\n                Functions.ajaxShowMessage(Messages.strModificationSaved);\n                DesignerMove.markSaved();\n                if (typeof callback !== 'undefined') {\n                    callback();\n                }\n            }\n        });\n    } else {\n        var name = $('#page_name').html().trim();\n        DesignerPage.saveToSelectedPage(db, selectedPage, name, DesignerMove.getUrlPos(), function () {\n            DesignerMove.markSaved();\n            if (typeof callback !== 'undefined') {\n                callback();\n            }\n        });\n    }\n};\n\nDesignerMove.submitSaveDialogAndClose = function (callback, modal) {\n    var $form = $('#save_page');\n    var name = $form.find('input[name=\"selected_value\"]').val().trim();\n    if (name === '') {\n        Functions.ajaxShowMessage(Messages.strEnterValidPageName, false);\n        return;\n    }\n    modal.modal('hide');\n\n    if (designerTablesEnabled) {\n        var $msgbox = Functions.ajaxShowMessage(Messages.strProcessingRequest);\n        Functions.prepareForAjaxRequest($form);\n        $.post($form.attr('action'), $form.serialize() + DesignerMove.getUrlPos(), function (data) {\n            if (data.success === false) {\n                Functions.ajaxShowMessage(data.error, false);\n            } else {\n                Functions.ajaxRemoveMessage($msgbox);\n                DesignerMove.markSaved();\n                if (data.id) {\n                    selectedPage = data.id;\n                }\n                $('#page_name').text(name);\n                if (typeof callback !== 'undefined') {\n                    callback();\n                }\n            }\n        });\n    } else {\n        DesignerPage.saveToNewPage(db, name, DesignerMove.getUrlPos(), function (page) {\n            DesignerMove.markSaved();\n            if (page.pgNr) {\n                selectedPage = page.pgNr;\n            }\n            $('#page_name').text(page.pageDescr);\n            if (typeof callback !== 'undefined') {\n                callback();\n            }\n        });\n    }\n};\n\nDesignerMove.save3 = function (callback) {\n    if (selectedPage !== -1) {\n        DesignerMove.save2(callback);\n    } else {\n        var $form = $('<form action=\"index.php?route=/database/designer\" method=\"post\" name=\"save_page\" id=\"save_page\" class=\"ajax\"></form>')\n            .append('<input type=\"hidden\" name=\"server\" value=\"' + server + '\">')\n            .append($('<input type=\"hidden\" name=\"db\" />').val(db))\n            .append('<input type=\"hidden\" name=\"operation\" value=\"savePage\">')\n            .append('<input type=\"hidden\" name=\"save_page\" value=\"new\">')\n            .append('<label for=\"selected_value\">' + Messages.strPageName +\n                '</label>:<input type=\"text\" name=\"selected_value\">');\n        var modal = DesignerMove.displayModal($form, Messages.strSavePage, '#designerGoModal');\n        $form.on('submit', function (e) {\n            e.preventDefault();\n            DesignerMove.submitSaveDialogAndClose(callback, modal);\n        });\n        $('#designerModalGoButton').on('click', function () {\n            var $form = $('#save_page');\n            $form.trigger('submit');\n            modal.modal('hide');\n        });\n    }\n};\n\n// ------------------------------ EDIT PAGES ------------------------------------------\nDesignerMove.editPages = function () {\n    DesignerMove.promptToSaveCurrentPage(function () {\n        var $msgbox = Functions.ajaxShowMessage();\n        $.post('index.php?route=/database/designer', {\n            'ajax_request': true,\n            'server': server,\n            'db': db,\n            'dialog': 'edit'\n        }, function (data) {\n            if (data.success === false) {\n                Functions.ajaxShowMessage(data.error, false);\n            } else {\n                Functions.ajaxRemoveMessage($msgbox);\n\n                if (! designerTablesEnabled) {\n                    DesignerPage.createPageList(db, function (options) {\n                        $('#selected_page').append(options);\n                    });\n                }\n                var modal = DesignerMove.displayModal(data.message, Messages.strOpenPage, '#designerGoModal');\n                $('#designerModalGoButton').on('click', function () {\n                    var $form = $('#edit_delete_pages');\n                    var selected = $form.find('select[name=\"selected_page\"]').val();\n                    if (selected === '0') {\n                        Functions.ajaxShowMessage(Messages.strSelectPage, 2000);\n                        return;\n                    }\n                    modal.modal('hide');\n                    DesignerMove.loadPage(selected);\n                });\n            }\n        }); // end $.post()\n    });\n};\n\n// -----------------------------  DELETE PAGES ---------------------------------------\nDesignerMove.deletePages = function () {\n    var $msgbox = Functions.ajaxShowMessage();\n    $.post('index.php?route=/database/designer', {\n        'ajax_request': true,\n        'server': server,\n        'db': db,\n        'dialog': 'delete'\n    }, function (data) {\n        if (data.success === false) {\n            Functions.ajaxShowMessage(data.error, false);\n        } else {\n            Functions.ajaxRemoveMessage($msgbox);\n\n            if (! designerTablesEnabled) {\n                DesignerPage.createPageList(db, function (options) {\n                    $('#selected_page').append(options);\n                });\n            }\n\n            var modal = DesignerMove.displayModal(data.message, Messages.strDeletePage, '#designerGoModal');\n            $('#designerModalGoButton').on('click', function () {\n                var $form = $('#edit_delete_pages');\n                var selected = $form.find('select[name=\"selected_page\"]').val();\n                if (selected === '0') {\n                    Functions.ajaxShowMessage(Messages.strSelectPage, 2000);\n                    return;\n                }\n\n                var $messageBox = Functions.ajaxShowMessage(Messages.strProcessingRequest);\n                var deletingCurrentPage = parseInt(selected) === selectedPage;\n                Functions.prepareForAjaxRequest($form);\n\n                if (designerTablesEnabled) {\n                    $.post($form.attr('action'), $form.serialize(), function (data) {\n                        if (data.success === false) {\n                            Functions.ajaxShowMessage(data.error, false);\n                        } else {\n                            Functions.ajaxRemoveMessage($messageBox);\n                            if (deletingCurrentPage) {\n                                DesignerMove.loadPage(null);\n                            } else {\n                                Functions.ajaxShowMessage(Messages.strSuccessfulPageDelete);\n                            }\n                        }\n                    }); // end $.post()\n                } else {\n                    DesignerPage.deletePage(selected, function (success) {\n                        if (! success) {\n                            Functions.ajaxShowMessage('Error', false);\n                        } else {\n                            Functions.ajaxRemoveMessage($messageBox);\n                            if (deletingCurrentPage) {\n                                DesignerMove.loadPage(null);\n                            } else {\n                                Functions.ajaxShowMessage(Messages.strSuccessfulPageDelete);\n                            }\n                        }\n                    });\n                }\n                modal.modal('hide');\n            });\n        }\n    }); // end $.post()\n};\n\n// ------------------------------ SAVE AS PAGES ---------------------------------------\nDesignerMove.saveAs = function () {\n    var $msgbox = Functions.ajaxShowMessage();\n    $.post('index.php?route=/database/designer', {\n        'ajax_request': true,\n        'server': server,\n        'db': db,\n        'dialog': 'save_as'\n    }, function (data) {\n        if (data.success === false) {\n            Functions.ajaxShowMessage(data.error, false);\n        } else {\n            Functions.ajaxRemoveMessage($msgbox);\n\n            if (! designerTablesEnabled) {\n                DesignerPage.createPageList(db, function (options) {\n                    $('#selected_page').append(options);\n                });\n            }\n\n            var modal = DesignerMove.displayModal(data.message, Messages.strSavePageAs, '#designerGoModal');\n            $('#designerModalGoButton').on('click', function () {\n                var $form           = $('#save_as_pages');\n                var selectedValue  = $form.find('input[name=\"selected_value\"]').val().trim();\n                var $selectedPage  = $form.find('select[name=\"selected_page\"]');\n                var choice          = $form.find('input[name=\"save_page\"]:checked').val();\n                var name            = '';\n\n                if (choice === 'same') {\n                    if ($selectedPage.val() === '0') {\n                        Functions.ajaxShowMessage(Messages.strSelectPage, 2000);\n                        return;\n                    }\n                    name = $selectedPage.find('option:selected').text();\n                } else if (choice === 'new') {\n                    if (selectedValue === '') {\n                        Functions.ajaxShowMessage(Messages.strEnterValidPageName, 2000);\n                        return;\n                    }\n                    name = selectedValue;\n                }\n\n                var $msgbox = Functions.ajaxShowMessage(Messages.strProcessingRequest);\n                if (designerTablesEnabled) {\n                    Functions.prepareForAjaxRequest($form);\n                    $.post($form.attr('action'), $form.serialize() + DesignerMove.getUrlPos(), function (data) {\n                        if (data.success === false) {\n                            Functions.ajaxShowMessage(data.error, false);\n                        } else {\n                            Functions.ajaxRemoveMessage($msgbox);\n                            DesignerMove.markSaved();\n                            if (data.id) {\n                                selectedPage = data.id;\n                            }\n                            DesignerMove.loadPage(selectedPage);\n                        }\n                    }); // end $.post()\n                } else {\n                    if (choice === 'same') {\n                        var selectedPageId = $selectedPage.find('option:selected').val();\n                        DesignerPage.saveToSelectedPage(db, selectedPageId, name, DesignerMove.getUrlPos(), function (page) {\n                            Functions.ajaxRemoveMessage($msgbox);\n                            DesignerMove.markSaved();\n                            if (page.pgNr) {\n                                selectedPage = page.pgNr;\n                            }\n                            DesignerMove.loadPage(selectedPage);\n                        });\n                    } else if (choice === 'new') {\n                        DesignerPage.saveToNewPage(db, name, DesignerMove.getUrlPos(), function (page) {\n                            Functions.ajaxRemoveMessage($msgbox);\n                            DesignerMove.markSaved();\n                            if (page.pgNr) {\n                                selectedPage = page.pgNr;\n                            }\n                            DesignerMove.loadPage(selectedPage);\n                        });\n                    }\n                }\n\n                modal.modal('hide');\n            });\n            // select current page by default\n            if (selectedPage !== -1) {\n                $('select[name=\"selected_page\"]').val(selectedPage);\n            }\n        }\n    }); // end $.post()\n};\n\nDesignerMove.promptToSaveCurrentPage = function (callback) {\n    if (change === 1 || selectedPage === -1) {\n        var modal = DesignerMove.displayModal('<div>' + Messages.strLeavingPage + '</div>',\n            Messages.strSavePage, '#designerPromptModal');\n        $('#designerModalYesButton').on('click', function () {\n            modal.modal('hide');\n            DesignerMove.save3(callback);\n        });\n        $('#designerModalNoButton').on('click', function () {\n            modal.modal('hide');\n            callback();\n        });\n    } else {\n        callback();\n    }\n};\n\n// ------------------------------ EXPORT PAGES ---------------------------------------\nDesignerMove.exportPages = function () {\n    var $msgbox = Functions.ajaxShowMessage();\n    var argsep = window.CommonParams.get('arg_separator');\n\n    $.post('index.php?route=/database/designer', {\n        'ajax_request': true,\n        'server': server,\n        'db': db,\n        'dialog': 'export',\n        'selected_page': selectedPage\n    }, function (data) {\n        if (data.success === false) {\n            Functions.ajaxShowMessage(data.error, false);\n        } else {\n            Functions.ajaxRemoveMessage($msgbox);\n\n            var $form = $(data.message);\n            if (!designerTablesEnabled) {\n                $form.append('<input type=\"hidden\" name=\"offline_export\" value=\"true\">');\n            }\n            $.each(DesignerMove.getUrlPos(true).substring(1).split(argsep), function () {\n                var pair = this.split('=');\n                var input = $('<input type=\"hidden\">');\n                input.attr('name', pair[0]);\n                input.attr('value', pair[1]);\n                $form.append(input);\n            });\n            var $formatDropDown = $form.find('#plugins');\n            $formatDropDown.on('change', function () {\n                var format = $formatDropDown.val();\n                $form.find('.format_specific_options').hide();\n                $form.find('#' + format + '_options').show();\n            }).trigger('change');\n\n            var modal = DesignerMove.displayModal($form, Messages.strExportRelationalSchema, '#designerGoModal');\n            $('#designerModalGoButton').on('click', function () {\n                $('#id_export_pages').trigger('submit');\n                modal.modal('hide');\n            });\n        }\n    }); // end $.post()\n};\n\nDesignerMove.loadPage = function (page) {\n    if (designerTablesEnabled) {\n        var paramPage = '';\n        var argsep = window.CommonParams.get('arg_separator');\n        if (page !== null) {\n            paramPage = argsep + 'page=' + page;\n        }\n        $('<a href=\"index.php?route=/database/designer&server=' + server + argsep + 'db=' + encodeURIComponent(db) + paramPage + '\"></a>')\n            .appendTo($('#page_content'))\n            .trigger('click');\n    } else {\n        if (page === null) {\n            DesignerPage.showTablesInLandingPage(db);\n        } else if (page > -1) {\n            DesignerPage.loadHtmlForPage(page);\n        } else if (page === -1) {\n            DesignerPage.showNewPageTables(true);\n        }\n    }\n    DesignerMove.markSaved();\n};\n\nDesignerMove.grid = function () {\n    var valueSent = '';\n    if (!onGrid) {\n        onGrid = 1;\n        valueSent = 'on';\n        document.getElementById('grid_button').className = 'M_butt_Selected_down';\n    } else {\n        document.getElementById('grid_button').className = 'M_butt';\n        onGrid = 0;\n        valueSent = 'off';\n    }\n    DesignerMove.saveValueInConfig('snap_to_grid', valueSent);\n};\n\nDesignerMove.angularDirect = function () {\n    var valueSent = '';\n    if (onAngularDirect) {\n        onAngularDirect = 0;\n        valueSent = 'angular';\n        document.getElementById('angular_direct_button').className = 'M_butt_Selected_down';\n    } else {\n        onAngularDirect = 1;\n        valueSent = 'direct';\n        document.getElementById('angular_direct_button').className = 'M_butt';\n    }\n    DesignerMove.saveValueInConfig('angular_direct', valueSent);\n    DesignerMove.reload();\n};\n\nDesignerMove.saveValueInConfig = function (indexSent, valueSent) {\n    $.post('index.php?route=/database/designer',\n        {\n            'operation': 'save_setting_value',\n            'index': indexSent,\n            'ajax_request': true,\n            'server': server,\n            'value': valueSent\n        },\n        function (data) {\n            if (data.success === false) {\n                Functions.ajaxShowMessage(data.error, false);\n            }\n        });\n};\n\n// ++++++++++++++++++++++++++++++ RELATION ++++++++++++++++++++++++++++++++++++++\nDesignerMove.startRelation = function () {\n    if (onDisplayField) {\n        return;\n    }\n\n    if (!onRelation) {\n        document.getElementById('foreign_relation').style.display = '';\n        onRelation = 1;\n        document.getElementById('designer_hint').innerHTML = Messages.strSelectReferencedKey;\n        document.getElementById('designer_hint').style.display = 'block';\n        document.getElementById('rel_button').className = 'M_butt_Selected_down';\n    } else {\n        document.getElementById('designer_hint').innerHTML = '';\n        document.getElementById('designer_hint').style.display = 'none';\n        document.getElementById('rel_button').className = 'M_butt';\n        clickField = 0;\n        onRelation = 0;\n    }\n};\n\n// table field\nDesignerMove.clickField = function (db, T, f, pk) {\n    var pkLocal = parseInt(pk);\n    var argsep = window.CommonParams.get('arg_separator');\n    if (onRelation) {\n        if (!clickField) {\n            // .style.display=='none'        .style.display = 'none'\n            if (!pkLocal) {\n                alert(Messages.strPleaseSelectPrimaryOrUniqueKey);\n                return;// 0;\n            }// PK\n            if (jTabs[db + '.' + T] !== 1) {\n                document.getElementById('foreign_relation').style.display = 'none';\n            }\n            clickField = 1;\n            linkRelation = 'DB1=' + db + argsep + 'T1=' + T + argsep + 'F1=' + f;\n            document.getElementById('designer_hint').innerHTML = Messages.strSelectForeignKey;\n        } else {\n            DesignerMove.startRelation(); // hidden hint...\n            if (jTabs[db + '.' + T] !== 1 || !pkLocal) {\n                document.getElementById('foreign_relation').style.display = 'none';\n            }\n            var left = globX - (document.getElementById('layer_new_relation').offsetWidth >> 1);\n            document.getElementById('layer_new_relation').style.left = left + 'px';\n            var top = globY - document.getElementById('layer_new_relation').offsetHeight;\n            document.getElementById('layer_new_relation').style.top  = top + 'px';\n            document.getElementById('layer_new_relation').style.display = 'block';\n            linkRelation += argsep + 'DB2=' + db + argsep + 'T2=' + T + argsep + 'F2=' + f;\n        }\n    }\n\n    if (onDisplayField) {\n        var fieldNameToSend = decodeURIComponent(f);\n        var newDisplayFieldClass = 'tab_field';\n        var oldTabField = document.getElementById('id_tr_' + T + '.' + displayField[T]);\n        // if is display field\n        if (displayField[T] === f) {// The display field is already the one defined, user wants to remove it\n            newDisplayFieldClass = 'tab_field';\n            delete displayField[T];\n            if (oldTabField) {// Clear the style\n                // Set display field class on old item\n                oldTabField.className = 'tab_field';\n            }\n            fieldNameToSend = '';\n        } else {\n            newDisplayFieldClass = 'tab_field_3';\n            if (displayField[T]) { // Had a previous one, clear it\n                if (oldTabField) {\n                    // Set display field class on old item\n                    oldTabField.className = 'tab_field';\n                }\n                delete displayField[T];\n            }\n            displayField[T] = f;\n\n            var tabField = document.getElementById('id_tr_' + T + '.' + displayField[T]);\n            if (tabField) {\n                // Set new display field class\n                tabField.className = newDisplayFieldClass;\n            }\n        }\n        onDisplayField = 0;\n        document.getElementById('designer_hint').innerHTML = '';\n        document.getElementById('designer_hint').style.display = 'none';\n        document.getElementById('display_field_button').className = 'M_butt';\n\n        var $msgbox = Functions.ajaxShowMessage(Messages.strProcessingRequest);\n        $.post('index.php?route=/database/designer',\n            {\n                'operation': 'setDisplayField',\n                'ajax_request': true,\n                'server': server,\n                'db': db,\n                'table': T,\n                'field': fieldNameToSend\n            },\n            function (data) {\n                if (data.success === false) {\n                    Functions.ajaxShowMessage(data.error, false);\n                } else {\n                    Functions.ajaxRemoveMessage($msgbox);\n                    Functions.ajaxShowMessage(Messages.strModificationSaved);\n                }\n            });\n    }\n};\n\nDesignerMove.newRelation = function () {\n    document.getElementById('layer_new_relation').style.display = 'none';\n    var argsep = window.CommonParams.get('arg_separator');\n    linkRelation += argsep + 'server=' + server + argsep + 'db=' + db + argsep + 'db2=p';\n    linkRelation += argsep + 'on_delete=' + document.getElementById('on_delete').value + argsep + 'on_update=' + document.getElementById('on_update').value;\n    linkRelation += argsep + 'operation=addNewRelation' + argsep + 'ajax_request=true';\n\n    var $msgbox = Functions.ajaxShowMessage(Messages.strProcessingRequest);\n    $.post('index.php?route=/database/designer', linkRelation, function (data) {\n        if (data.success === false) {\n            Functions.ajaxShowMessage(data.error, false);\n        } else {\n            Functions.ajaxRemoveMessage($msgbox);\n            Functions.ajaxShowMessage(data.message);\n            DesignerMove.loadPage(selectedPage);\n        }\n    }); // end $.post()\n};\n\n// -------------------------- create tables -------------------------------------\nDesignerMove.startTableNew = function () {\n    window.CommonParams.set('table', '');\n    window.CommonActions.refreshMain('index.php?route=/table/create');\n};\n\nDesignerMove.startTabUpd = function (db, table) {\n    window.CommonParams.set('db', db);\n    window.CommonParams.set('table', table);\n    window.CommonActions.refreshMain('index.php?route=/table/structure');\n};\n\n// --------------------------- hide tables --------------------------------------\n// max/min all tables\nDesignerMove.smallTabAll = function (idThis) {\n    var icon = idThis.children[0];\n    var valueSent = '';\n\n    if (icon.alt === 'v') {\n        $('.designer_tab .small_tab,.small_tab2').each(function (index, element) {\n            if ($(element).text() === 'v') {\n                DesignerMove.smallTab($(element).attr('table_name'), 0);\n            }\n        });\n        icon.alt = '>';\n        icon.src = icon.dataset.right;\n        valueSent = 'v';\n    } else {\n        $('.designer_tab .small_tab,.small_tab2').each(function (index, element) {\n            if ($(element).text() !== 'v') {\n                DesignerMove.smallTab($(element).attr('table_name'), 0);\n            }\n        });\n        icon.alt = 'v';\n        icon.src = icon.dataset.down;\n        valueSent = '>';\n    }\n    DesignerMove.saveValueInConfig('small_big_all', valueSent);\n    $('#key_SB_all').toggleClass('M_butt_Selected_down');\n    $('#key_SB_all').toggleClass('M_butt');\n    DesignerMove.reload();\n};\n\n// invert max/min all tables\nDesignerMove.smallTabInvert = function () {\n    for (var key in jTabs) {\n        DesignerMove.smallTab(key, 0);\n    }\n    DesignerMove.reload();\n};\n\nDesignerMove.relationLinesInvert = function () {\n    showRelationLines = ! showRelationLines;\n    DesignerMove.saveValueInConfig('relation_lines', showRelationLines);\n    $('#relLineInvert').toggleClass('M_butt_Selected_down');\n    $('#relLineInvert').toggleClass('M_butt');\n    DesignerMove.reload();\n};\n\nDesignerMove.smallTabRefresh = function () {\n    for (var key in jTabs) {\n        if (document.getElementById('id_hide_tbody_' + key).innerHTML !== 'v') {\n            DesignerMove.smallTab(key, 0);\n        }\n    }\n};\n\nDesignerMove.smallTab = function (t, reload) {\n    var id      = document.getElementById('id_tbody_' + t);\n    var idThis = document.getElementById('id_hide_tbody_' + t);\n    if (idThis.innerHTML === 'v') {\n        // ---CROSS\n        id.style.display = 'none';\n        idThis.innerHTML = '>';\n    } else {\n        id.style.display = '';\n        idThis.innerHTML = 'v';\n    }\n    if (reload) {\n        DesignerMove.reload();\n    }\n};\n\nDesignerMove.selectTab = function (t) {\n    var idZag = document.getElementById('id_zag_' + t);\n    if (idZag.className !== 'tab_zag_3') {\n        document.getElementById('id_zag_' + t).className = 'tab_zag_2';\n    } else {\n        document.getElementById('id_zag_' + t).className = 'tab_zag';\n    }\n    // ----------\n    var idT = document.getElementById(t);\n    window.scrollTo(parseInt(idT.style.left, 10) - 300, parseInt(idT.style.top, 10) - 300);\n    setTimeout(\n        function () {\n            document.getElementById('id_zag_' + t).className = 'tab_zag';\n        },\n        800\n    );\n};\n\nDesignerMove.canvasClick = function (id, event) {\n    var n = 0;\n    var selected = 0;\n    var a = [];\n    var Key0;\n    var Key1;\n    var Key2;\n    var Key3;\n    var Key;\n    var x1;\n    var x2;\n    var K;\n    var key;\n    var key2;\n    var key3;\n    // eslint-disable-next-line compat/compat\n    var localX = isIe ? event.clientX + document.body.scrollLeft : event.pageX;\n    // eslint-disable-next-line compat/compat\n    var localY = isIe ? event.clientY + document.body.scrollTop : event.pageY;\n    localX -= $('#osn_tab').offset().left;\n    localY -= $('#osn_tab').offset().top;\n    DesignerMove.clear();\n    var osnTab = document.getElementById('osn_tab');\n    for (K in contr) {\n        for (key in contr[K]) {\n            for (key2 in contr[K][key]) {\n                for (key3 in contr[K][key][key2]) {\n                    if (! document.getElementById('check_vis_' + key2).checked ||\n                        ! document.getElementById('check_vis_' + contr[K][key][key2][key3][0]).checked) {\n                        continue; // if hide\n                    }\n                    var x1Left  = document.getElementById(key2).offsetLeft + 1;// document.getElementById(key2+\".\"+key3).offsetLeft;\n                    var x1Right = x1Left + document.getElementById(key2).offsetWidth;\n                    var x2Left  = document.getElementById(contr[K][key][key2][key3][0]).offsetLeft;// +document.getElementById(contr[K][key2][key3][0]+\".\"+contr[K][key2][key3][1]).offsetLeft\n                    var x2Right = x2Left + document.getElementById(contr[K][key][key2][key3][0]).offsetWidth;\n                    a[0] = Math.abs(x1Left - x2Left);\n                    a[1] = Math.abs(x1Left - x2Right);\n                    a[2] = Math.abs(x1Right - x2Left);\n                    a[3] = Math.abs(x1Right - x2Right);\n                    n = sLeft = sRight = 0;\n                    for (var i = 1; i < 4; i++) {\n                        if (a[n] > a[i]) {\n                            n = i;\n                        }\n                    }\n                    if (n === 1) {\n                        x1 = x1Left - smS;\n                        x2 = x2Right + smS;\n                        if (x1 < x2) {\n                            n = 0;\n                        }\n                    }\n                    if (n === 2) {\n                        x1 = x1Right + smS;\n                        x2 = x2Left - smS;\n                        if (x1 > x2) {\n                            n = 0;\n                        }\n                    }\n                    if (n === 3) {\n                        x1 = x1Right + smS;\n                        x2 = x2Right + smS;\n                        sRight = 1;\n                    }\n                    if (n === 0) {\n                        x1 = x1Left - smS;\n                        x2 = x2Left - smS;\n                        sLeft    = 1;\n                    }\n\n                    var y1 = document.getElementById(key2).offsetTop + document.getElementById(key2 + '.' + key3).offsetTop + heightField;\n                    var y2 = document.getElementById(contr[K][key][key2][key3][0]).offsetTop +\n                                     document.getElementById(contr[K][key][key2][key3][0] + '.' + contr[K][key][key2][key3][1]).offsetTop + heightField;\n\n                    if (!selected && localX > x1 - 10 && localX < x1 + 10 && localY > y1 - 7 && localY < y1 + 7) {\n                        DesignerMove.drawLine0(\n                            x1, x2, y1, y2, osnTab, 'rgba(255,0,0,1)'\n                        );\n\n                        selected = 1;\n                        Key0 = contr[K][key][key2][key3][0];\n                        Key1 = contr[K][key][key2][key3][1];\n                        Key2 = key2;\n                        Key3 = key3;\n                        Key = K;\n                    } else {\n                        DesignerMove.drawLine0(\n                            x1, x2, y1, y2, osnTab,\n                            contr[K][key][key2][key3][0] + '.' + contr[K][key][key2][key3][1]\n                        );\n                    }\n                }\n            }\n        }\n    }\n    if (selected) {\n        // select relations\n        var left = globX - (document.getElementById('layer_upd_relation').offsetWidth >> 1);\n        document.getElementById('layer_upd_relation').style.left = left + 'px';\n        var top = globY - document.getElementById('layer_upd_relation').offsetHeight - 10;\n        document.getElementById('layer_upd_relation').style.top = top + 'px';\n        document.getElementById('layer_upd_relation').style.display = 'block';\n        var argsep = window.CommonParams.get('arg_separator');\n        linkRelation = 'T1=' + Key0 + argsep + 'F1=' + Key1 + argsep + 'T2=' + Key2 + argsep + 'F2=' + Key3 + argsep + 'K=' + Key;\n    }\n};\n\nDesignerMove.updRelation = function () {\n    document.getElementById('layer_upd_relation').style.display = 'none';\n    var argsep = window.CommonParams.get('arg_separator');\n    linkRelation += argsep + 'server=' + server + argsep + 'db=' + db;\n    linkRelation += argsep + 'operation=removeRelation' + argsep + 'ajax_request=true';\n\n    var $msgbox = Functions.ajaxShowMessage(Messages.strProcessingRequest);\n    $.post('index.php?route=/database/designer', linkRelation, function (data) {\n        if (data.success === false) {\n            Functions.ajaxShowMessage(data.error, false);\n        } else {\n            Functions.ajaxRemoveMessage($msgbox);\n            Functions.ajaxShowMessage(data.message);\n            DesignerMove.loadPage(selectedPage);\n        }\n    }); // end $.post()\n};\n\nDesignerMove.visibleTab = function (id, tN) {\n    if (id.checked) {\n        document.getElementById(tN).style.display = 'block';\n    } else {\n        document.getElementById(tN).style.display = 'none';\n    }\n    DesignerMove.reload();\n    DesignerMove.markUnsaved();\n};\n\n// max/min all tables\nDesignerMove.hideTabAll = function (idThis) {\n    if (idThis.alt === 'v') {\n        idThis.alt = '>';\n        idThis.src = idThis.dataset.right;\n    } else {\n        idThis.alt = 'v';\n        idThis.src = idThis.dataset.down;\n    }\n    var E = document.getElementById('container-form');\n    var EelementsLength = E.elements.length;\n    for (var i = 0; i < EelementsLength; i++) {\n        if (E.elements[i].type === 'checkbox' && E.elements[i].id.startsWith('check_vis_')) {\n            if (idThis.alt === 'v') {\n                E.elements[i].checked = true;\n                document.getElementById(E.elements[i].value).style.display = '';\n            } else {\n                E.elements[i].checked = false;\n                document.getElementById(E.elements[i].value).style.display = 'none';\n            }\n        }\n    }\n    DesignerMove.reload();\n};\n\nDesignerMove.inArrayK = function (x, m) {\n    var b = 0;\n    for (var u in m) {\n        if (x === u) {\n            b = 1;\n            break;\n        }\n    }\n    return b;\n};\n\nDesignerMove.noHaveConstr = function (idThis) {\n    var a = [];\n    var K;\n    var key;\n    var key2;\n    var key3;\n    for (K in contr) {\n        for (key in contr[K]) {\n            // contr name\n            for (key2 in contr[K][key]) {\n                // table name\n                for (key3 in contr[K][key][key2]) {\n                    // field name\n                    a[key2] = a[contr[K][key][key2][key3][0]] = 1; // exist constr\n                }\n            }\n        }\n    }\n\n    if (idThis.alt === 'v') {\n        idThis.alt = '>';\n        idThis.src = idThis.dataset.right;\n    } else {\n        idThis.alt = 'v';\n        idThis.src = idThis.dataset.down;\n    }\n    var E = document.getElementById('container-form');\n    var EelementsLength = E.elements.length;\n    for (var i = 0; i < EelementsLength; i++) {\n        if (E.elements[i].type === 'checkbox' && E.elements[i].id.startsWith('check_vis_')) {\n            if (!DesignerMove.inArrayK(E.elements[i].value, a)) {\n                if (idThis.alt === 'v') {\n                    E.elements[i].checked = true;\n                    document.getElementById(E.elements[i].value).style.display = '';\n                } else {\n                    E.elements[i].checked = false;\n                    document.getElementById(E.elements[i].value).style.display = 'none';\n                }\n            }\n        }\n    }\n};\n\nDesignerMove.generalScroll = function () {\n    // if (timeoutId)\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(\n        function () {\n            // eslint-disable-next-line compat/compat\n            document.getElementById('top_menu').style.left = document.body.scrollLeft + 'px';\n            // eslint-disable-next-line compat/compat\n            document.getElementById('top_menu').style.top  = document.body.scrollTop + 'px';\n        },\n        200\n    );\n};\n\n// max/min all tables\nDesignerMove.showLeftMenu = function (idThis) {\n    var icon = idThis.children[0];\n    $('#key_Show_left_menu').toggleClass('M_butt_Selected_down');\n    if (icon.alt === 'v') {\n        document.getElementById('layer_menu').style.top = '0px';\n        document.getElementById('layer_menu').style.display = 'block';\n        icon.alt = '>';\n        icon.src = icon.dataset.up;\n        if (isIe) {\n            DesignerMove.generalScroll();\n        }\n    } else {\n        document.getElementById('layer_menu').style.top = -1000 + 'px'; // fast scroll\n        document.getElementById('layer_menu').style.display = 'none';\n        icon.alt = 'v';\n        icon.src = icon.dataset.down;\n    }\n};\n\nDesignerMove.sideMenuRight = function (idThis) {\n    $('#side_menu').toggleClass('right');\n    $('#layer_menu').toggleClass('float-start');\n    var moveMenuIcon = $(idThis.getElementsByTagName('img')[0]);\n    var resizeIcon = $('#layer_menu_sizer > img')\n        .toggleClass('float-start')\n        .toggleClass('float-end');\n\n    var srcResizeIcon = resizeIcon.attr('src');\n    resizeIcon.attr('src', resizeIcon.attr('data-right'));\n    resizeIcon.attr('data-right', srcResizeIcon);\n\n    var srcMoveIcon = moveMenuIcon.attr('src');\n    moveMenuIcon.attr('src', moveMenuIcon.attr('data-right'));\n    moveMenuIcon.attr('data-right', srcMoveIcon);\n\n    menuMoved = !menuMoved;\n    DesignerMove.saveValueInConfig('side_menu', $('#side_menu').hasClass('right'));\n    $('#key_Left_Right').toggleClass('M_butt_Selected_down');\n    $('#key_Left_Right').toggleClass('M_butt');\n};\n\nDesignerMove.showText = function () {\n    $('#side_menu').find('.hidable').show();\n};\n\nDesignerMove.hideText = function () {\n    if (!alwaysShowText) {\n        $('#side_menu').find('.hidable').hide();\n    }\n};\n\nDesignerMove.pinText = function () {\n    alwaysShowText = !alwaysShowText;\n    $('#pin_Text').toggleClass('M_butt_Selected_down');\n    $('#pin_Text').toggleClass('M_butt');\n    DesignerMove.saveValueInConfig('pin_text', alwaysShowText);\n};\n\nDesignerMove.startDisplayField = function () {\n    if (onRelation) {\n        return;\n    }\n    if (!onDisplayField) {\n        onDisplayField = 1;\n        document.getElementById('designer_hint').innerHTML = Messages.strChangeDisplay;\n        document.getElementById('designer_hint').style.display = 'block';\n        document.getElementById('display_field_button').className = 'M_butt_Selected_down';// '#FFEE99';gray #AAAAAA\n\n        if (isIe) { // correct for IE\n            document.getElementById('display_field_button').className = 'M_butt_Selected_down_IE';\n        }\n    } else {\n        document.getElementById('designer_hint').innerHTML = '';\n        document.getElementById('designer_hint').style.display = 'none';\n        document.getElementById('display_field_button').className = 'M_butt';\n        onDisplayField = 0;\n    }\n};\n\nvar TargetColors = [];\n\nDesignerMove.getColorByTarget = function (target) {\n    var color = '';  // \"rgba(0,100,150,1)\";\n\n    for (var targetColor in TargetColors) {\n        if (TargetColors[targetColor][0] === target) {\n            color = TargetColors[targetColor][1];\n            break;\n        }\n    }\n\n    if (color.length === 0) {\n        var i = TargetColors.length + 1;\n        var d = i % 6;\n        var j = (i - d) / 6;\n        j = j % 4;\n        j++;\n        var colorCase = [\n            [1, 0, 0],\n            [0, 1, 0],\n            [0, 0, 1],\n            [1, 1, 0],\n            [1, 0, 1],\n            [0, 1, 1]\n        ];\n        var a = colorCase[d][0];\n        var b = colorCase[d][1];\n        var c = colorCase[d][2];\n        var e = (1 - (j - 1) / 6);\n\n        var r = Math.round(a * 200 * e);\n        var g = Math.round(b * 200 * e);\n        b = Math.round(c * 200 * e);\n        color = 'rgba(' + r + ',' + g + ',' + b + ',1)';\n\n        TargetColors.push([target, color]);\n    }\n\n    return color;\n};\n\nDesignerMove.clickOption = function (dbName, tableName, columnName, tableDbNameUrl, optionColNameString) {\n    var designerOptions = document.getElementById('designer_optionse');\n    var left = globX - (designerOptions.offsetWidth >> 1);\n    designerOptions.style.left = left + 'px';\n    // var top = Glob_Y - designerOptions.offsetHeight - 10;\n    designerOptions.style.top  = (screen.height / 4) + 'px';\n    designerOptions.style.display = 'block';\n    document.getElementById('ok_add_object_db_and_table_name_url').value = tableDbNameUrl;\n    document.getElementById('ok_add_object_db_name').value = dbName;\n    document.getElementById('ok_add_object_table_name').value = tableName;\n    document.getElementById('ok_add_object_col_name').value = columnName;\n    document.getElementById('option_col_name').innerHTML = optionColNameString;\n};\n\nDesignerMove.closeOption = function () {\n    document.getElementById('designer_optionse').style.display = 'none';\n    document.getElementById('rel_opt').value = '--';\n    document.getElementById('Query').value = '';\n    document.getElementById('new_name').value = '';\n    document.getElementById('operator').value = '---';\n    document.getElementById('groupby').checked = false;\n    document.getElementById('h_rel_opt').value = '--';\n    document.getElementById('h_operator').value = '---';\n    document.getElementById('having').value = '';\n    document.getElementById('orderby').value = '---';\n};\n\nDesignerMove.selectAll = function (tableName, dbName, idSelectAll) {\n    var parentIsChecked = $('#' + idSelectAll).is(':checked');\n    var checkboxAll = $('#container-form input[id_check_all=\\'' + idSelectAll + '\\']:checkbox');\n\n    checkboxAll.each(function () {\n        // already checked and then check parent\n        if (parentIsChecked === true && this.checked) {\n            // was checked, removing column from selected fields\n            // trigger unchecked event\n            this.click();\n        }\n        this.checked = parentIsChecked;\n        this.disabled = parentIsChecked;\n    });\n    if (parentIsChecked) {\n        selectField.push('`' + tableName + '`.*');\n        fromArray.push(tableName);\n    } else {\n        var i;\n        for (i = 0; i < selectField.length; i++) {\n            if (selectField[i] === ('`' + tableName + '`.*')) {\n                selectField.splice(i, 1);\n            }\n        }\n        var k;\n        for (k = 0; k < fromArray.length; k++) {\n            if (fromArray[k] === tableName) {\n                fromArray.splice(k, 1);\n                break;\n            }\n        }\n    }\n    DesignerMove.reload();\n};\n\nDesignerMove.tableOnOver = function (idThis, val, buil) {\n    var builLocal = parseInt(buil);\n    if (!val) {\n        document.getElementById('id_zag_' + idThis).className = 'tab_zag_2';\n        if (builLocal) {\n            document.getElementById('id_zag_' + idThis + '_2').className = 'tab_zag_2';\n        }\n    } else {\n        document.getElementById('id_zag_' + idThis).className = 'tab_zag';\n        if (builLocal) {\n            document.getElementById('id_zag_' + idThis + '_2').className = 'tab_zag';\n        }\n    }\n};\n\n/**\n * This function stores selected column information in selectField[]\n * In case column is checked it add else it deletes\n *\n * @param {string} tableName\n * @param {string} colName\n * @param {string} checkboxId\n */\nDesignerMove.storeColumn = function (tableName, colName, checkboxId) {\n    var i;\n    var k;\n    var selectKeyField = '`' + tableName + '`.`' + colName + '`';\n    if (document.getElementById(checkboxId).checked === true) {\n        selectField.push(selectKeyField);\n        fromArray.push(tableName);\n    } else {\n        for (i = 0; i < selectField.length; i++) {\n            if (selectField[i] === selectKeyField) {\n                selectField.splice(i, 1);\n                break;\n            }\n        }\n        for (k = 0; k < fromArray.length; k++) {\n            if (fromArray[k] === tableName) {\n                fromArray.splice(k, 1);\n                break;\n            }\n        }\n    }\n};\n\n/**\n * This function builds object and adds them to historyArray\n * first it does a few checks on each object, then makes an object(where,rename,groupby,aggregate,orderby)\n * then a new history object is made and finally all these history objects are added to historyArray[]\n *\n * @param {string} dbName\n * @param {string} tableName\n * @param {string} colName\n * @param {string} dbTableNameUrl\n */\nDesignerMove.addObject = function (dbName, tableName, colName, dbTableNameUrl) {\n    var p;\n    var whereObj;\n    var rel = document.getElementById('rel_opt');\n    var sum = 0;\n    var init = historyArray.length;\n    if (rel.value !== '--') {\n        if (document.getElementById('Query').value === '') {\n            Functions.ajaxShowMessage(Functions.sprintf(Messages.strQueryEmpty));\n            return;\n        }\n        p = document.getElementById('Query');\n        whereObj = new DesignerHistory.Where(rel.value, p.value);// make where object\n        historyArray.push(new DesignerHistory.HistoryObj(colName, whereObj, tableName, hTabs[dbTableNameUrl], 'Where'));\n        sum = sum + 1;\n    }\n    if (document.getElementById('new_name').value !== '') {\n        var renameObj = new DesignerHistory.Rename(document.getElementById('new_name').value);// make Rename object\n        historyArray.push(new DesignerHistory.HistoryObj(colName, renameObj, tableName, hTabs[dbTableNameUrl], 'Rename'));\n        sum = sum + 1;\n    }\n    if (document.getElementById('operator').value !== '---') {\n        var aggregateObj = new DesignerHistory.Aggregate(document.getElementById('operator').value);\n        historyArray.push(new DesignerHistory.HistoryObj(colName, aggregateObj, tableName, hTabs[dbTableNameUrl], 'Aggregate'));\n        sum = sum + 1;\n        // make aggregate operator\n    }\n    if (document.getElementById('groupby').checked === true) {\n        historyArray.push(new DesignerHistory.HistoryObj(colName, 'GroupBy', tableName, hTabs[dbTableNameUrl], 'GroupBy'));\n        sum = sum + 1;\n        // make groupby\n    }\n    if (document.getElementById('h_rel_opt').value !== '--') {\n        if (document.getElementById('having').value === '') {\n            return;\n        }\n        whereObj = new DesignerHistory.Having(\n            document.getElementById('h_rel_opt').value,\n            document.getElementById('having').value,\n            document.getElementById('h_operator').value\n        );// make where object\n        historyArray.push(new DesignerHistory.HistoryObj(colName, whereObj, tableName, hTabs[dbTableNameUrl], 'Having'));\n        sum = sum + 1;\n        // make having\n    }\n    if (document.getElementById('orderby').value !== '---') {\n        var orderByObj = new DesignerHistory.OrderBy(document.getElementById('orderby').value);\n        historyArray.push(new DesignerHistory.HistoryObj(colName, orderByObj, tableName, hTabs[dbTableNameUrl], 'OrderBy'));\n        sum = sum + 1;\n        // make orderby\n    }\n    Functions.ajaxShowMessage(Functions.sprintf(Messages.strObjectsCreated, sum));\n    // output sum new objects created\n    var existingDiv = document.getElementById('ab');\n    existingDiv.innerHTML = DesignerHistory.display(init, historyArray.length);\n    DesignerMove.closeOption();\n    $('#ab').accordion('refresh');\n};\n\nDesignerMove.enablePageContentEvents = function () {\n    $('#page_content').off('mousedown');\n    $('#page_content').off('mouseup');\n    $('#page_content').off('mousemove');\n    $('#page_content').on('mousedown', function (e) {\n        DesignerMove.mouseDown(e);\n    });\n    $('#page_content').on('mouseup', function (e) {\n        DesignerMove.mouseUp(e);\n    });\n    $('#page_content').on('mousemove', function (e) {\n        DesignerMove.mouseMove(e);\n    });\n};\n\n/**\n * This function enables the events on table items.\n * It helps to enable them on page loading and when a table is added on the fly.\n * @param {number} index\n * @param {object} element\n */\nDesignerMove.enableTableEvents = function (index, element) {\n    $(element).on('click', '.select_all_1', function () {\n        DesignerMove.selectAll($(this).attr('table_name'), $(this).attr('db_name'), $(this).attr('id'));\n    });\n    $(element).on('click', '.small_tab,.small_tab2', function () {\n        DesignerMove.smallTab($(this).attr('table_name'), 1);\n    });\n    $(element).on('click', '.small_tab_pref_1', function () {\n        DesignerMove.startTabUpd($(this).attr('db_url'), $(this).attr('table_name_url'));\n    });\n    $(element).on('click', '.select_all_store_col', function () {\n        DesignerMove.storeColumn($(this).attr('table_name'), $(this).attr('col_name'), $(this).attr('id'));\n    });\n    $(element).on('click', '.small_tab_pref_click_opt', function () {\n        DesignerMove.clickOption(\n            $(this).attr('db_name'),\n            $(this).attr('table_name'),\n            $(this).attr('col_name'),\n            $(this).attr('db_table_name_url'),\n            $(this).attr('option_col_name_modal')\n        );\n    });\n    $(element).on('click', '.tab_field_2,.tab_field_3,.tab_field', function () {\n        var params = ($(this).attr('click_field_param')).split(',');\n        DesignerMove.clickField(params[3], params[0], params[1], params[2]);\n    });\n\n    $(element).find('.tab_zag_noquery').on('mouseover', function () {\n        DesignerMove.tableOnOver($(this).attr('table_name'),0, $(this).attr('query_set'));\n    });\n    $(element).find('.tab_zag_noquery').on('mouseout', function () {\n        DesignerMove.tableOnOver($(this).attr('table_name'),1, $(this).attr('query_set'));\n    });\n    $(element).find('.tab_zag_query').on('mouseover', function () {\n        DesignerMove.tableOnOver($(this).attr('table_name'),0, 1);\n    });\n    $(element).find('.tab_zag_query').on('mouseout', function () {\n        DesignerMove.tableOnOver($(this).attr('table_name'),1, 1);\n    });\n\n    DesignerMove.enablePageContentEvents();\n};\n\nwindow.AJAX.registerTeardown('designer/move.js', function () {\n    $('#side_menu').off('mouseenter mouseleave');\n    $('#key_Show_left_menu').off('click');\n    $('#toggleFullscreen').off('click');\n    $('#newPage').off('click');\n    $('#editPage').off('click');\n    $('#savePos').off('click');\n    $('#SaveAs').off('click');\n    $('#delPages').off('click');\n    $('#StartTableNew').off('click');\n    $('#rel_button').off('click');\n    $('#StartTableNew').off('click');\n    $('#display_field_button').off('click');\n    $('#reloadPage').off('click');\n    $('#angular_direct_button').off('click');\n    $('#grid_button').off('click');\n    $('#key_SB_all').off('click');\n    $('#SmallTabInvert').off('click');\n    $('#relLineInvert').off('click');\n    $('#exportPages').off('click');\n    $('#query_builder').off('click');\n    $('#key_Left_Right').off('click');\n    $('#pin_Text').off('click');\n    $('#canvas').off('click');\n    $('#key_HS_all').off('click');\n    $('#key_HS').off('click');\n    $('.scroll_tab_struct').off('click');\n    $('.scroll_tab_checkbox').off('click');\n    $('#id_scroll_tab').find('tr').off('click', '.designer_Tabs2,.designer_Tabs');\n    $('.designer_tab').off('click', '.select_all_1');\n    $('.designer_tab').off('click', '.small_tab,.small_tab2');\n    $('.designer_tab').off('click', '.small_tab_pref_1');\n    $('.tab_zag_noquery').off('mouseover');\n    $('.tab_zag_noquery').off('mouseout');\n    $('.tab_zag_query').off('mouseover');\n    $('.tab_zag_query').off('mouseout');\n    $('.designer_tab').off('click','.tab_field_2,.tab_field_3,.tab_field');\n    $('.designer_tab').off('click', '.select_all_store_col');\n    $('.designer_tab').off('click', '.small_tab_pref_click_opt');\n    $('#del_button').off('click');\n    $('#cancel_button').off('click');\n    $('#ok_add_object').off('click');\n    $('#cancel_close_option').off('click');\n    $('#ok_new_rel_panel').off('click');\n    $('#cancel_new_rel_panel').off('click');\n    $('#page_content').off('mouseup');\n    $('#page_content').off('mousedown');\n    $('#page_content').off('mousemove');\n});\n\nwindow.AJAX.registerOnload('designer/move.js', function () {\n    $('#key_Show_left_menu').on('click', function () {\n        DesignerMove.showLeftMenu(this);\n        return false;\n    });\n    $('#toggleFullscreen').on('click', function () {\n        DesignerMove.toggleFullscreen();\n        return false;\n    });\n    $('#addOtherDbTables').on('click', function () {\n        DesignerMove.addOtherDbTables();\n        return false;\n    });\n    $('#newPage').on('click', function () {\n        DesignerMove.new();\n        return false;\n    });\n    $('#editPage').on('click', function () {\n        DesignerMove.editPages();\n        return false;\n    });\n    $('#savePos').on('click', function () {\n        DesignerMove.save3();\n        return false;\n    });\n    $('#SaveAs').on('click', function () {\n        DesignerMove.saveAs();\n        $(document).on('ajaxStop', function () {\n            $('#selected_value').on('click', function () {\n                $('#savePageNewRadio').prop('checked', true);\n            });\n        });\n        return false;\n    });\n    $('#delPages').on('click', function () {\n        DesignerMove.deletePages();\n        return false;\n    });\n    $('#StartTableNew').on('click', function () {\n        DesignerMove.startTableNew();\n        return false;\n    });\n    $('#rel_button').on('click', function () {\n        DesignerMove.startRelation();\n        return false;\n    });\n    $('#display_field_button').on('click', function () {\n        DesignerMove.startDisplayField();\n        return false;\n    });\n    $('#reloadPage').on('click', function () {\n        DesignerMove.loadPage(selectedPage);\n    });\n    $('#angular_direct_button').on('click', function () {\n        DesignerMove.angularDirect();\n        return false;\n    });\n    $('#grid_button').on('click', function () {\n        DesignerMove.grid();\n        return false;\n    });\n    $('#key_SB_all').on('click', function () {\n        DesignerMove.smallTabAll(this);\n        return false;\n    });\n    $('#SmallTabInvert').on('click', function () {\n        DesignerMove.smallTabInvert();\n        return false;\n    });\n    $('#relLineInvert').on('click', function () {\n        DesignerMove.relationLinesInvert();\n        return false;\n    });\n    $('#exportPages').on('click', function () {\n        DesignerMove.exportPages();\n        return false;\n    });\n    $('#query_builder').on('click', function () {\n        DesignerHistory.buildQuery('SQL Query on Database', 0);\n    });\n    $('#key_Left_Right').on('click', function () {\n        DesignerMove.sideMenuRight(this);\n        return false;\n    });\n    $('#side_menu').on('mouseenter', function () {\n        DesignerMove.showText();\n        return false;\n    });\n    $('#side_menu').on('mouseleave', function () {\n        DesignerMove.hideText();\n        return false;\n    });\n    $('#pin_Text').on('click', function () {\n        DesignerMove.pinText(this);\n        return false;\n    });\n    $('#canvas').on('click', function (event) {\n        DesignerMove.canvasClick(this, event);\n    });\n    $('#key_HS_all').on('click', function () {\n        DesignerMove.hideTabAll(this);\n        return false;\n    });\n    $('#key_HS').on('click', function () {\n        DesignerMove.noHaveConstr(this);\n        return false;\n    });\n\n    $('.designer_tab').each(DesignerMove.enableTableEvents);\n    $('.designer_tab').each(DesignerMove.addTableToTablesList);\n\n    $('input#del_button').on('click', function () {\n        DesignerMove.updRelation();\n    });\n    $('input#cancel_button').on('click', function () {\n        document.getElementById('layer_upd_relation').style.display = 'none';\n        DesignerMove.reload();\n    });\n    $('input#ok_add_object').on('click', function () {\n        DesignerMove.addObject(\n            $('#ok_add_object_db_name').val(),\n            $('#ok_add_object_table_name').val(),\n            $('#ok_add_object_col_name').val(),\n            $('#ok_add_object_db_and_table_name_url').val()\n        );\n    });\n    $('input#cancel_close_option').on('click', function () {\n        DesignerMove.closeOption();\n    });\n    $('input#ok_new_rel_panel').on('click', function () {\n        DesignerMove.newRelation();\n    });\n    $('input#cancel_new_rel_panel').on('click', function () {\n        document.getElementById('layer_new_relation').style.display = 'none';\n    });\n    DesignerMove.enablePageContentEvents();\n});\n"],"names":["DesignerMove","change","showRelationLines","alwaysShowText","window","AJAX","registerTeardown","$","document","off","show","registerOnload","$content","$img","find","$span","siblings","css","on","fullscreenElement","removeClass","attr","data","text","valueSent","saveValueInConfig","hide","markSaved","markUnsaved","mainDirection","directionEffect","curClick","smS","smAdd","sLeft","sRight","onRelation","onGrid","onDisplayField","onAngularDirect","clickField","linkRelation","canvasWidth","canvasHeight","osnTabWidth","osnTabHeight","heightField","globX","globY","timeoutId","layerMenuCurClick","fromArray","menuMoved","gridSize","isIe","all","opera","onscroll","generalScroll","onselectstart","mouseDown","e","clientX","body","scrollLeft","pageX","clientY","scrollTop","pageY","target","tagName","parentNode","className","id","getElementById","style","display","zIndex","mouseMove","preventDefault","newDx","newDy","deltaX","deltaY","$curClick","curX","parseFloat","curY","newX","newY","parseInt","$layerMenu","newWidth","width","left","top","mouseUp","reload","canvasPos","height","osnTabPos","setDefaultValuesFromSavedState","angularDirect","grid","$relLineInvert","relationLinesInvert","showText","$keySbAll","trigger","toggleClass","$keyLeftRight","main","smallTabRefresh","resizeOsnTab","maxX","maxY","key","jTabs","kX","offsetWidth","kY","offsetHeight","drawLine0","x1","x2","y1","y2","osnTab","colorTarget","line0","offsetLeft","offsetTop","getColorByTarget","n","a","K","key2","key3","clear","contr","checked","x1Left","x1Right","x2Left","x2Right","Math","abs","i","rowOffsetTop","tabHideButton","innerHTML","fromColumn","toColumn","line","colorLine","canvas","ctx","getContext","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","circle","rect","line2","line3","x1Local","x2Local","xS","x","y","r","w","color","arc","PI","clearRect","h","fillStyle","fillRect","toggleFullscreen","pageContent","addClass","screen","requestFullscreen","exitFullscreen","addTableToTablesList","index","tableDom","db","table","dbEncoded","tableEncoded","tableIsChecked","checkboxStatus","Messages","strHide","strShow","$newTableLine","strStructure","themeImagePath","html","first","append","startTabUpd","selectTab","currentvalue","visibleTab","val","$tablesCounter","displayModal","form","heading","type","modal","addOtherDbTables","$selectDb","strNone","$selectTable","post","CommonParams","get","message","each","innerText","$form","strAddTables","$table","encodeURIComponent","length","Functions","ajaxShowMessage","sprintf","strTableAlreadyExists","undefined","$newTableDom","remove","enableTableEvents","dbName","sqlQuery","rows","new","promptToSaveCurrentPage","loadPage","save","url","value","action","getUrlPos","forceString","designerTablesEnabled","poststr","argsep","coords","tbCoords","DesignerObjects","TableCoordinate","push","save2","callback","server","selectedPage","$msgbox","strProcessingRequest","success","error","ajaxRemoveMessage","strModificationSaved","name","trim","DesignerPage","saveToSelectedPage","submitSaveDialogAndClose","strEnterValidPageName","prepareForAjaxRequest","serialize","saveToNewPage","page","pgNr","pageDescr","save3","strPageName","strSavePage","editPages","createPageList","options","strOpenPage","selected","strSelectPage","deletePages","strDeletePage","$messageBox","deletingCurrentPage","strSuccessfulPageDelete","deletePage","saveAs","strSavePageAs","selectedValue","$selectedPage","choice","selectedPageId","strLeavingPage","exportPages","substring","split","pair","input","$formatDropDown","format","strExportRelationalSchema","paramPage","appendTo","showTablesInLandingPage","loadHtmlForPage","showNewPageTables","indexSent","startRelation","strSelectReferencedKey","T","f","pk","pkLocal","alert","strPleaseSelectPrimaryOrUniqueKey","strSelectForeignKey","fieldNameToSend","decodeURIComponent","newDisplayFieldClass","oldTabField","displayField","tabField","newRelation","startTableNew","set","CommonActions","refreshMain","smallTabAll","idThis","icon","children","alt","element","smallTab","src","dataset","right","down","smallTabInvert","t","idZag","idT","scrollTo","setTimeout","canvasClick","event","Key0","Key1","Key2","Key3","Key","localX","localY","offset","updRelation","tN","hideTabAll","E","EelementsLength","elements","startsWith","inArrayK","m","b","u","noHaveConstr","clearTimeout","showLeftMenu","up","sideMenuRight","moveMenuIcon","getElementsByTagName","resizeIcon","srcResizeIcon","srcMoveIcon","hasClass","hideText","pinText","startDisplayField","strChangeDisplay","TargetColors","targetColor","d","j","colorCase","c","round","g","clickOption","tableName","columnName","tableDbNameUrl","optionColNameString","designerOptions","closeOption","selectAll","idSelectAll","parentIsChecked","is","checkboxAll","click","disabled","selectField","splice","k","tableOnOver","buil","builLocal","storeColumn","colName","checkboxId","selectKeyField","addObject","dbTableNameUrl","p","whereObj","rel","sum","init","historyArray","strQueryEmpty","DesignerHistory","Where","HistoryObj","hTabs","renameObj","Rename","aggregateObj","Aggregate","Having","orderByObj","OrderBy","strObjectsCreated","existingDiv","accordion","enablePageContentEvents","params","prop","buildQuery"],"sourceRoot":""}