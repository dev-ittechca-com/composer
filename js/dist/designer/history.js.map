{"version":3,"file":"designer/history.js","mappings":"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","sources":["webpack://phpmyadmin/external var \"jQuery\"","webpack://phpmyadmin/./js/src/designer/history.js"],"sourcesContent":["module.exports = jQuery;","import $ from 'jquery';\nimport { AJAX } from '../modules/ajax.js';\nimport { Functions } from '../modules/functions.js';\nimport getImageTag from '../modules/functions/getImageTag.js';\n\n/**\n * @fileoverview    function used in this file builds history tab and generates query.\n *\n * @requires    jQuery\n * @requires    move.js\n */\n\n/* global themeImagePath */ // templates/javascript/variables.twig\n\nvar DesignerHistory = {};\nwindow.DesignerHistory = DesignerHistory;\n\nvar historyArray = []; // Global array to store history objects\nvar selectField = [];  // Global array to store information for columns which are used in select clause\nvar gIndex;\nvar vqbEditor = null;\n\n/**\n * To display details of objects(where,rename,Having,aggregate,groupby,orderby,having)\n *\n * @param {number} index index of historyArray where change is to be made\n * @return {string}\n */\nDesignerHistory.detail = function (index) {\n    var type = historyArray[index].getType();\n    var str;\n    if (type === 'Where') {\n        str = 'Where ' + historyArray[index].getColumnName() + historyArray[index].getObj().getRelationOperator() + historyArray[index].getObj().getQuery();\n    } else if (type === 'Rename') {\n        str = 'Rename ' + historyArray[index].getColumnName() + ' To ' + historyArray[index].getObj().getRenameTo();\n    } else if (type === 'Aggregate') {\n        str = 'Select ' + historyArray[index].getObj().getOperator() + '( ' + historyArray[index].getColumnName() + ' )';\n    } else if (type === 'GroupBy') {\n        str = 'GroupBy ' + historyArray[index].getColumnName();\n    } else if (type === 'OrderBy') {\n        str = 'OrderBy ' + historyArray[index].getColumnName() + ' ' + historyArray[index].getObj().getOrder();\n    } else if (type === 'Having') {\n        str = 'Having ';\n        if (historyArray[index].getObj().getOperator() !== 'None') {\n            str += historyArray[index].getObj().getOperator() + '( ' + historyArray[index].getColumnName() + ' )';\n            str += historyArray[index].getObj().getRelationOperator() + historyArray[index].getObj().getQuery();\n        } else {\n            str = 'Having ' + historyArray[index].getColumnName() + historyArray[index].getObj().getRelationOperator() + historyArray[index].getObj().getQuery();\n        }\n    }\n    return str;\n};\n\n/**\n * Sorts historyArray[] first,using table name as the key and then generates the HTML code for history tab,\n * clubbing all objects of same tables together\n * This function is called whenever changes are made in historyArray[]\n *\n *\n * @param {number} init starting index of unsorted array\n * @param {number} finit last index of unsorted array\n * @return {string}\n */\nDesignerHistory.display = function (init, finit) {\n    var str;\n    var i;\n    var j;\n    var k;\n    var sto;\n    var temp;\n    // this part sorts the history array based on table name,this is needed for clubbing all object of same name together.\n    for (i = init; i < finit; i++) {\n        sto = historyArray[i];\n        temp = historyArray[i].getTab();// + '.' + historyArray[i].getObjNo(); for Self JOINS\n        for (j = 0; j < i; j++) {\n            if (temp > (historyArray[j].getTab())) {// + '.' + historyArray[j].getObjNo())) { //for Self JOINS\n                for (k = i; k > j; k--) {\n                    historyArray[k] = historyArray[k - 1];\n                }\n                historyArray[j] = sto;\n                break;\n            }\n        }\n    }\n    // this part generates HTML code for history tab.adds delete,edit,and/or and detail features with objects.\n    str = ''; // string to store Html code for history tab\n    var historyArrayLength = historyArray.length;\n    for (i = 0; i < historyArrayLength; i++) {\n        temp = historyArray[i].getTab(); // + '.' + historyArray[i].getObjNo(); for Self JOIN\n        str += '<h3 class=\"tiger\"><a href=\"#\">' + temp + '</a></h3>';\n        str += '<div class=\"toggle_container\">\\n';\n        while ((historyArray[i].getTab()) === temp) { // + '.' + historyArray[i].getObjNo()) === temp) {\n            str += '<div class=\"block\"> <table class=\"table table-sm w-auto mb-0\">';\n            str += '<thead><tr><td>';\n            if (historyArray[i].getAndOr()) {\n                str += '<img src=\"' + themeImagePath + 'designer/or_icon.png\" onclick=\"DesignerHistory.andOr(' + i + ')\" title=\"OR\"></td>';\n            } else {\n                str += '<img src=\"' + themeImagePath + 'designer/and_icon.png\" onclick=\"DesignerHistory.andOr(' + i + ')\" title=\"AND\"></td>';\n            }\n            str += '<td style=\"padding-left: 5px;\" class=\"text-end\">' + getImageTag('b_sbrowse', window.Messages.strColumnName) + '</td>' +\n                '<td width=\"175\" style=\"padding-left: 5px\">' + $('<div/>').text(historyArray[i].getColumnName()).html() + '<td>';\n            if (historyArray[i].getType() === 'GroupBy' || historyArray[i].getType() === 'OrderBy') {\n                var detailDescGroupBy = $('<div/>').text(DesignerHistory.detail(i)).html();\n                str += '<td class=\"text-center\">' + getImageTag('s_info', DesignerHistory.detail(i)) + '</td>' +\n                    '<td title=\"' + detailDescGroupBy + '\">' + historyArray[i].getType() + '</td>' +\n                    '<td onclick=DesignerHistory.historyDelete(' + i + ')>' + getImageTag('b_drop', window.Messages.strDelete) + '</td>';\n            } else {\n                var detailDesc = $('<div/>').text(DesignerHistory.detail(i)).html();\n                str += '<td class=\"text-center\">' + getImageTag('s_info', DesignerHistory.detail(i)) + '</td>' +\n                    '<td title=\"' + detailDesc + '\">' + historyArray[i].getType() + '</td>' +\n                    '<td onclick=DesignerHistory.historyEdit(' + i + ')>' + getImageTag('b_edit', window.Messages.strEdit) + '</td>' +\n                    '<td onclick=DesignerHistory.historyDelete(' + i + ')>' + getImageTag('b_drop', window.Messages.strDelete) + '</td>';\n            }\n            str += '</tr></thead>';\n            i++;\n            if (i >= historyArrayLength) {\n                break;\n            }\n            str += '</table></div>';\n        }\n        i--;\n        str += '</div>';\n    }\n    return str;\n};\n\n/**\n * To change And/Or relation in history tab\n *\n *\n * @param {number} index index of historyArray where change is to be made\n * @return {void}\n */\nDesignerHistory.andOr = function (index) {\n    if (historyArray[index].getAndOr()) {\n        historyArray[index].setAndOr(0);\n    } else {\n        historyArray[index].setAndOr(1);\n    }\n    var existingDiv = document.getElementById('ab');\n    existingDiv.innerHTML = DesignerHistory.display(0, 0);\n    $('#ab').accordion('refresh');\n};\n\n/**\n * Deletes entry in historyArray\n *\n * @param {number} index of historyArray[] which is to be deleted\n * @return {void}\n */\nDesignerHistory.historyDelete = function (index) {\n    var fromArrayLength = window.fromArray.length;\n    for (var k = 0; k < fromArrayLength; k++) {\n        if (window.fromArray[k] === historyArray[index].getTab()) {\n            window.fromArray.splice(k, 1);\n            break;\n        }\n    }\n    historyArray.splice(index, 1);\n    var existingDiv = document.getElementById('ab');\n    existingDiv.innerHTML = DesignerHistory.display(0, 0);\n    $('#ab').accordion('refresh');\n};\n\n/**\n * @param {string} elementId\n * @return {void}\n */\nDesignerHistory.changeStyle = function (elementId) {\n    var element = document.getElementById(elementId);\n    element.style.left = '530px';\n    element.style.top = '130px';\n    element.style.position = 'absolute';\n    element.style.zIndex = '103';\n    element.style.visibility = 'visible';\n    element.style.display = 'block';\n};\n\n/**\n * To show where,rename,aggregate,having forms to edit a object\n *\n * @param {number} index index of historyArray where change is to be made\n * @return {void}\n */\nDesignerHistory.historyEdit = function (index) {\n    gIndex = index;\n    var type = historyArray[index].getType();\n    if (type === 'Where') {\n        document.getElementById('eQuery').value = historyArray[index].getObj().getQuery();\n        document.getElementById('erel_opt').value = historyArray[index].getObj().getRelationOperator();\n        DesignerHistory.changeStyle('query_where');\n    } else if (type === 'Having') {\n        document.getElementById('hQuery').value = historyArray[index].getObj().getQuery();\n        document.getElementById('hrel_opt').value = historyArray[index].getObj().getRelationOperator();\n        document.getElementById('hoperator').value = historyArray[index].getObj().getOperator();\n        DesignerHistory.changeStyle('query_having');\n    } else if (type === 'Rename') {\n        document.getElementById('e_rename').value = historyArray[index].getObj().getRenameTo();\n        DesignerHistory.changeStyle('query_rename_to');\n    } else if (type === 'Aggregate') {\n        document.getElementById('e_operator').value = historyArray[index].getObj().getOperator();\n        DesignerHistory.changeStyle('query_Aggregate');\n    }\n};\n\n/**\n * Make changes in historyArray when Edit button is clicked\n * checks for the type of object and then sets the new value\n *\n * @param {string} type of historyArray where change is to be made\n * @return {void}\n */\nDesignerHistory.edit = function (type) {\n    if (type === 'Rename') {\n        if (document.getElementById('e_rename').value !== '') {\n            historyArray[gIndex].getObj().setRenameTo(document.getElementById('e_rename').value);\n            document.getElementById('e_rename').value = '';\n        }\n        document.getElementById('query_rename_to').style.visibility = 'hidden';\n    } else if (type === 'Aggregate') {\n        if (document.getElementById('e_operator').value !== '---') {\n            historyArray[gIndex].getObj().setOperator(document.getElementById('e_operator').value);\n            document.getElementById('e_operator').value = '---';\n        }\n        document.getElementById('query_Aggregate').style.visibility = 'hidden';\n    } else if (type === 'Where') {\n        if (document.getElementById('erel_opt').value !== '--' && document.getElementById('eQuery').value !== '') {\n            historyArray[gIndex].getObj().setQuery(document.getElementById('eQuery').value);\n            historyArray[gIndex].getObj().setRelationOperator(document.getElementById('erel_opt').value);\n        }\n        document.getElementById('query_where').style.visibility = 'hidden';\n    } else if (type === 'Having') {\n        if (document.getElementById('hrel_opt').value !== '--' && document.getElementById('hQuery').value !== '') {\n            historyArray[gIndex].getObj().setQuery(document.getElementById('hQuery').value);\n            historyArray[gIndex].getObj().setRelationOperator(document.getElementById('hrel_opt').value);\n            historyArray[gIndex].getObj().setOperator(document.getElementById('hoperator').value);\n        }\n        document.getElementById('query_having').style.visibility = 'hidden';\n    }\n    var existingDiv = document.getElementById('ab');\n    existingDiv.innerHTML = DesignerHistory.display(0, 0);\n    $('#ab').accordion('refresh');\n};\n\n/**\n * history object closure\n *\n * @param nColumnName  name of the column on which conditions are put\n * @param nObj          object details(where,rename,orderby,groupby,aggregate)\n * @param nTab          table name of the column on which conditions are applied\n * @param nObjNo       object no used for inner join\n * @param nType         type of object\n *\n */\nDesignerHistory.HistoryObj = function (nColumnName, nObj, nTab, nObjNo, nType) {\n    var andOr;\n    var obj;\n    var tab;\n    var columnName;\n    var objNo;\n    var type;\n    this.setColumnName = function (nColumnName) {\n        columnName = nColumnName;\n    };\n    this.getColumnName = function () {\n        return columnName;\n    };\n    this.setAndOr = function (nAndOr) {\n        andOr = nAndOr;\n    };\n    this.getAndOr = function () {\n        return andOr;\n    };\n    this.getRelation = function () {\n        return andOr;\n    };\n    this.setObj = function (nObj) {\n        obj = nObj;\n    };\n    this.getObj = function () {\n        return obj;\n    };\n    this.setTab = function (nTab) {\n        tab = nTab;\n    };\n    this.getTab = function () {\n        return tab;\n    };\n    this.setObjNo = function (nObjNo) {\n        objNo = nObjNo;\n    };\n    this.getObjNo = function () {\n        return objNo;\n    };\n    this.setType = function (nType) {\n        type = nType;\n    };\n    this.getType = function () {\n        return type;\n    };\n    this.setObjNo(nObjNo);\n    this.setTab(nTab);\n    this.setAndOr(0);\n    this.setObj(nObj);\n    this.setColumnName(nColumnName);\n    this.setType(nType);\n};\n\n/**\n * where object closure, makes an object with all information of where\n *\n * @param nRelationOperator type of relation operator to be applied\n * @param nQuery             stores value of value/sub-query\n *\n */\n\nDesignerHistory.Where = function (nRelationOperator, nQuery) {\n    var relationOperator;\n    var query;\n    this.setRelationOperator = function (nRelationOperator) {\n        relationOperator = nRelationOperator;\n    };\n    this.setQuery = function (nQuery) {\n        query = nQuery;\n    };\n    this.getQuery = function () {\n        return query;\n    };\n    this.getRelationOperator = function () {\n        return relationOperator;\n    };\n    this.setQuery(nQuery);\n    this.setRelationOperator(nRelationOperator);\n};\n\n/**\n * Orderby object closure\n *\n * @param nOrder order, ASC or DESC\n */\nDesignerHistory.OrderBy = function (nOrder) {\n    var order;\n    this.setOrder = function (nOrder) {\n        order = nOrder;\n    };\n    this.getOrder = function () {\n        return order;\n    };\n    this.setOrder(nOrder);\n};\n\n/**\n * Having object closure, makes an object with all information of where\n *\n * @param nRelationOperator type of relation operator to be applied\n * @param nQuery             stores value of value/sub-query\n * @param nOperator          operator\n */\nDesignerHistory.Having = function (nRelationOperator, nQuery, nOperator) {\n    var relationOperator;\n    var query;\n    var operator;\n    this.setOperator = function (nOperator) {\n        operator = nOperator;\n    };\n    this.setRelationOperator = function (nRelationOperator) {\n        relationOperator = nRelationOperator;\n    };\n    this.setQuery = function (nQuery) {\n        query = nQuery;\n    };\n    this.getQuery = function () {\n        return query;\n    };\n    this.getRelationOperator = function () {\n        return relationOperator;\n    };\n    this.getOperator = function () {\n        return operator;\n    };\n    this.setQuery(nQuery);\n    this.setRelationOperator(nRelationOperator);\n    this.setOperator(nOperator);\n};\n\n/**\n * rename object closure,makes an object with all information of rename\n *\n * @param nRenameTo new name information\n *\n */\nDesignerHistory.Rename = function (nRenameTo) {\n    var renameTo;\n    this.setRenameTo = function (nRenameTo) {\n        renameTo = nRenameTo;\n    };\n    this.getRenameTo = function () {\n        return renameTo;\n    };\n    this.setRenameTo(nRenameTo);\n};\n\n/**\n * aggregate object closure\n *\n * @param nOperator aggregate operator\n *\n */\nDesignerHistory.Aggregate = function (nOperator) {\n    var operator;\n    this.setOperator = function (nOperator) {\n        operator = nOperator;\n    };\n    this.getOperator = function () {\n        return operator;\n    };\n    this.setOperator(nOperator);\n};\n\n/**\n * This function returns unique element from an array\n *\n * @param arrayName array from which duplicate elem are to be removed.\n * @return unique array\n */\n\nDesignerHistory.unique = function (arrayName) {\n    var newArray = [];\n    uniquetop:\n    for (var i = 0; i < arrayName.length; i++) {\n        var newArrayLength = newArray.length;\n        for (var j = 0; j < newArrayLength; j++) {\n            if (newArray[j] === arrayName[i]) {\n                continue uniquetop;\n            }\n        }\n        newArray[newArrayLength] = arrayName[i];\n    }\n    return newArray;\n};\n\n/**\n * This function takes in array and a value as input and returns 1 if values is present in array\n * else returns -1\n *\n * @param arrayName array\n * @param value  value which is to be searched in the array\n */\n\nDesignerHistory.found = function (arrayName, value) {\n    var arrayNameLength = arrayName.length;\n    for (var i = 0; i < arrayNameLength; i++) {\n        if (arrayName[i] === value) {\n            return 1;\n        }\n    }\n    return -1;\n};\n\n/**\n * This function concatenates two array\n *\n * @param {object} add array elements of which are pushed in\n * @param {obj[]} arr array in which elements are added\n *\n * @return {obj[]}\n */\nDesignerHistory.addArray = function (add, arr) {\n    var addLength = add.length;\n    for (var i = 0; i < addLength; i++) {\n        arr.push(add[i]);\n    }\n    return arr;\n};\n\n/**\n * This function removes all elements present in one array from the other.\n *\n * @param {object} rem array from which each element is removed from other array.\n * @param {obj[]} arr array from which elements are removed.\n *\n * @return {obj[]}\n *\n */\nDesignerHistory.removeArray = function (rem, arr) {\n    var remLength = rem.length;\n    for (var i = 0; i < remLength; i++) {\n        var arrLength = arr.length;\n        for (var j = 0; j < arrLength; j++) {\n            if (rem[i] === arr[j]) {\n                arr.splice(j, 1);\n            }\n        }\n    }\n    return arr;\n};\n\n/**\n * This function builds the groupby clause from history object\n * @return {string}\n */\nDesignerHistory.queryGroupBy = function () {\n    var i;\n    var str = '';\n    var historyArrayLength = historyArray.length;\n    for (i = 0; i < historyArrayLength; i++) {\n        if (historyArray[i].getType() === 'GroupBy') {\n            str += '`' + historyArray[i].getColumnName() + '`, ';\n        }\n    }\n    str = str.substring(0, str.length - 2);\n    return str;\n};\n\n/**\n * This function builds the Having clause from the history object.\n * @return {string}\n */\nDesignerHistory.queryHaving = function () {\n    var i;\n    var and = '(';\n    var historyArrayLength = historyArray.length;\n    for (i = 0; i < historyArrayLength; i++) {\n        if (historyArray[i].getType() === 'Having') {\n            if (historyArray[i].getObj().getOperator() !== 'None') {\n                and += historyArray[i].getObj().getOperator() + '(`' + historyArray[i].getColumnName() + '`) ' + historyArray[i].getObj().getRelationOperator();\n                and += ' ' + historyArray[i].getObj().getQuery() + ', ';\n            } else {\n                and += '`' + historyArray[i].getColumnName() + '` ' + historyArray[i].getObj().getRelationOperator() + ' ' + historyArray[i].getObj().getQuery() + ', ';\n            }\n        }\n    }\n    if (and === '(') {\n        and = '';\n    } else {\n        and = and.substring(0, and.length - 2) + ')';\n    }\n    return and;\n};\n\n\n/**\n * This function builds the orderby clause from the history object.\n * @return {string}\n */\nDesignerHistory.queryOrderBy = function () {\n    var i;\n    var str = '';\n    var historyArrayLength = historyArray.length;\n    for (i = 0; i < historyArrayLength; i++) {\n        if (historyArray[i].getType() === 'OrderBy') {\n            str += '`' + historyArray[i].getColumnName() + '` ' +\n                historyArray[i].getObj().getOrder() + ', ';\n        }\n    }\n    str = str.substring(0, str.length - 2);\n    return str;\n};\n\n\n/**\n * This function builds the Where clause from the history object.\n * @return {string}\n */\nDesignerHistory.queryWhere = function () {\n    var i;\n    var and = '(';\n    var or = '(';\n    var historyArrayLength = historyArray.length;\n    for (i = 0; i < historyArrayLength; i++) {\n        if (historyArray[i].getType() === 'Where') {\n            if (historyArray[i].getAndOr() === 0) {\n                and += '( `' + historyArray[i].getColumnName() + '` ' + historyArray[i].getObj().getRelationOperator() + ' ' + historyArray[i].getObj().getQuery() + ')';\n                and += ' AND ';\n            } else {\n                or += '( `' + historyArray[i].getColumnName() + '` ' + historyArray[i].getObj().getRelationOperator() + ' ' + historyArray[i].getObj().getQuery() + ')';\n                or += ' OR ';\n            }\n        }\n    }\n    if (or !== '(') {\n        or = or.substring(0, (or.length - 4)) + ')';\n    } else {\n        or = '';\n    }\n    if (and !== '(') {\n        and = and.substring(0, (and.length - 5)) + ')';\n    } else {\n        and = '';\n    }\n    if (or !== '') {\n        and = and + ' OR ' + or + ' )';\n    }\n    return and;\n};\n\nDesignerHistory.checkAggregate = function (idThis) {\n    var i;\n    var historyArrayLength = historyArray.length;\n    for (i = 0; i < historyArrayLength; i++) {\n        var temp = '`' + historyArray[i].getTab() + '`.`' + historyArray[i].getColumnName() + '`';\n        if (temp === idThis && historyArray[i].getType() === 'Aggregate') {\n            return historyArray[i].getObj().getOperator() + '(' + idThis + ')';\n        }\n    }\n    return '';\n};\n\nDesignerHistory.checkRename = function (idThis) {\n    var i;\n    var historyArrayLength = historyArray.length;\n    for (i = 0; i < historyArrayLength; i++) {\n        var temp = '`' + historyArray[i].getTab() + '`.`' + historyArray[i].getColumnName() + '`';\n        if (temp === idThis && historyArray[i].getType() === 'Rename') {\n            return ' AS `' + historyArray[i].getObj().getRenameTo() + '`';\n        }\n    }\n    return '';\n};\n\n/**\n * This function builds from clause of query\n * makes automatic joins.\n *\n * @return {string}\n */\nDesignerHistory.queryFrom = function () {\n    var i;\n    var tabLeft = [];\n    var tabUsed = [];\n    var tTabLeft = [];\n    var temp;\n    var query = '';\n    var quer = '';\n    var parts = [];\n    var tArray = [];\n    tArray = window.fromArray;\n    var K = 0;\n    var k;\n    var key;\n    var key2;\n    var key3;\n    var parts1;\n\n    // the constraints that have been used in the LEFT JOIN\n    var constraintsAdded = [];\n\n    var historyArrayLength = historyArray.length;\n    for (i = 0; i < historyArrayLength; i++) {\n        window.fromArray.push(historyArray[i].getTab());\n    }\n    window.fromArray = DesignerHistory.unique(window.fromArray);\n    tabLeft = window.fromArray;\n    temp = tabLeft.shift();\n    quer = '`' + temp + '`';\n    tabUsed.push(temp);\n\n    // if master table (key2) matches with tab used get all keys and check if tab_left matches\n    // after this check if master table (key2) matches with tab left then check if any foreign matches with master .\n    for (i = 0; i < 2; i++) {\n        for (K in window.contr) {\n            for (key in window.contr[K]) {// contr name\n                for (key2 in window.contr[K][key]) {// table name\n                    parts = key2.split('.');\n                    if (DesignerHistory.found(tabUsed, parts[1]) > 0) {\n                        for (key3 in window.contr[K][key][key2]) {\n                            parts1 = window.contr[K][key][key2][key3][0].split('.');\n                            if (DesignerHistory.found(tabLeft, parts1[1]) > 0) {\n                                if (DesignerHistory.found(constraintsAdded, key) > 0) {\n                                    query += ' AND ' + '`' + parts[1] + '`.`' + key3 + '` = ';\n                                    query += '`' + parts1[1] + '`.`' + window.contr[K][key][key2][key3][1] + '` ';\n                                } else {\n                                    query += '\\n' + 'LEFT JOIN ';\n                                    query += '`' + parts[1] + '` ON ';\n                                    query += '`' + parts1[1] + '`.`' + window.contr[K][key][key2][key3][1] + '` = ';\n                                    query += '`' + parts[1] + '`.`' + key3 + '` ';\n\n                                    constraintsAdded.push(key);\n                                }\n                                tTabLeft.push(parts[1]);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        K = 0;\n        tTabLeft = DesignerHistory.unique(tTabLeft);\n        tabUsed = DesignerHistory.addArray(tTabLeft, tabUsed);\n        tabLeft = DesignerHistory.removeArray(tTabLeft, tabLeft);\n        tTabLeft = [];\n        for (K in window.contr) {\n            for (key in window.contr[K]) {\n                for (key2 in window.contr[K][key]) {// table name\n                    parts = key2.split('.');\n                    if (DesignerHistory.found(tabLeft, parts[1]) > 0) {\n                        for (key3 in window.contr[K][key][key2]) {\n                            parts1 = window.contr[K][key][key2][key3][0].split('.');\n                            if (DesignerHistory.found(tabUsed, parts1[1]) > 0) {\n                                if (DesignerHistory.found(constraintsAdded, key) > 0) {\n                                    query += ' AND ' + '`' + parts[1] + '`.`' + key3 + '` = ';\n                                    query += '`' + parts1[1] + '`.`' + window.contr[K][key][key2][key3][1] + '` ';\n                                } else {\n                                    query += '\\n' + 'LEFT JOIN ';\n                                    query += '`' + parts[1] + '` ON ';\n                                    query += '`' + parts1[1] + '`.`' + window.contr[K][key][key2][key3][1] + '` = ';\n                                    query += '`' + parts[1] + '`.`' + key3 + '` ';\n\n                                    constraintsAdded.push(key);\n                                }\n                                tTabLeft.push(parts[1]);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        tTabLeft = DesignerHistory.unique(tTabLeft);\n        tabUsed = DesignerHistory.addArray(tTabLeft, tabUsed);\n        tabLeft = DesignerHistory.removeArray(tTabLeft, tabLeft);\n        tTabLeft = [];\n    }\n    for (k in tabLeft) {\n        quer += ' , `' + tabLeft[k] + '`';\n    }\n    query = quer + query;\n    window.fromArray = tArray;\n    return query;\n};\n\n/**\n * This function is the main function for query building.\n * uses history object details for this.\n *\n * @uses DesignerHistory.queryWhere()\n * @uses DesignerHistory.queryGroupBy()\n * @uses DesignerHistory.queryHaving()\n * @uses DesignerHistory.queryOrderBy()\n */\nDesignerHistory.buildQuery = function () {\n    var qSelect = 'SELECT ';\n    var temp;\n    var selectFieldLength = selectField.length;\n    if (selectFieldLength > 0) {\n        for (var i = 0; i < selectFieldLength; i++) {\n            temp = DesignerHistory.checkAggregate(selectField[i]);\n            if (temp !== '') {\n                qSelect += temp;\n                temp = DesignerHistory.checkRename(selectField[i]);\n                qSelect += temp + ', ';\n            } else {\n                temp = DesignerHistory.checkRename(selectField[i]);\n                qSelect += selectField[i] + temp + ', ';\n            }\n        }\n        qSelect = qSelect.substring(0, qSelect.length - 2);\n    } else {\n        qSelect += '* ';\n    }\n\n    qSelect += '\\nFROM ' + DesignerHistory.queryFrom();\n\n    var qWhere = DesignerHistory.queryWhere();\n    if (qWhere !== '') {\n        qSelect += '\\nWHERE ' + qWhere;\n    }\n\n    var qGroupBy = DesignerHistory.queryGroupBy();\n    if (qGroupBy !== '') {\n        qSelect += '\\nGROUP BY ' + qGroupBy;\n    }\n\n    var qHaving = DesignerHistory.queryHaving();\n    if (qHaving !== '') {\n        qSelect += '\\nHAVING ' + qHaving;\n    }\n\n    var qOrderBy = DesignerHistory.queryOrderBy();\n    if (qOrderBy !== '') {\n        qSelect += '\\nORDER BY ' + qOrderBy;\n    }\n    $('#buildQuerySubmitButton').on('click', function () {\n        if (vqbEditor) {\n            var $elm = $('#buildQueryModal').find('textarea');\n            vqbEditor.save();\n            $elm.val(vqbEditor.getValue());\n        }\n        $('#vqb_form').trigger('submit');\n    });\n\n    $('#buildQueryModal').modal('show');\n    $('#buildQueryModalLabel').first().text('SELECT');\n    $('#buildQueryModal').on('shown.bs.modal', function () {\n        // Attach syntax highlighted editor to query dialog\n        /**\n         * @var $elm jQuery object containing the reference\n         *           to the query textarea.\n         */\n        var $elm = $('#buildQueryModal').find('textarea');\n        if (! vqbEditor) {\n            vqbEditor = Functions.getSqlEditor($elm);\n        }\n        if (vqbEditor) {\n            vqbEditor.setValue(qSelect);\n            vqbEditor.focus();\n        } else {\n            $elm.val(qSelect);\n            $elm.trigger('focus');\n        }\n    });\n};\n\nAJAX.registerTeardown('designer/history.js', function () {\n    vqbEditor = null;\n    historyArray = [];\n    selectField = [];\n    $('#ok_edit_rename').off('click');\n    $('#ok_edit_having').off('click');\n    $('#ok_edit_Aggr').off('click');\n    $('#ok_edit_where').off('click');\n});\n\nAJAX.registerOnload('designer/history.js', function () {\n    $('#ok_edit_rename').on('click', function () {\n        DesignerHistory.edit('Rename');\n    });\n    $('#ok_edit_having').on('click', function () {\n        DesignerHistory.edit('Having');\n    });\n    $('#ok_edit_Aggr').on('click', function () {\n        DesignerHistory.edit('Aggregate');\n    });\n    $('#ok_edit_where').on('click', function () {\n        DesignerHistory.edit('Where');\n    });\n    $('#ab').accordion({ collapsible: true, active: 'none' });\n});\n"],"names":["$","AJAX","Functions","getImageTag","DesignerHistory","window","historyArray","selectField","gIndex","vqbEditor","detail","index","type","getType","str","getColumnName","getObj","getRelationOperator","getQuery","getRenameTo","getOperator","getOrder","display","init","finit","i","j","k","sto","temp","getTab","historyArrayLength","length","getAndOr","themeImagePath","Messages","strColumnName","text","html","detailDescGroupBy","strDelete","detailDesc","strEdit","andOr","setAndOr","existingDiv","document","getElementById","innerHTML","accordion","historyDelete","fromArrayLength","fromArray","splice","changeStyle","elementId","element","style","left","top","position","zIndex","visibility","historyEdit","value","edit","setRenameTo","setOperator","setQuery","setRelationOperator","HistoryObj","nColumnName","nObj","nTab","nObjNo","nType","obj","tab","columnName","objNo","setColumnName","nAndOr","getRelation","setObj","setTab","setObjNo","getObjNo","setType","Where","nRelationOperator","nQuery","relationOperator","query","OrderBy","nOrder","order","setOrder","Having","nOperator","operator","Rename","nRenameTo","renameTo","Aggregate","unique","arrayName","newArray","uniquetop","newArrayLength","found","arrayNameLength","addArray","add","arr","addLength","push","removeArray","rem","remLength","arrLength","queryGroupBy","substring","queryHaving","and","queryOrderBy","queryWhere","or","checkAggregate","idThis","checkRename","queryFrom","tabLeft","tabUsed","tTabLeft","quer","parts","tArray","K","key","key2","key3","parts1","constraintsAdded","shift","contr","split","buildQuery","qSelect","selectFieldLength","qWhere","qGroupBy","qHaving","qOrderBy","on","$elm","find","save","val","getValue","trigger","modal","first","getSqlEditor","setValue","focus","registerTeardown","off","registerOnload","collapsible","active"],"sourceRoot":""}