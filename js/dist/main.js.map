{"version":3,"file":"main.js","mappings":"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","sources":["webpack://phpmyadmin/external var \"jQuery\"","webpack://phpmyadmin/./js/src/main.js","webpack://phpmyadmin/./js/src/modules/cross_framing_protection.js","webpack://phpmyadmin/./js/src/modules/keyhandler.js","webpack://phpmyadmin/./js/src/modules/page_settings.js"],"sourcesContent":["module.exports = jQuery;","import $ from 'jquery';\nimport { AJAX } from './modules/ajax.js';\nimport { Functions } from './modules/functions.js';\nimport { KeyHandlerEvents } from './modules/keyhandler.js';\nimport { Navigation } from './modules/navigation.js';\nimport { PageSettings } from './modules/page_settings.js';\nimport { crossFramingProtection } from './modules/cross_framing_protection.js';\nimport { Indexes } from './modules/indexes.js';\nimport { Config } from './modules/config.js';\n\nAJAX.registerOnload('main.js', () => AJAX.removeSubmitEvents());\n$(AJAX.loadEventHandler());\n\n/**\n * Attach a generic event handler to clicks on pages and submissions of forms.\n */\n$(document).on('click', 'a', AJAX.requestHandler);\n$(document).on('submit', 'form', AJAX.requestHandler);\n\n$(document).on('ajaxError', AJAX.getFatalErrorHandler());\n\nAJAX.registerTeardown('main.js', KeyHandlerEvents.off());\nAJAX.registerOnload('main.js', KeyHandlerEvents.on());\n\ncrossFramingProtection();\n\nAJAX.registerTeardown('main.js', Config.off());\nAJAX.registerOnload('main.js', Config.on());\n\n$.ajaxPrefilter(Functions.addNoCacheToAjaxRequests());\n\nAJAX.registerTeardown('main.js', Functions.off());\nAJAX.registerOnload('main.js', Functions.on());\n\n$(Functions.dismissNotifications());\n$(Functions.initializeMenuResizer());\n$(Functions.floatingMenuBar());\n$(Functions.breadcrumbScrollToTop());\n\n$(Navigation.onload());\n\nAJAX.registerTeardown('main.js', Indexes.off());\nAJAX.registerOnload('main.js', Indexes.on());\n\n$(() => Functions.checkNumberOfFields());\n\nAJAX.registerTeardown('main.js', () => {\n    PageSettings.off();\n});\n\nAJAX.registerOnload('main.js', () => {\n    PageSettings.on();\n});\n","/**\n * Conditionally included if framing is not allowed.\n * @return {void}\n */\nconst crossFramingProtection = () => {\n    if (window.allowThirdPartyFraming) {\n        return;\n    }\n\n    if (window.self !== window.top) {\n        window.top.location = window.self.location;\n        return;\n    }\n\n    const styleElement = document.getElementById('cfs-style');\n    // check if styleElement has already been removed to avoid frequently reported js error\n    if (typeof (styleElement) === 'undefined' || styleElement === null) {\n        return;\n    }\n\n    styleElement.parentNode.removeChild(styleElement);\n};\n\nexport { crossFramingProtection };\n","import $ from 'jquery';\n\n// var that holds: 0- if ctrl key is not pressed 1- if ctrl key is pressed\nlet ctrlKeyHistory = 0;\n\n/**\n  * Allows moving around inputs/select by Ctrl+arrows\n  *\n  * @param {object} event data\n  */\nconst onKeyDownArrowsHandler = function (event) {\n    var e = event || window.event;\n\n    var o = (e.srcElement || e.target);\n    if (!o) {\n        return;\n    }\n    if (o.tagName !== 'TEXTAREA' && o.tagName !== 'INPUT' && o.tagName !== 'SELECT') {\n        return;\n    }\n    if ((e.which !== 17) && (e.which !== 37) && (e.which !== 38) && (e.which !== 39) && (e.which !== 40)) {\n        return;\n    }\n    if (!o.id) {\n        return;\n    }\n\n    if (e.type === 'keyup') {\n        if (e.which === 17) {\n            ctrlKeyHistory = 0;\n        }\n        return;\n    } else if (e.type === 'keydown') {\n        if (e.which === 17) {\n            ctrlKeyHistory = 1;\n        }\n    }\n\n    if (ctrlKeyHistory !== 1) {\n        return;\n    }\n\n    e.preventDefault();\n\n    var pos = o.id.split('_');\n    if (pos[0] !== 'field' || typeof pos[2] === 'undefined') {\n        return;\n    }\n\n    var x = pos[2];\n    var y = pos[1];\n\n    switch (e.keyCode) {\n    case 38:\n        // up\n        y--;\n        break;\n    case 40:\n        // down\n        y++;\n        break;\n    case 37:\n        // left\n        x--;\n        break;\n    case 39:\n        // right\n        x++;\n        break;\n    default:\n        return;\n    }\n\n    var id = 'field_' + y + '_' + x;\n\n    var nO = document.getElementById(id);\n    if (!nO) {\n        id = 'field_' + y + '_' + x + '_0';\n        nO = document.getElementById(id);\n    }\n\n    // skip non existent fields\n    if (!nO) {\n        return;\n    }\n\n    nO.focus();\n\n    if (nO.tagName !== 'SELECT') {\n        nO.select();\n    }\n    e.returnValue = false;\n};\n\nconst KeyHandlerEvents = {\n    /**\n     * @return {function}\n     */\n    off: function () {\n        return function () {\n            $(document).off('keydown keyup', '#table_columns');\n            $(document).off('keydown keyup', 'table.insertRowTable');\n        };\n    },\n    /**\n     * @return {function}\n     */\n    on: function () {\n        return function () {\n            $(document).on('keydown keyup', '#table_columns', function (event) {\n                onKeyDownArrowsHandler(event.originalEvent);\n            });\n            $(document).on('keydown keyup', 'table.insertRowTable', function (event) {\n                onKeyDownArrowsHandler(event.originalEvent);\n            });\n        };\n    }\n};\n\nexport { KeyHandlerEvents };\n","import $ from 'jquery';\n\n/**\n * @fileoverview    function used for page-related settings\n * @name            Page-related settings\n *\n * @requires    jQueryUI\n */\n\nfunction showSettings (selector) {\n    // Keeping a clone to restore in case the user cancels the operation\n    var $clone = $(selector + ' .page_settings').clone(true);\n\n    $('#pageSettingsModalApplyButton').on('click', function () {\n        $('.config-form').trigger('submit');\n    });\n\n    $('#pageSettingsModalCloseButton,#pageSettingsModalCancelButton').on('click', function () {\n        $(selector + ' .page_settings').replaceWith($clone);\n        $('#pageSettingsModal').modal('hide');\n    });\n\n    $('#pageSettingsModal').modal('show');\n    $('#pageSettingsModal').find('.modal-body').first().html($(selector));\n    $(selector).css('display', 'block');\n}\n\nfunction showPageSettings () {\n    showSettings('#page_settings_modal');\n}\n\nfunction showNaviSettings () {\n    showSettings('#pma_navigation_settings');\n}\n\nconst PageSettings = {\n    /**\n     * @return {void}\n     */\n    off: () => {\n        $('#page_settings_icon').css('display', 'none');\n        $('#page_settings_icon').off('click');\n        $('#pma_navigation_settings_icon').off('click');\n    },\n\n    /**\n     * @return {void}\n     */\n    on: () => {\n        if ($('#page_settings_modal').length) {\n            $('#page_settings_icon').css('display', 'inline');\n            $('#page_settings_icon').on('click', showPageSettings);\n        }\n        $('#pma_navigation_settings_icon').on('click', showNaviSettings);\n    },\n};\n\nexport { PageSettings };\n"],"names":["$","AJAX","Functions","KeyHandlerEvents","Navigation","PageSettings","crossFramingProtection","Indexes","Config","registerOnload","removeSubmitEvents","loadEventHandler","document","on","requestHandler","getFatalErrorHandler","registerTeardown","off","ajaxPrefilter","addNoCacheToAjaxRequests","dismissNotifications","initializeMenuResizer","floatingMenuBar","breadcrumbScrollToTop","onload","checkNumberOfFields","window","allowThirdPartyFraming","self","top","location","styleElement","getElementById","parentNode","removeChild","ctrlKeyHistory","onKeyDownArrowsHandler","event","e","o","srcElement","target","tagName","which","id","type","preventDefault","pos","split","x","y","keyCode","nO","focus","select","returnValue","originalEvent","showSettings","selector","$clone","clone","trigger","replaceWith","modal","find","first","html","css","showPageSettings","showNaviSettings","length"],"sourceRoot":""}